<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><meta name="theme-color" content="#123456"><meta name="generator" content="Hexo 4.2.0"><title>Hello, NilEra :-)</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hello, NilEra :-)"><meta name="msapplication-TileImage" content="/img/StarLogo.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hello, NilEra :-)"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="åŠªåŠ›åšè‡ªå·±å–œæ¬¢çš„äº‹"><meta property="og:type" content="blog"><meta property="og:title" content="Hello, NilEra :-)"><meta property="og:url" content="https://hello-nilera.com/"><meta property="og:site_name" content="Hello, NilEra :-)"><meta property="og:description" content="åŠªåŠ›åšè‡ªå·±å–œæ¬¢çš„äº‹"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://hello-nilera.com/img/og_image.png"><meta property="article:author" content="NilEra"><meta property="article:tag" content="Hello NilEra"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://hello-nilera.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hello-nilera.com"},"headline":"Hello, NilEra :-)","image":["https://hello-nilera.com/img/og_image.png"],"author":{"@type":"Person","name":"NilEra"},"publisher":{"@type":"Organization","name":"Hello, NilEra :-)","logo":{"@type":"ImageObject","url":"https://hello-nilera.com/img/StarLogo.svg"}},"description":"åŠªåŠ›åšè‡ªå·±å–œæ¬¢çš„äº‹"}</script><link rel="icon" href="/img/StarLogo.svg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/6.0.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?249654dcf9a3bf70708fdfc6e2b1ec2b";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><meta name="msvalidate.01" content="F6BD78C6BD0096D2218CF88334111125"><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdnjs.loli.net/ajax/libs/pace/1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/StarLogo.svg" alt="Hello, NilEra :-)" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">é¦–é¡µ</a><a class="navbar-item" href="/archives">å½’æ¡£</a><a class="navbar-item" href="/categories">ç›®å½•</a><a class="navbar-item" href="/tags">æ ‡ç­¾</a><a class="navbar-item" href="/about">å…³äº</a><a class="navbar-item" href="/me">æˆ‘</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/NilEra-K"><i class="fab fa-github"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-08-01T07:29:16.000Z" title="2024/8/1 15:29:16">2024-08-01</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-08-01T12:30:28.902Z" title="2024/8/1 20:30:28">2024-08-01</time>æ›´æ–°</span><span class="level-item">2 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦284ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/01/LLM-General-Education/">LLM_General_Education</a></p><div class="content"><h2 id="ğŸ¤—-å¤§è¯­è¨€æ¨¡å‹é€šè¯†"><a href="#ğŸ¤—-å¤§è¯­è¨€æ¨¡å‹é€šè¯†" class="headerlink" title="ğŸ¤— å¤§è¯­è¨€æ¨¡å‹é€šè¯†"></a>ğŸ¤— å¤§è¯­è¨€æ¨¡å‹é€šè¯†</h2><h3 id="å¤§è¯­è¨€æ¨¡å‹"><a href="#å¤§è¯­è¨€æ¨¡å‹" class="headerlink" title="å¤§è¯­è¨€æ¨¡å‹"></a>å¤§è¯­è¨€æ¨¡å‹</h3><p>é¦–å…ˆè¦ææ¸…æ¥šï¼Œæœ¬åœ°å¯ä»¥éƒ¨ç½²ä»€ä¹ˆå¤§æ¨¡å‹ï¼Œå–å†³äºä¸ªäººç”µè„‘çš„ç¡¬ä»¶é…ç½®ï¼Œå°¤å…¶éœ€è¦å…³æ³¨GPUçš„æ˜¾å­˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦æœ¬åœ°æœºå™¨GPUçš„æ˜¾å­˜èƒ½å¤Ÿæ»¡è¶³å¤§æ¨¡å‹çš„è¦æ±‚ï¼Œé‚£åŸºæœ¬ä¸Šéƒ½å¯ä»¥æœ¬åœ°éƒ¨ç½²ã€‚</p>
<p>é‚£ä¹ˆå¤§æ¨¡å‹ç±»åˆ«è¿™ä¹ˆå¤šï¼Œæœ‰7Bã€13Bã€70Bç­‰ç­‰ï¼ŒGPUæ˜¾å­˜å¦‚ä½•å‡†å¤‡å‘¢ï¼Ÿ</p>
<p>åœ¨æ²¡æœ‰è€ƒè™‘ä»»ä½•æ¨¡å‹é‡åŒ–æŠ€æœ¯çš„å‰æä¸‹ï¼Œæœ‰å…¬å¼å¦‚ä¸‹ï¼š<br>$$<br>GB &#x3D; B Ã— 2<br>$$</p>
<p>å…¶ä¸­ä¸º <em><strong>GB</strong></em> æ¨¡å‹æ˜¾å­˜å ç”¨ï¼Œ<em><strong>B</strong></em> ä¸ºå¤§æ¨¡å‹å‚æ•°é‡ã€‚</p>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv33371756/">AIå¤§æ¨¡å‹æœ¬åœ°åŒ–éƒ¨ç½²Q&#x2F;Aç¡¬ä»¶ç¯‡</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_35054222/article/details/139123564">å¦‚ä½•æ‰¾åˆ°æœ€æ–°çš„å¤§æ¨¡å‹ã€å¦‚ä½•åˆ¤æ–­æœ¬åœ°ç¡¬ä»¶æ˜¯å¦æ»¡è¶³å¤§æ¨¡å‹éœ€æ±‚ã€å¦‚ä½•å¿«é€Ÿéƒ¨ç½²å¤§æ¨¡å‹</a></p>
<p><a target="_blank" rel="noopener" href="https://www.datalearner.com/ai-models/leaderboard/datalearner-llm-leaderboard">å¤§æ¨¡å‹ç»¼åˆè¯„æµ‹å¯¹æ¯” | å½“å‰ä¸»æµå¤§æ¨¡å‹åœ¨å„è¯„æµ‹æ•°æ®é›†ä¸Šçš„è¡¨ç°æ€»æ¦œå• | æ•°æ®å­¦ä¹  (DataLearner)</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-30T14:55:47.000Z" title="2024/7/30 22:55:47">2024-07-30</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-07-31T09:22:55.139Z" title="2024/7/31 17:22:55">2024-07-31</time>æ›´æ–°</span><span class="level-item">30 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦4524ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/30/MyBatisPlus/">MyBatisPlus</a></p><div class="content"><h2 id="ğŸ¦MyBatis-Plus"><a href="#ğŸ¦MyBatis-Plus" class="headerlink" title="ğŸ¦MyBatis-Plus"></a>ğŸ¦MyBatis-Plus</h2><p>[TOC]</p>
<h3 id="ğŸšª-1-å¿«é€Ÿå…¥é—¨"><a href="#ğŸšª-1-å¿«é€Ÿå…¥é—¨" class="headerlink" title="ğŸšª 1. å¿«é€Ÿå…¥é—¨"></a>ğŸšª 1. å¿«é€Ÿå…¥é—¨</h3><h4 id="1-1-å…¥é—¨æ¡ˆä¾‹"><a href="#1-1-å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="1.1 å…¥é—¨æ¡ˆä¾‹"></a>1.1 å…¥é—¨æ¡ˆä¾‹</h4><p>å…¥é—¨æ¡ˆä¾‹ï¼šåŸºäºè¯¾å‰èµ„æ–™æä¾›çš„é¡¹ç›®ï¼Œå®ç°ä¸‹åˆ—åŠŸèƒ½:</p>
<ul>
<li>æ–°å¢ç”¨æˆ·åŠŸèƒ½</li>
<li>æ ¹æ® <code>id</code> æŸ¥è¯¢ç”¨æˆ·</li>
<li>æ ¹æ® <code>id</code> æ‰¹é‡æŸ¥è¯¢ç”¨æˆ·</li>
<li>æ ¹æ® <code>id</code> æ›´æ–°ç”¨æˆ·</li>
<li>æ ¹æ® <code>id</code> åˆ é™¤ç”¨æˆ·</li>
</ul>
<h5 id="1-1-1-å¼•å…¥-MyBatis-Plus-çš„ä¾èµ–"><a href="#1-1-1-å¼•å…¥-MyBatis-Plus-çš„ä¾èµ–" class="headerlink" title="1.1.1 å¼•å…¥ MyBatis-Plus çš„ä¾èµ–"></a>1.1.1 å¼•å…¥ <code>MyBatis-Plus</code> çš„ä¾èµ–</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- MyBatisPlus --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="1-1-2-å®šä¹‰-Mapper"><a href="#1-1-2-å®šä¹‰-Mapper" class="headerlink" title="1.1.2 å®šä¹‰ Mapper"></a>1.1.2 å®šä¹‰ <code>Mapper</code></h5><p>è‡ªå®šä¹‰çš„ <code>Mapper</code> ç»§æ‰¿ <code>MybatisPlus</code>æä¾›çš„ <code>BaseMapper</code> æ¥å£ã€‚</p>
<p><code>BaseMapper&lt;T&gt;</code> ç»™æˆ‘ä»¬æä¾›äº†å¾ˆå¤šåŸºç¡€æ–¹æ³•ï¼Œå¦‚å¸¸ç”¨çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥ç­‰æ“ä½œã€‚</p>
<p><img src="/./MyBatisPlus/BaseMapperInterface.png" alt="BaseMapperInterface"> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123; &#125;</span><br></pre></td></tr></table></figure>

<h5 id="1-1-3-ç›´æ¥ä½¿ç”¨"><a href="#1-1-3-ç›´æ¥ä½¿ç”¨" class="headerlink" title="1.1.3 ç›´æ¥ä½¿ç”¨"></a>1.1.3 ç›´æ¥ä½¿ç”¨</h5><p>åšå®Œä¸Šé¢ä¸¤æ­¥æ“ä½œï¼Œæ­¤æ—¶æˆ‘ä»¬ä¸éœ€è¦å†ç¼–å†™å¤æ‚çš„ <code>SQL</code> è¯­å¥å³å¯å¯¹æ•°æ®åº“è¿›è¡Œå¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œã€‚</p>
<p>å½“ç„¶å¯¹äºåŸæœ‰ <code>MyBatis</code> æ“ä½œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå› ä¸º <code>MyBatis-Plus</code> å¯¹ <code>MyBatis</code> æ˜¯éä¾µå…¥çš„ï¼Œä½“ç°äº†å…¶<strong>æ¶¦ç‰©æ— å£°</strong>çš„ç‰¹ç‚¹ã€‚</p>
<h4 id="1-2-å¸¸è§æ³¨è§£"><a href="#1-2-å¸¸è§æ³¨è§£" class="headerlink" title="1.2 å¸¸è§æ³¨è§£"></a>1.2 å¸¸è§æ³¨è§£</h4><p>åœ¨åˆæ¬¡ä½¿ç”¨ <code>MyBatis-Plus</code> æ—¶ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰æŒ‡å®šè¦æ‰§è¡Œæ“ä½œçš„è¡¨ä¿¡æ¯å’Œå­—æ®µä¿¡æ¯ï¼Œé‚£ä¹ˆ <code>Mybatis-Plus</code> æ˜¯å¦‚ä½•çŸ¥é“æˆ‘ä»¬è¦æŸ¥è¯¢çš„æ˜¯å“ªå¼ è¡¨ï¼Ÿè¡¨ä¸­æœ‰å“ªäº›å­—æ®µå‘¢ï¼Ÿ</p>
<p><code>MyBatisPlus</code> é€šè¿‡æ‰«æå®ä½“ç±»ï¼Œå¹¶åŸºäº<strong>åå°„</strong>è·å–å®ä½“ç±»ä¿¡æ¯ä½œä¸ºæ•°æ®åº“è¡¨ä¿¡æ¯ã€‚</p>
<p>åœ¨å…¥é—¨æ¡ˆä¾‹ä¸­ <code>1.1.2</code> å®šä¹‰ <code>Mapper</code> æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç‰¹åˆ«æŒ‡å®šæ³›å‹ç±»å³ <code>&lt;User&gt;</code>ã€‚æ³›å‹ä¸­çš„ <code>User</code> å°±æ˜¯ä¸æ•°æ®åº“å¯¹åº”çš„ POã€‚</p>
<p><code>MyBatis-Plus</code> å°±æ˜¯æ ¹æ® PO å®ä½“çš„ä¿¡æ¯æ¥æ¨æ–­å‡ºè¡¨çš„ä¿¡æ¯ï¼Œä»è€Œç”Ÿæˆ <code>SQL</code> çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼š</p>
<ul>
<li><code>MyBatis-Plus</code> ä¼šæŠŠ PO å®ä½“çš„ç±»åé©¼å³°è½¬ä¸‹åˆ’çº¿ä½œä¸ºè¡¨åï¼Œå¦‚ç±»åä¸º <code>UserInfo</code>ï¼Œåå°„çš„è¡¨åä¸º <code>user_info</code>ï¼›</li>
<li><code>MyBatis-Plus</code> ä¼šæŠŠ PO å®ä½“çš„æ‰€æœ‰å˜é‡åé©¼å³°è½¬ä¸‹åˆ’çº¿ä½œä¸ºè¡¨çš„å­—æ®µåï¼Œå¹¶æ ¹æ®å˜é‡ç±»å‹æ¨æ–­å­—æ®µç±»å‹ï¼›</li>
<li><code>MyBatis-Plus</code> ä¼šæŠŠåä¸º <code>id</code> çš„å­—æ®µä½œä¸ºä¸»é”®ã€‚</li>
</ul>
<p>ä½†å¾ˆå¤šæƒ…å†µä¸‹ï¼Œé»˜è®¤çš„å®ç°ä¸å®é™…åœºæ™¯ä¸ç¬¦ï¼Œå› æ­¤ <code>MyBatis-Plus</code> æä¾›äº†ä¸€äº›æ³¨è§£ä¾¿äºæˆ‘ä»¬å£°æ˜è¡¨ä¿¡æ¯ã€‚</p>
<h5 id="1-2-1-TableName-æ³¨è§£"><a href="#1-2-1-TableName-æ³¨è§£" class="headerlink" title="1.2.1 @TableName æ³¨è§£"></a>1.2.1 <code>@TableName</code> æ³¨è§£</h5><ul>
<li>æè¿°ï¼šè¡¨åæ³¨è§£ï¼Œæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„è¡¨</li>
<li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ ‡æ³¨å®ä½“ç±»å¯¹åº”çš„è¡¨å */</span></span><br><span class="line"><span class="meta">@TableName(&quot;t_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@TableName</code> æ³¨è§£é™¤äº†æŒ‡å®šè¡¨åä»¥å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šå¾ˆå¤šå…¶å®ƒå±æ€§ï¼š</p>
<table>
<thead>
<tr>
<th><strong>å±æ€§</strong></th>
<th><strong>ç±»å‹</strong></th>
<th><strong>å¿…é¡»æŒ‡å®š</strong></th>
<th><strong>é»˜è®¤å€¼</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>String</td>
<td>å¦</td>
<td>â€œâ€</td>
<td>è¡¨å</td>
</tr>
<tr>
<td>schema</td>
<td>String</td>
<td>å¦</td>
<td>â€œâ€</td>
<td>schema</td>
</tr>
<tr>
<td>keepGlobalPrefix</td>
<td>boolean</td>
<td>å¦</td>
<td>false</td>
<td>æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ tablePrefix çš„å€¼ï¼ˆå½“å…¨å±€ tablePrefix ç”Ÿæ•ˆæ—¶ï¼‰</td>
</tr>
<tr>
<td>resultMap</td>
<td>String</td>
<td>å¦</td>
<td>â€œâ€</td>
<td>xml ä¸­ resultMap çš„ idï¼ˆç”¨äºæ»¡è¶³ç‰¹å®šç±»å‹çš„å®ä½“ç±»å¯¹è±¡ç»‘å®šï¼‰</td>
</tr>
<tr>
<td>autoResultMap</td>
<td>boolean</td>
<td>å¦</td>
<td>false</td>
<td>æ˜¯å¦è‡ªåŠ¨æ„å»º resultMap å¹¶ä½¿ç”¨ï¼ˆå¦‚æœè®¾ç½® resultMap åˆ™ä¸ä¼šè¿›è¡Œ resultMap çš„è‡ªåŠ¨æ„å»ºä¸æ³¨å…¥ï¼‰</td>
</tr>
<tr>
<td>excludeProperty</td>
<td>String[]</td>
<td>å¦</td>
<td>{}</td>
<td>éœ€è¦æ’é™¤çš„å±æ€§å @since 3.3.1</td>
</tr>
</tbody></table>
<h5 id="1-2-2-TableId-æ³¨è§£"><a href="#1-2-2-TableId-æ³¨è§£" class="headerlink" title="1.2.2 @TableId æ³¨è§£"></a>1.2.2 <code>@TableId</code> æ³¨è§£</h5><ul>
<li>æè¿°ï¼šä¸»é”®æ³¨è§£ï¼Œæ ‡è¯†å®ä½“ç±»ä¸­çš„ä¸»é”®å­—æ®µ</li>
<li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±»çš„ä¸»é”®å­—æ®µ</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName(&quot;t_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(value=&quot;id&quot;, type=IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>TableId</code> æ³¨è§£æ”¯æŒä¸¤ä¸ªå±æ€§ï¼š</p>
<table>
<thead>
<tr>
<th align="left"><strong>å±æ€§</strong></th>
<th align="left"><strong>ç±»å‹</strong></th>
<th align="left"><strong>å¿…é¡»æŒ‡å®š</strong></th>
<th align="left"><strong>é»˜è®¤å€¼</strong></th>
<th align="left"><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>value</code></td>
<td align="left"><code>String</code></td>
<td align="left">å¦</td>
<td align="left">â€œâ€</td>
<td align="left">è¡¨å</td>
</tr>
<tr>
<td align="left"><code>type</code></td>
<td align="left"><code>Enum</code></td>
<td align="left">å¦</td>
<td align="left"><code>IdType.NONE</code></td>
<td align="left">æŒ‡å®šä¸»é”®ç±»å‹</td>
</tr>
</tbody></table>
<p><code>IdType</code>æ”¯æŒçš„ç±»å‹æœ‰ï¼š</p>
<table>
<thead>
<tr>
<th align="left"><strong>å€¼</strong></th>
<th align="left"><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>AUTO</code></td>
<td align="left">æ•°æ®åº“ <code>ID</code> è‡ªå¢</td>
</tr>
<tr>
<td align="left"><code>NONE</code></td>
<td align="left">æ— çŠ¶æ€ï¼Œè¯¥ç±»å‹ä¸ºæœªè®¾ç½®ä¸»é”®ç±»å‹ï¼ˆæ³¨è§£é‡Œç­‰äºè·Ÿéšå…¨å±€ï¼Œå…¨å±€é‡Œçº¦ç­‰äº <code>INPUT</code>ï¼‰</td>
</tr>
<tr>
<td align="left"><code>INPUT</code></td>
<td align="left"><code>insert</code> å‰è‡ªè¡Œ <code>set</code> ä¸»é”®å€¼</td>
</tr>
<tr>
<td align="left"><code>ASSIGN_ID</code></td>
<td align="left">åˆ†é… <code>ID</code>ï¼ˆä¸»é”®ç±»å‹ä¸º <code>Number</code>ï¼ˆ<code>Long</code> å’Œ <code>Integer</code>ï¼‰æˆ–ï¼ˆ<code>String</code>ï¼‰<em>ï¼ˆsince 3.3.0ï¼‰</em>ï¼Œä½¿ç”¨æ¥å£<code>IdentifierGenerator</code> çš„æ–¹æ³• <code>nextId</code> ï¼ˆé»˜è®¤å®ç°ç±»ä¸º <code>DefaultIdentifierGenerator</code> é›ªèŠ±ç®—æ³•ï¼‰</td>
</tr>
<tr>
<td align="left"><code>ASSIGN_UUID</code></td>
<td align="left">åˆ†é… <code>UUID</code>ï¼Œä¸»é”®ç±»å‹ä¸º <code>String</code>*(since 3.3.0)*ï¼Œä½¿ç”¨æ¥å£ <code>IdentifierGenerator</code> çš„æ–¹æ³• <code>nextUUID</code>ï¼ˆé»˜è®¤ <code>default</code> æ–¹æ³•ï¼‰</td>
</tr>
<tr>
<td align="left"><code>ID_WORKER</code></td>
<td align="left">åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ ID é•¿æ•´å‹ç±»å‹(please use ASSIGN_ID)</td>
</tr>
<tr>
<td align="left"><code>UUID</code></td>
<td align="left"><code>32</code> ä½ <code>UUID</code> å­—ç¬¦ä¸²ï¼ˆplease use ASSIGN_UUIDï¼‰</td>
</tr>
<tr>
<td align="left"><code>ID_WORKER_STR</code></td>
<td align="left">åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ ID å­—ç¬¦ä¸²ç±»å‹(please use ASSIGN_ID)</td>
</tr>
</tbody></table>
<p>è¿™é‡Œæ¯”è¾ƒå¸¸è§çš„æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li><code>AUTO</code>ï¼šåˆ©ç”¨æ•°æ®åº“çš„ <code>id</code> è‡ªå¢é•¿</li>
<li><code>INPUT</code>ï¼šæ‰‹åŠ¨ç”Ÿæˆ <code>id</code></li>
<li><code>ASSIGN_ID</code>ï¼šé›ªèŠ±ç®—æ³•ç”Ÿæˆ <code>Long</code> ç±»å‹çš„å…¨å±€å”¯ä¸€ <code>id</code>ï¼Œè¿™æ˜¯é»˜è®¤çš„IDç­–ç•¥</li>
</ul>
<h5 id="1-2-3-TableField-æ³¨è§£"><a href="#1-2-3-TableField-æ³¨è§£" class="headerlink" title="1.2.3 @TableField æ³¨è§£"></a>1.2.3 <code>@TableField</code> æ³¨è§£</h5><ul>
<li><p>æè¿°ï¼šæ™®é€šå­—æ®µæ³¨è§£</p>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName(&quot;user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(value=&quot;u_id&quot;, type=IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@TableField(&quot;username&quot;)</span>		<span class="comment">// æˆå‘˜å˜é‡åä¸æ•°æ®åº“å­—æ®µåä¸ä¸€è‡´</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@TableField(&quot;isMarried&quot;)</span>	<span class="comment">// æˆå‘˜å˜é‡æ˜¯ä»¥ `isXXX` å‘½å</span></span><br><span class="line">    <span class="keyword">private</span> Boolean isMarried;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@TableField(&quot;`concat`&quot;)</span>		<span class="comment">// æˆå‘˜å˜é‡åä¸æ•°æ®åº“ä¸€è‡´, ä½†æ˜¯ä¸æ•°æ®åº“çš„å…³é”®å­—å†²çª</span></span><br><span class="line">    <span class="keyword">private</span> String concat;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(exist = false)</span>	<span class="comment">// æˆå‘˜å˜é‡ä¸æ˜¯æ•°æ®åº“å­—æ®µ</span></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬å¹¶ä¸éœ€è¦ç»™å­—æ®µæ·»åŠ  <code>@TableField</code> æ³¨è§£ï¼Œä¸€äº›ç‰¹æ®Šæƒ…å†µé™¤å¤–ï¼š</p>
<ul>
<li>æˆå‘˜å˜é‡åä¸æ•°æ®åº“å­—æ®µåä¸ä¸€è‡´ï¼›</li>
<li>æˆå‘˜å˜é‡æ˜¯ä»¥ <code>isXXX</code> å‘½åï¼ŒæŒ‰ç…§<code>JavaBean</code>çš„è§„èŒƒï¼Œ<code>MyBatis-Plus</code>è¯†åˆ«å­—æ®µæ—¶ä¼šæŠŠ <code>is</code> å»é™¤ï¼Œè¿™å°±å¯¼è‡´ä¸æ•°æ®åº“ä¸ç¬¦ï¼›</li>
<li>æˆå‘˜å˜é‡åä¸æ•°æ®åº“ä¸€è‡´ï¼Œä½†æ˜¯ä¸æ•°æ®åº“çš„å…³é”®å­—å†²çªã€‚ä½¿ç”¨ <code>@TableField</code> æ³¨è§£ç»™å­—æ®µåæ·»åŠ è½¬ä¹‰å­—ç¬¦ï¼š<code>``</code>ï¼›</li>
<li>æˆå‘˜å˜é‡ä¸æ˜¯æ•°æ®åº“å­—æ®µï¼Œæ·»åŠ  <code>exist = false</code></li>
</ul>
<p>æ”¯æŒçš„å…¶å®ƒå±æ€§å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th><strong>å±æ€§</strong></th>
<th><strong>ç±»å‹</strong></th>
<th><strong>å¿…å¡«</strong></th>
<th><strong>é»˜è®¤å€¼</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>value</code></td>
<td><code>String</code></td>
<td>å¦</td>
<td>â€œâ€</td>
<td>æ•°æ®åº“å­—æ®µå</td>
</tr>
<tr>
<td><code>exist</code></td>
<td><code>boolean</code></td>
<td>å¦</td>
<td><code>true</code></td>
<td>æ˜¯å¦ä¸ºæ•°æ®åº“è¡¨å­—æ®µ</td>
</tr>
<tr>
<td><code>condition</code></td>
<td><code>String</code></td>
<td>å¦</td>
<td>â€œâ€</td>
<td>å­—æ®µ where å®ä½“æŸ¥è¯¢æ¯”è¾ƒæ¡ä»¶ï¼Œæœ‰å€¼è®¾ç½®åˆ™æŒ‰è®¾ç½®çš„å€¼ä¸ºå‡†ï¼Œæ²¡æœ‰åˆ™ä¸ºé»˜è®¤å…¨å±€çš„ <code>%s=#&#123;%s&#125;</code>ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/SqlCondition.java">å‚è€ƒ(opens new window)</a></td>
</tr>
<tr>
<td><code>update</code></td>
<td><code>String</code></td>
<td>å¦</td>
<td>â€œâ€</td>
<td>å­—æ®µ update set éƒ¨åˆ†æ³¨å…¥ï¼Œä¾‹å¦‚ï¼šå½“åœ¨versionå­—æ®µä¸Šæ³¨è§£<code>update=&quot;%s+1&quot;</code> è¡¨ç¤ºæ›´æ–°æ—¶ä¼š set version&#x3D;version+1 ï¼ˆè¯¥å±æ€§ä¼˜å…ˆçº§é«˜äº el å±æ€§ï¼‰</td>
</tr>
<tr>
<td><code>insertStrategy</code></td>
<td><code>Enum</code></td>
<td>å¦</td>
<td><code>FieldStrategy.DEFAULT</code></td>
<td>ä¸¾ä¾‹ï¼š<code>NOT_NULL insert into table_a(&lt;if test=&quot;columnProperty != null&quot;&gt;column&lt;/if&gt;) values (&lt;if test=&quot;columnProperty != null&quot;&gt;#&#123;columnProperty&#125;&lt;/if&gt;)</code></td>
</tr>
<tr>
<td><code>updateStrategy</code></td>
<td><code>Enum</code></td>
<td>å¦</td>
<td><code>FieldStrategy.DEFAULT</code></td>
<td>ä¸¾ä¾‹ï¼šIGNORED update table_a set column&#x3D;#{columnProperty}</td>
</tr>
<tr>
<td><code>whereStrategy</code></td>
<td><code>Enum</code></td>
<td>å¦</td>
<td><code>FieldStrategy.DEFAULT</code></td>
<td>ä¸¾ä¾‹ï¼š<code>NOT_EMPTY where &lt;if test=&quot;columnProperty != null and columnProperty!=&#39;&#39;&quot;&gt;column=#&#123;columnProperty&#125;&lt;/if&gt;</code></td>
</tr>
<tr>
<td><code>fill</code></td>
<td><code>Enum</code></td>
<td>å¦</td>
<td><code>FieldFill.DEFAULT</code></td>
<td>å­—æ®µè‡ªåŠ¨å¡«å……ç­–ç•¥</td>
</tr>
<tr>
<td><code>select</code></td>
<td><code>boolean</code></td>
<td>å¦</td>
<td><code>true</code></td>
<td>æ˜¯å¦è¿›è¡Œ <code>SELECT</code> æŸ¥è¯¢</td>
</tr>
<tr>
<td><code>keepGlobalFormat</code></td>
<td><code>boolean</code></td>
<td>å¦</td>
<td><code>false</code></td>
<td>æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ format è¿›è¡Œå¤„ç†</td>
</tr>
<tr>
<td><code>jdbcType</code></td>
<td><code>JdbcType</code></td>
<td>å¦</td>
<td><code>JdbcType.UNDEFINED</code></td>
<td>JDBC ç±»å‹ (è¯¥é»˜è®¤å€¼ä¸ä»£è¡¨ä¼šæŒ‰ç…§è¯¥å€¼ç”Ÿæ•ˆ)</td>
</tr>
<tr>
<td><code>typeHandler</code></td>
<td><code>TypeHander</code></td>
<td>å¦</td>
<td></td>
<td>ç±»å‹å¤„ç†å™¨ (è¯¥é»˜è®¤å€¼ä¸ä»£è¡¨ä¼šæŒ‰ç…§è¯¥å€¼ç”Ÿæ•ˆ)</td>
</tr>
<tr>
<td><code>numericScale</code></td>
<td><code>String</code></td>
<td>å¦</td>
<td>â€œâ€</td>
<td>æŒ‡å®šå°æ•°ç‚¹åä¿ç•™çš„ä½æ•°</td>
</tr>
</tbody></table>
<h4 id="1-3-å¸¸è§é…ç½®"><a href="#1-3-å¸¸è§é…ç½®" class="headerlink" title="1.3 å¸¸è§é…ç½®"></a>1.3 å¸¸è§é…ç½®</h4><p><code>MyBatis-Plus</code> ä¹Ÿæ”¯æŒåŸºäº <code>yaml</code> æ–‡ä»¶çš„è‡ªå®šä¹‰é…ç½®ï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://www.baomidou.com/pages/56bac0/#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE">MyBatis-Plus å®˜æ–¹æ–‡æ¡£</a></p>
<p>å¤§å¤šæ•°çš„é…ç½®éƒ½æœ‰é»˜è®¤å€¼ï¼Œå› æ­¤æˆ‘ä»¬éƒ½æ— éœ€é…ç½®ã€‚ä½†è¿˜æœ‰ä¸€äº›æ˜¯æ²¡æœ‰é»˜è®¤å€¼çš„ï¼Œä¾‹å¦‚:</p>
<ul>
<li>å®ä½“ç±»çš„åˆ«åæ‰«æåŒ…</li>
<li>å…¨å±€idç±»å‹</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">	<span class="attr">type-aliases-package:</span> <span class="string">com.itheima.mp.domain.po</span>		<span class="comment"># åˆ«åæ‰«æåŒ…</span></span><br><span class="line">	<span class="attr">mapper-locations:</span> <span class="string">&quot;classpath*:/mapper/**/*.xml&quot;</span> 	<span class="comment"># Mapper.xmlæ–‡ä»¶åœ°å€ï¼Œå½“å‰è¿™ä¸ªæ˜¯é»˜è®¤å€¼ã€‚</span></span><br><span class="line">	<span class="attr">configuration:</span></span><br><span class="line">  		<span class="attr">mapper-underscore-to-camel-case:</span> <span class="literal">true</span>			<span class="comment"># æ˜¯å¦å¼€å¯ä¸‹åˆ’çº¿é©¼å³°æ˜ å°„</span></span><br><span class="line">		<span class="attr">cache-enabled:</span> <span class="literal">false</span>							<span class="comment"># æ˜¯å¦å¼€å¯äºŒçº§ç¼“å­˜</span></span><br><span class="line">	<span class="attr">global-config:</span></span><br><span class="line">		<span class="attr">db-config:</span></span><br><span class="line">		<span class="attr">id-type:</span> <span class="string">auto</span> 									<span class="comment"># å…¨å±€ id ç±»å‹ä¸ºè‡ªå¢é•¿, å¯ä»¥æ›´æ¢ä¸ºå…¶ä»–æ–¹æ³•, å¦‚ assign_id</span></span><br><span class="line">		<span class="attr">update-strategy:</span> <span class="string">not_null</span>						<span class="comment"># æ›´æ–°ç­–ç•¥: åªæ›´æ–°éç©ºå­—æ®µ</span></span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>MyBatis-Plus</code>ä¹Ÿæ”¯æŒæ‰‹å†™ <code>SQL</code> çš„ï¼Œè€Œ <code>mapper</code> æ–‡ä»¶çš„è¯»å–åœ°å€å¯ä»¥é€šè¿‡ <code>mapper-locations</code> é…ç½®ï¼šé»˜è®¤å€¼æ˜¯<code>classpath*:/mapper/**/*.xml</code>ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªè¦æŠŠ <code>mapper.xml</code> æ–‡ä»¶æ”¾ç½®è¿™ä¸ªç›®å½•ä¸‹å°±ä¸€å®šä¼šè¢«åŠ è½½ã€‚</p>
<h3 id="ğŸ¥‘-2-æ ¸å¿ƒåŠŸèƒ½"><a href="#ğŸ¥‘-2-æ ¸å¿ƒåŠŸèƒ½" class="headerlink" title="ğŸ¥‘ 2. æ ¸å¿ƒåŠŸèƒ½"></a>ğŸ¥‘ 2. æ ¸å¿ƒåŠŸèƒ½</h3><p>å…¥é—¨æ¡ˆä¾‹ä¸­éƒ½æ˜¯ä»¥ <code>id</code> ä¸ºæ¡ä»¶çš„ç®€å•CRUDï¼Œä¸€äº›å¤æ‚æ¡ä»¶çš„ <code>SQL</code> è¯­å¥å°±è¦ç”¨åˆ°ä¸€äº›æ›´é«˜çº§çš„åŠŸèƒ½äº†ã€‚</p>
<h4 id="2-1-æ¡ä»¶æ„é€ å™¨"><a href="#2-1-æ¡ä»¶æ„é€ å™¨" class="headerlink" title="2.1 æ¡ä»¶æ„é€ å™¨"></a>2.1 æ¡ä»¶æ„é€ å™¨</h4><p>é™¤äº†æ–°å¢ä»¥å¤–ï¼Œä¿®æ”¹ã€åˆ é™¤ã€æŸ¥è¯¢çš„ <code>SQL</code> è¯­å¥éƒ½éœ€è¦æŒ‡å®š <code>WHERE</code> æ¡ä»¶ã€‚å› æ­¤ <code>BaseMapper</code> ä¸­æä¾›çš„ç›¸å…³æ–¹æ³•é™¤äº†ä»¥ <code>id</code> ä½œä¸º <code>WHERE</code> æ¡ä»¶ä»¥å¤–ï¼Œè¿˜æ”¯æŒæ›´åŠ å¤æ‚çš„ <code>WHERE</code>æ¡ä»¶ã€‚</p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=YWQ1ZTMzMTg4ZTRiNzFkYzFiNzc2YmU0N2I4OGJiZWFfS1F3dFZqVDU1TzVNSnB1VmJWS0MxNjVCVU1qYklzVGdfVG9rZW46QXlTUGJCVVVTb25wa3p4Y0x6SGNLTlhwblVjXzE3MjIzOTQwODg6MTcyMjM5NzY4OF9WNA" alt="img"></p>
<p>å‚æ•°ä¸­çš„ <code>Wrapper</code> å°±æ˜¯<strong>æ¡ä»¶æ„é€ </strong>çš„æŠ½è±¡ç±»ï¼Œå…¶ä¸‹æœ‰å¾ˆå¤šé»˜è®¤å®ç°ï¼Œç»§æ‰¿å…³ç³»å¦‚å›¾ï¼š</p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=Y2EwYmQzMWFjZTEzMmNkOTI4MDIyYzM1ZjExOWZlYTRfMW5nN1UxV3NrMHQxWHhWOHlPYWRZNmtJdGFTbmpBeVJfVG9rZW46WjFUU2JGUk1ubzZWaWp4Q1BDbmN6MmdEbjNlXzE3MjIzOTQwODg6MTcyMjM5NzY4OF9WNA" alt="img"></p>
<p><code>Wrapper</code> çš„å­ç±» <code>AbstractWrapper</code> æä¾›äº† <code>WHERE</code> ä¸­åŒ…å«çš„æ‰€æœ‰æ¡ä»¶æ„é€ æ–¹æ³•ï¼š</p>
<img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWRhOWZiYzNkODcyZjllYTk2Y2VmMmQyM2Q0ZmQzYTdfWkFMRXJSNmZyQ1dQQk1yY2h1Ujd3OHJpTHBNT2ZLUllfVG9rZW46RXlZeWJzZnBBb0FaVnF4V2p5YmNXSzNlbmFmXzE3MjIzOTQwODg6MTcyMjM5NzY4OF9WNA" alt="img" style="zoom: 67%;" />

<p>è€Œ <code>QueryWrapper</code> åœ¨ <code>AbstractWrapper</code> çš„åŸºç¡€ä¸Šæ‹“å±•äº†ä¸€ä¸ª <code>SELETE</code> æ–¹æ³•ï¼Œ<strong>å…è®¸æŒ‡å®šæŸ¥è¯¢å­—æ®µï¼š</strong></p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=YjU1MzEzNDYyMjE2MjIwNGUyZDk0NGNlNzJjNDU1NzRfdGxxZHV1c3hXQkxvcExwWW82MUhNTzBtSm14NHRsWFdfVG9rZW46RVVzUmJwaERQbzJNNTN4WjBrSGNCMWhFbmpoXzE3MjIzOTQwODg6MTcyMjM5NzY4OF9WNA" alt="img"></p>
<p>è€Œ <code>UpdateWrapper</code> åœ¨ <code>AbstractWrapper</code> çš„åŸºç¡€ä¸Šæ‹“å±•äº†ä¸€ä¸ª <code>SET</code> æ–¹æ³•ï¼Œ<strong>å…è®¸æŒ‡å®š <code>SQL</code> ä¸­çš„ <code>SET</code> éƒ¨åˆ†ï¼š</strong></p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=ZmI5OGUyOWU5ZWE4M2M1MWIwYjQ5MWZkOWQ0MDBkMWNfVk5xamtvSmNmV0VEUnFhcU9jSUU4a0s0SDhITkNDZ0ZfVG9rZW46TDZVRWJEZ1V5b0R4blZ4UW92SWNpYmEzbmRiXzE3MjIzOTQwODg6MTcyMjM5NzY4OF9WNA" alt="img"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹å¦‚ä½•åˆ©ç”¨ <code>Wrapper</code> å®ç°å¤æ‚æŸ¥è¯¢ã€‚</p>
<h5 id="2-1-1-QueryWrapper"><a href="#2-1-1-QueryWrapper" class="headerlink" title="2.1.1 QueryWrapper"></a>2.1.1 QueryWrapper</h5><p>æ— è®ºæ˜¯ä¿®æ”¹ã€åˆ é™¤ã€æŸ¥è¯¢ï¼Œéƒ½å¯ä»¥ä½¿ç”¨QueryWrapperæ¥æ„å»ºæŸ¥è¯¢æ¡ä»¶ã€‚</p>
<p>å½“å‰è¡¨çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>#</th>
<th>åç§°</th>
<th>æ•°æ®ç±»å‹</th>
<th>æ³¨é‡Š</th>
<th>é•¿åº¦&#x2F;é›†åˆ</th>
<th>é»˜è®¤</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>id</code></td>
<td><code>BIGINT</code></td>
<td>ç”¨æˆ·ID</td>
<td>19</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>2</td>
<td><code>username</code></td>
<td><code>VARCHAR</code></td>
<td>ç”¨æˆ·å</td>
<td>50</td>
<td>æ— é»˜è®¤å€¼</td>
</tr>
<tr>
<td>3</td>
<td><code>password</code></td>
<td><code>VARCHAR</code></td>
<td>å¯†ç </td>
<td>128</td>
<td>æ— é»˜è®¤å€¼</td>
</tr>
<tr>
<td>4</td>
<td><code>phone</code></td>
<td><code>VARCHAR</code></td>
<td>æ³¨å†Œæ‰‹æœºå·</td>
<td>20</td>
<td>NULL</td>
</tr>
<tr>
<td>5</td>
<td><code>info</code></td>
<td><code>JSON</code></td>
<td>è¯¦ç»†ä¿¡æ¯</td>
<td></td>
<td>æ— é»˜è®¤å€¼</td>
</tr>
<tr>
<td>6</td>
<td><code>status</code></td>
<td><code>INT</code></td>
<td>ä½¿ç”¨çŠ¶æ€(1: æ­£å¸¸ 2: å†»ç»“)</td>
<td>10</td>
<td>â€œ1â€</td>
</tr>
<tr>
<td>7</td>
<td><code>balance</code></td>
<td><code>INT</code></td>
<td>è´¦æˆ·ä½™é¢</td>
<td>10</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td><code>create_time</code></td>
<td><code>DATETIME</code></td>
<td>åˆ›å»ºæ—¶é—´</td>
<td></td>
<td>CURRENT_TIMESTAMP</td>
</tr>
<tr>
<td>9</td>
<td><code>update_time</code></td>
<td><code>DATETIME</code></td>
<td>æ›´æ–°æ—¶é—´</td>
<td></td>
<td>CURRENT_TIMESTAMP</td>
</tr>
</tbody></table>
<p>æ¥ä¸‹æ¥çœ‹ä¸€äº›ä¾‹å­ï¼š </p>
<p><strong>æŸ¥è¯¢</strong>ï¼šæŸ¥è¯¢å‡ºåå­—ä¸­å¸¦<code>o</code>çš„ï¼Œå­˜æ¬¾å¤§äºç­‰äº1000å…ƒçš„äººã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> id,username,info,balance</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">user</span></span><br><span class="line"><span class="keyword">WHERE</span> username <span class="keyword">LIKE</span> &quot;%o%&quot; <span class="keyword">AND</span> Balance <span class="operator">&gt;=</span> <span class="number">100</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testQueryWrapper</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1. æ„å»ºæŸ¥è¯¢æ¡ä»¶ WHERE name LIKE &quot;%o%&quot; AND balance &gt;= 1000</span></span><br><span class="line">    QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;User&gt;()</span><br><span class="line">            .select(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;username&quot;</span>, <span class="string">&quot;info&quot;</span>, <span class="string">&quot;balance&quot;</span>)</span><br><span class="line">            .like(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;o&quot;</span>)</span><br><span class="line">            .ge(<span class="string">&quot;balance&quot;</span>, <span class="number">1000</span>);</span><br><span class="line">    <span class="comment">// 2. æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">    List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ›´æ–°</strong>ï¼šæ›´æ–°ç”¨æˆ·åä¸º <code>Jack</code> çš„ç”¨æˆ·çš„ä½™é¢ä¸º <code>2000</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span></span><br><span class="line">	<span class="keyword">SET</span> balance<span class="operator">=</span><span class="number">2000</span></span><br><span class="line">	<span class="keyword">WHERE</span> (username<span class="operator">=</span>&quot;Jack&quot;)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testUpdateByQueryWrapper</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æ„å»ºæŸ¥è¯¢æ¡ä»¶ WHERE name=&quot;Jack&quot;</span></span><br><span class="line">    QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;User&gt;().eq(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;Jack&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.æ›´æ–°æ•°æ®, user ä¸­é NULL å­—æ®µéƒ½ä¼šä½œä¸º SET è¯­å¥</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setBalance(<span class="number">2000</span>);</span><br><span class="line">    userMapper.update(user, wrapper);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-1-2-UpdateWrapper"><a href="#2-1-2-UpdateWrapper" class="headerlink" title="2.1.2 UpdateWrapper"></a>2.1.2 UpdateWrapper</h5><p>åŸºäº <code>BaseMapper</code> ä¸­çš„ <code>UPDATE</code> æ–¹æ³•æ›´æ–°æ—¶åªèƒ½ç›´æ¥èµ‹å€¼ï¼Œå¯¹äºä¸€äº›å¤æ‚çš„éœ€æ±‚å°±éš¾ä»¥å®ç°ã€‚ </p>
<p>ä¾‹å¦‚ï¼šæ›´æ–° <code>id</code> ä¸º <code>1</code>ã€<code>2</code>ã€<code>4</code> çš„ç”¨æˆ·çš„ä½™é¢ï¼Œæ‰£ <code>200</code>ï¼Œå¯¹åº”çš„SQLåº”è¯¥æ˜¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE user <span class="type">SET</span> <span class="variable">balance</span> <span class="operator">=</span> balance - <span class="number">200</span> WHERE id <span class="title function_">in</span> <span class="params">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>)</span></span><br></pre></td></tr></table></figure>

<p><code>SET</code> çš„èµ‹å€¼ç»“æœæ˜¯åŸºäºå­—æ®µç°æœ‰å€¼çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦åˆ©ç”¨ <code>UpdateWrapper</code> ä¸­çš„ <code>setSql</code> åŠŸèƒ½äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testUpdateWrapper</span><span class="params">()</span> &#123;</span><br><span class="line">    List&lt;Long&gt; ids = List.of(<span class="number">1L</span>, <span class="number">2L</span>, <span class="number">4L</span>);</span><br><span class="line">    <span class="comment">// 1.ç”ŸæˆSQL</span></span><br><span class="line">    UpdateWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">UpdateWrapper</span>&lt;User&gt;()</span><br><span class="line">            .setSql(<span class="string">&quot;balance = balance - 200&quot;</span>) 	<span class="comment">// SET balance = balance - 200</span></span><br><span class="line">            .in(<span class="string">&quot;id&quot;</span>, ids); 					<span class="comment">// WHERE id in (1, 2, 4)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.æ›´æ–°, æ³¨æ„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ç»™null, ä¹Ÿå°±æ˜¯ä¸å¡«æ›´æ–°å­—æ®µå’Œæ•°æ®ï¼Œ</span></span><br><span class="line">    <span class="comment">// è€Œæ˜¯åŸºäº UpdateWrapper ä¸­çš„ setSQL æ¥æ›´æ–°</span></span><br><span class="line">    userMapper.update(<span class="literal">null</span>, wrapper);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-1-3-LambdaQueryWrapper"><a href="#2-1-3-LambdaQueryWrapper" class="headerlink" title="2.1.3 LambdaQueryWrapper"></a>2.1.3 LambdaQueryWrapper</h5><p>æ— è®ºæ˜¯ <code>QueryWrapper</code> è¿˜æ˜¯ <code>UpdateWrapper</code> åœ¨æ„é€ æ¡ä»¶çš„æ—¶å€™éƒ½éœ€è¦å†™æ­»å­—æ®µåç§°ï¼Œä¼šå‡ºç°å­—ç¬¦ä¸²<code>é­”æ³•å€¼</code>ã€‚è¿™åœ¨ç¼–ç¨‹è§„èŒƒä¸­æ˜¾ç„¶æ˜¯ä¸æ¨èçš„ã€‚ é‚£æ€ä¹ˆæ ·æ‰èƒ½ä¸å†™å­—æ®µåï¼Œåˆèƒ½çŸ¥é“å­—æ®µåå‘¢ï¼Ÿ</p>
<p>å…¶ä¸­ä¸€ç§åŠæ³•æ˜¯åŸºäºå˜é‡çš„ <code>getter</code> æ–¹æ³•ç»“åˆåå°„æŠ€æœ¯ã€‚å› æ­¤æˆ‘ä»¬åªè¦å°†æ¡ä»¶å¯¹åº”çš„å­—æ®µçš„ <code>getter</code> æ–¹æ³•ä¼ é€’ç»™ <code>MyBatis-Plus</code>ï¼Œå®ƒå°±èƒ½è®¡ç®—å‡ºå¯¹åº”çš„å˜é‡åäº†ã€‚è€Œä¼ é€’æ–¹æ³•å¯ä»¥ä½¿ç”¨ <code>JDK8</code> ä¸­çš„ <code>æ–¹æ³•å¼•ç”¨</code> å’Œ <code>Lambda</code> è¡¨è¾¾å¼ã€‚ å› æ­¤ <code>MyBatis-Plus</code> åˆæä¾›äº†ä¸€å¥—åŸºäº<code>Lambda</code> çš„ <code>Wrapper</code>ï¼ŒåŒ…å«ä¸¤ä¸ªï¼š</p>
<ul>
<li><code>LambdaQueryWrapper</code></li>
<li><code>LambdaUpdateWrapper</code></li>
</ul>
<p>åˆ†åˆ«å¯¹åº” <code>QueryWrapper</code> å’Œ <code>UpdateWrapper</code></p>
<p>å…¶ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testLambdaQueryWrapper</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æ„å»ºæ¡ä»¶ WHERE username LIKE &quot;%o%&quot; AND balance &gt;= 1000</span></span><br><span class="line">    QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    wrapper.lambda()</span><br><span class="line">            .select(User::getId, User::getUsername, User::getInfo, User::getBalance)</span><br><span class="line">            .like(User::getUsername, <span class="string">&quot;o&quot;</span>)</span><br><span class="line">            .ge(User::getBalance, <span class="number">1000</span>);</span><br><span class="line">    <span class="comment">// 2.æŸ¥è¯¢</span></span><br><span class="line">    List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-è‡ªå®šä¹‰-SQL"><a href="#2-2-è‡ªå®šä¹‰-SQL" class="headerlink" title="2.2 è‡ªå®šä¹‰ SQL"></a>2.2 è‡ªå®šä¹‰ SQL</h4><p>ä¸€èˆ¬ä¼ä¸šçš„å¼€å‘è§„èŒƒä¸­ï¼Œæ˜¯ä¸å…è®¸å¼€å‘äººå‘˜å°† <code>SQL</code> è„±ç¦»å‡º <code>Mapper</code> å±‚æˆ–è€… <code>mapper.xml</code> æ–‡ä»¶çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³è¦ä½¿ç”¨ <code>MyBatis-Plus</code> åˆæƒ³è¦éµå®ˆä¼ä¸šçš„å¼€å‘è§„èŒƒï¼Œåº”è¯¥å¦‚ä½•åšå‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>MyBatis-Plus</code> çš„ <code>Wrapper</code> æ¥æ„å»ºå¤æ‚çš„ <code>WHERE</code> æ¡ä»¶ï¼Œç„¶åè‡ªå·±å®šä¹‰ <code>SQL</code> è¯­å¥ä¸­å‰©ä¸‹çš„éƒ¨åˆ†ã€‚</p>
<p>â‘  åŸºäº <code>Wrapper</code> æ„é€  <code>WHERE</code> æ¡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Long&gt; ids = List.of(<span class="number">1L</span>, <span class="number">2L</span>, <span class="number">4L</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">amount</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. æ„é€ æ¡ä»¶</span></span><br><span class="line">LambdaQueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;User&gt;().in(User::getId, ids);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. è‡ªå®šä¹‰SQLæ–¹æ³•è°ƒç”¨</span></span><br><span class="line">userMapper.updateBalanceByIds(wrapper, amount);</span><br></pre></td></tr></table></figure>

<p>â‘¡ åœ¨ <code>mapper</code> æ–¹æ³•å‚æ•°ä¸­ç”¨ <code>@Param</code> æ³¨è§£å£°æ˜ <code>Wrapper</code> å˜é‡åç§°ï¼Œè¿™ä¸ªåç§°å¿…é¡»æ˜¯ <code>ew</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">updateBalanceByIds</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> LambdaQueryWrapper&lt;User&gt; wrapper, <span class="meta">@Param(&quot;amount&quot;)</span> <span class="type">int</span> amount)</span>;</span><br></pre></td></tr></table></figure>

<p>â‘¢ è‡ªå®šä¹‰ <code>SQL</code>ï¼Œå¹¶ä½¿ç”¨ <code>Wrapper</code> æ¡ä»¶ï¼Œè¿™é‡Œ <code>ew.customSqlSegment</code> æ˜¯ <code>Wrapper</code> çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºè·å–ç”¨æˆ·è‡ªå®šä¹‰SQLç‰‡æ®µã€‚å¦‚æœä½¿ç”¨å‡ºç°é—®é¢˜ï¼Œå‚è€ƒåšå®¢ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/xxNGchi/article/details/120681606">MyBatis-Plus ${ew.customSqlSegment} ä½¿ç”¨çš„å²è¯—çº§å¤§å‘-CSDNåšå®¢</a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateBalanceByIds&quot;</span>&gt;</span></span><br><span class="line">    UPDATE t_user SET balance = balance - #&#123;amount&#125; $&#123;ew.customSqlSegment&#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-3-Service-æ¥å£"><a href="#2-3-Service-æ¥å£" class="headerlink" title="2.3 Service æ¥å£"></a>2.3 <code>Service</code> æ¥å£</h4><p><code>MyBatis-Plus</code> ä¸ä»…æä¾›äº† <code>BaseMapper</code>ï¼Œè¿˜æä¾›äº†é€šç”¨çš„ <code>Service</code> æ¥å£åŠé»˜è®¤å®ç°ï¼Œå°è£…äº†ä¸€äº›å¸¸ç”¨çš„ <code>service</code> æ¨¡æ¿æ–¹æ³•ã€‚ é€šç”¨æ¥å£ä¸º <code>IService</code>ï¼Œé»˜è®¤å®ç°ä¸º <code>ServiceImpl</code>ï¼Œå…¶ä¸­å°è£…çš„æ–¹æ³•å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p>
<ul>
<li><code>save</code>ï¼šæ–°å¢</li>
<li><code>remove</code>ï¼šåˆ é™¤</li>
<li><code>update</code>ï¼šæ›´æ–°</li>
<li><code>get</code>ï¼šæŸ¥è¯¢å•ä¸ªç»“æœ</li>
<li><code>list</code>ï¼šæŸ¥è¯¢é›†åˆç»“æœ</li>
<li><code>count</code>ï¼šè®¡æ•°</li>
<li><code>page</code>ï¼šåˆ†é¡µæŸ¥è¯¢</li>
</ul>
<p><img src="/./MyBatisPlus/IServiceInterface.png" alt="IServiceInterface"></p>
<h5 id="2-3-1-CRUD"><a href="#2-3-1-CRUD" class="headerlink" title="2.3.1 CRUD"></a>2.3.1 CRUD</h5><p>é¦–å…ˆäº†è§£åŸºæœ¬çš„CRUDæ¥å£ã€‚</p>
<p><strong>æ–°å¢</strong>ï¼š</p>
<img src="./MyBatisPlus/IServiceSave.png" alt="" style="zoom: 50%;" />

<ul>
<li><code>save</code> æ˜¯æ–°å¢å•ä¸ªå…ƒç´ </li>
<li><code>saveBatch</code> æ˜¯æ‰¹é‡æ–°å¢</li>
<li><code>saveOrUpdate</code> æ˜¯æ ¹æ®idåˆ¤æ–­ï¼Œå¦‚æœæ•°æ®å­˜åœ¨å°±æ›´æ–°ï¼Œä¸å­˜åœ¨åˆ™æ–°å¢</li>
<li><code>saveOrUpdateBatch</code> æ˜¯æ‰¹é‡çš„æ–°å¢æˆ–ä¿®æ”¹</li>
</ul>
<p><strong>åˆ é™¤ï¼š</strong></p>
<img src="./MyBatisPlus/IServiceRemove.png" alt="IServiceRemove" style="zoom: 80%;" />

<ul>
<li><code>removeById</code>ï¼šæ ¹æ®idåˆ é™¤</li>
<li><code>removeByIds</code>ï¼šæ ¹æ®idæ‰¹é‡åˆ é™¤</li>
<li><code>removeByMap</code>ï¼šæ ¹æ®Mapä¸­çš„é”®å€¼å¯¹ä¸ºæ¡ä»¶åˆ é™¤</li>
<li><code>remove(Wrapper&lt;T&gt;)</code>ï¼šæ ¹æ®Wrapperæ¡ä»¶åˆ é™¤</li>
<li><code>~~removeBatchByIds~~</code>ï¼šæš‚ä¸æ”¯æŒ</li>
</ul>
<p><strong>ä¿®æ”¹ï¼š</strong></p>
<p><img src="/./MyBatisPlus/IServiceUpdate.png" alt="IServiceUpdate"></p>
<ul>
<li><code>updateById</code>ï¼šæ ¹æ®idä¿®æ”¹</li>
<li><code>update(Wrapper&lt;T&gt;)</code>ï¼šæ ¹æ®<code>UpdateWrapper</code>ä¿®æ”¹ï¼Œ<code>Wrapper</code>ä¸­åŒ…å«<code>set</code>å’Œ<code>where</code>éƒ¨åˆ†</li>
<li><code>update(Tï¼ŒWrapper&lt;T&gt;)</code>ï¼šæŒ‰ç…§<code>T</code>å†…çš„æ•°æ®ä¿®æ”¹ä¸<code>Wrapper</code>åŒ¹é…åˆ°çš„æ•°æ®</li>
<li><code>updateBatchById</code>ï¼šæ ¹æ®idæ‰¹é‡ä¿®æ”¹</li>
</ul>
<p><strong>Getï¼š</strong></p>
<p><img src="/./MyBatisPlus/IServiceGet.png" alt="IServiceGet"></p>
<ul>
<li><code>getById</code>ï¼šæ ¹æ® <code>id</code> æŸ¥è¯¢ <code>1</code> æ¡æ•°æ®</li>
<li><code>getOne(Wrapper&lt;T&gt;)</code>ï¼šæ ¹æ®<code>Wrapper</code> æŸ¥è¯¢ <code>1</code> æ¡æ•°æ®</li>
<li><code>getBaseMapper</code>ï¼šè·å–<code>Service</code> å†…çš„ <code>BaseMapper</code> å®ç°ï¼ŒæŸäº›æ—¶å€™éœ€è¦ç›´æ¥è°ƒç”¨ <code>Mapper</code> å†…çš„è‡ªå®šä¹‰ <code>SQL</code> æ—¶å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•è·å–åˆ° <code>Mapper</code></li>
</ul>
<p><strong>Listï¼š</strong></p>
<p><img src="/./MyBatisPlus/IServiceList.png" alt="IServiceList"></p>
<ul>
<li><code>listByIds</code>ï¼šæ ¹æ®idæ‰¹é‡æŸ¥è¯¢</li>
<li><code>list(Wrapper&lt;T&gt;)</code>ï¼šæ ¹æ®Wrapperæ¡ä»¶æŸ¥è¯¢å¤šæ¡æ•°æ®</li>
<li><code>list()</code>ï¼šæŸ¥è¯¢æ‰€æœ‰</li>
</ul>
<p><strong>Count</strong>ï¼š</p>
<p><img src="/./MyBatisPlus/IServiceCount.png" alt="IServiceCount"></p>
<ul>
<li><code>count()</code>ï¼šç»Ÿè®¡æ‰€æœ‰æ•°é‡</li>
<li><code>count(Wrapper&lt;T&gt;)</code>ï¼šç»Ÿè®¡ç¬¦åˆ<code>Wrapper</code>æ¡ä»¶çš„æ•°æ®æ•°é‡</li>
</ul>
<p><strong>getBaseMapper</strong>ï¼š å½“æˆ‘ä»¬åœ¨serviceä¸­è¦è°ƒç”¨Mapperä¸­è‡ªå®šä¹‰SQLæ—¶ï¼Œå°±å¿…é¡»è·å–serviceå¯¹åº”çš„Mapperï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼š</p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=MGM1NDYyZmU0NjEyZmE1MTY1ZDBhZDM5NTMzNWQ1YjlfQ1pCTVFyWEt6cWV4bjdDSkE0NDFjazRrYWpSeUxTVTdfVG9rZW46TFdqc2JTMVUzb1JCdXh4MWhDMGMxMzdBbmpoXzE3MjI0MTI1ODk6MTcyMjQxNjE4OV9WNA" alt="img"></p>
<h5 id="2-3-2-åŸºæœ¬ç”¨æ³•"><a href="#2-3-2-åŸºæœ¬ç”¨æ³•" class="headerlink" title="2.3.2 åŸºæœ¬ç”¨æ³•"></a>2.3.2 åŸºæœ¬ç”¨æ³•</h5><p>ç”±äº <code>Service</code> ä¸­ç»å¸¸éœ€è¦å®šä¹‰ä¸ä¸šåŠ¡æœ‰å…³çš„è‡ªå®šä¹‰æ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½ç›´æ¥ä½¿ç”¨ <code>IService</code>ï¼Œè€Œæ˜¯è‡ªå®šä¹‰ <code>Service</code> æ¥å£ï¼Œç„¶åç»§æ‰¿ <code>IService</code> ä»¥æ‹“å±•æ–¹æ³•ã€‚åŒæ—¶ï¼Œè®©è‡ªå®šä¹‰çš„ <code>Serviceå®ç°ç±»</code> ç»§æ‰¿ <code>ServiceImpl</code>ï¼Œè¿™æ ·å°±ä¸ç”¨è‡ªå·±å®ç° <code>IService</code> ä¸­çš„æ¥å£äº†ã€‚</p>
<p>å…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>â‘  é¦–å…ˆï¼Œå®šä¹‰ <code>IUserService</code> ç±»ï¼Œç»§æ‰¿ <code>IService</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.mp.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itheima.mp.domain.po.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">IUserService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;User&gt; &#123;</span><br><span class="line">    <span class="comment">// æ‹“å±•è‡ªå®šä¹‰æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â‘¡ ç„¶åï¼Œç¼–å†™ <code>UserServiceImpl</code> ç±»ï¼Œç»§æ‰¿ <code>ServiceImpl</code>ï¼Œå®ç° <code>UserService</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.mp.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itheima.mp.domain.po.User;</span><br><span class="line"><span class="keyword">import</span> com.itheima.mp.domain.po.service.IUserService;</span><br><span class="line"><span class="keyword">import</span> com.itheima.mp.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;UserMapper, User&gt; <span class="keyword">implements</span> <span class="title class_">IUserService</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=MjZmNzNiNWRlZmQ1MzU1YjYyN2VmYzgzNmNiNTBiOGZfblhsa1NaS1NSbXFpUlByaWNDU1NrcGtmMWIyMXpndVRfVG9rZW46S1BYcGJkM3Y4b2pZVkt4ZHhFUmNmcHpPbnJnXzE3MjI0MDkzNTg6MTcyMjQxMjk1OF9WNA" alt="img"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åŸºäº <code>RESTful</code> é£æ ¼å¿«é€Ÿå®ç°ä¸‹é¢å‡ ä¸ªæ¥å£ï¼ˆ<a target="_blank" rel="noopener" href="https://blog.csdn.net/SeniorShen/article/details/111591122">ä»€ä¹ˆæ˜¯<code>RESTful</code>é£æ ¼</a>ï¼‰ï¼š</p>
<p>ç®€å•ç†è§£ <code>REST</code> å°±æ˜¯ï¼š<code>URL</code> ä¸­åªä½¿ç”¨åè¯æ¥å®šä½èµ„æºï¼Œç”¨ <code>HTTP</code> åè®®é‡Œçš„åŠ¨è¯ï¼ˆ<code>GET</code>ã€<code>POST</code>ã€<code>PUT</code>ã€<code>DELETE</code>ï¼‰æ¥å®ç°èµ„æºçš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚</p>
<p>ä»€ä¹ˆæ˜¯ <code>RESTful</code>ï¼š</p>
<ul>
<li>ä½¿ç”¨å®¢æˆ·&#x2F;æœåŠ¡å™¨ï¼ˆB&#x2F;Sã€ C&#x2F;Sï¼‰æ¨¡å‹ï¼šå®¢æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´é€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥äº’ç›¸é€šè®¯ã€‚</li>
<li>å±‚æ¬¡åŒ–çš„ç³»ç»Ÿï¼šåœ¨ä¸€ä¸ª <code>REST</code> ç³»ç»Ÿä¸­ï¼Œå®¢æˆ·ç«¯å¹¶ä¸ä¼šå›ºå®šåœ°ä¸ä¸€ä¸ªæœåŠ¡å™¨æ‰“äº¤é“ã€‚</li>
<li>æ— çŠ¶æ€ï¼šåœ¨ä¸€ä¸ª <code>REST</code> ç³»ç»Ÿä¸­ï¼ŒæœåŠ¡ç«¯å¹¶ä¸ä¼šä¿å­˜æœ‰å…³å®¢æˆ·çš„ä»»ä½•çŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯è‡ªèº«è´Ÿè´£ç”¨æˆ·çŠ¶æ€çš„ç»´æŒï¼Œå¹¶åœ¨æ¯æ¬¡å‘é€è¯·æ±‚æ—¶éƒ½éœ€è¦æä¾›è¶³å¤Ÿçš„ä¿¡æ¯ã€‚</li>
<li>å¯ç¼“å­˜ï¼š<code>REST</code> ç³»ç»Ÿéœ€è¦èƒ½å¤Ÿæ°å½“åœ°ç¼“å­˜è¯·æ±‚ï¼Œä»¥å°½é‡å‡å°‘æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„ä¿¡æ¯ä¼ è¾“ï¼Œä»¥æé«˜æ€§èƒ½ã€‚</li>
<li>ç»Ÿä¸€çš„æ¥å£ã€‚ä¸€ä¸ª <code>REST</code> ç³»ç»Ÿéœ€è¦ä½¿ç”¨ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥å®Œæˆå­ç³»ç»Ÿä¹‹é—´ä»¥åŠæœåŠ¡ä¸ç”¨æˆ·ä¹‹é—´çš„äº¤äº’ã€‚è¿™ä½¿å¾— <code>REST</code> ç³»ç»Ÿä¸­çš„å„ä¸ªå­ç³»ç»Ÿå¯ä»¥ç‹¬è‡ªå®Œæˆæ¼”åŒ–ã€‚</li>
</ul>
<p>å¦‚æœä¸€ä¸ªç³»ç»Ÿæ»¡è¶³äº†ä¸Šé¢æ‰€åˆ—å‡ºçš„äº”æ¡çº¦æŸï¼Œé‚£ä¹ˆè¯¥ç³»ç»Ÿå°±è¢«ç§°ä¸ºæ˜¯ <code>RESTful</code> çš„ã€‚</p>
<table>
<thead>
<tr>
<th align="left"><strong>ç¼–å·</strong></th>
<th align="left"><strong>æ¥å£</strong></th>
<th align="left"><strong>è¯·æ±‚æ–¹å¼</strong></th>
<th align="left"><strong>è¯·æ±‚è·¯å¾„</strong></th>
<th align="left"><strong>è¯·æ±‚å‚æ•°</strong></th>
<th align="left"><strong>è¿”å›å€¼</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">æ–°å¢ç”¨æˆ·</td>
<td align="left">POST</td>
<td align="left">&#x2F;users</td>
<td align="left">ç”¨æˆ·è¡¨å•å®ä½“</td>
<td align="left">æ— </td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">åˆ é™¤ç”¨æˆ·</td>
<td align="left">DELETE</td>
<td align="left">&#x2F;users&#x2F;{id}</td>
<td align="left">ç”¨æˆ· <code>id</code></td>
<td align="left">æ— </td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">æ ¹æ® <code>id</code> æŸ¥è¯¢ç”¨æˆ·</td>
<td align="left">GET</td>
<td align="left">&#x2F;users&#x2F;{id}</td>
<td align="left">ç”¨æˆ· <code>id</code></td>
<td align="left">ç”¨æˆ·VO</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">æ ¹æ® <code>id</code> æ‰¹é‡æŸ¥è¯¢</td>
<td align="left">GET</td>
<td align="left">&#x2F;users</td>
<td align="left">ç”¨æˆ· <code>id</code> é›†åˆ</td>
<td align="left">ç”¨æˆ·VOé›†åˆ</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">æ ¹æ® <code>id</code> æ‰£é™¤ä½™é¢</td>
<td align="left">PUT</td>
<td align="left">&#x2F;users&#x2F;{id}&#x2F;deduction&#x2F;{money}</td>
<td align="left">1. ç”¨æˆ· <code>id</code><br />2. æ‰£é™¤é‡‘é¢</td>
<td align="left">æ— </td>
</tr>
</tbody></table>
<h3 id="ğŸ•¸-3-æ‹“å±•åŠŸèƒ½"><a href="#ğŸ•¸-3-æ‹“å±•åŠŸèƒ½" class="headerlink" title="ğŸ•¸ 3. æ‹“å±•åŠŸèƒ½"></a>ğŸ•¸ 3. æ‹“å±•åŠŸèƒ½</h3><h3 id="ğŸ§©-4-æ’ä»¶åŠŸèƒ½"><a href="#ğŸ§©-4-æ’ä»¶åŠŸèƒ½" class="headerlink" title="ğŸ§© 4. æ’ä»¶åŠŸèƒ½"></a>ğŸ§© 4. æ’ä»¶åŠŸèƒ½</h3></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-30T14:36:18.000Z" title="2024/7/30 22:36:18">2024-07-30</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-07-30T14:55:50.823Z" title="2024/7/30 22:55:50">2024-07-30</time>æ›´æ–°</span><span class="level-item">1 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦222ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/30/SpringCloud/">SpringCloud</a></p><div class="content"><h2 id="SpringCloud"><a href="#SpringCloud" class="headerlink" title="SpringCloud"></a>SpringCloud</h2><p>[TOC]</p>
<h3 id="1-å¾®æœåŠ¡"><a href="#1-å¾®æœåŠ¡" class="headerlink" title="1. å¾®æœåŠ¡"></a>1. å¾®æœåŠ¡</h3><p><strong>ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼š</strong>å¾®æœåŠ¡æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ï¼Œå®ƒæ˜¯ä»¥ä¸“æ³¨äºå•ä¸€èŒè´£çš„å¾ˆå¤šå°å‹é¡¹ç›®ä¸ºåŸºç¡€ï¼Œç»„åˆå‡ºå¤æ‚çš„å¤§å‹åº”ç”¨ã€‚</p>
<p>ä¼ ç»Ÿçš„<strong>å•ä½“é¡¹ç›®</strong>å¼€å‘å°†ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æ¨¡å—éƒ½é›†ä¸­åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ã€‚è€Œ<strong>å¾®æœåŠ¡</strong>å¯ä»¥ç†è§£ä¸ºå¯¹ä¸€ä¸ª<strong>å•ä½“é¡¹ç›®</strong>çš„æ‹†åˆ†ï¼Œå°†å•ä½“é¡¹ç›®çš„è¾¹ç•Œæ‰“ç ´ï¼Œå¹¶ä¸”å°†ä¸€ä¸ªåºå¤§çš„é¡¹ç›®æ‹†åˆ†æˆä¸€ä¸ªä¸€ä¸ªå°é¡¹ç›®ã€‚</p>
<p>å½“ç„¶å¾®æœåŠ¡ä¼šæ¶‰åŠåˆ°ä¸€äº›é—®é¢˜ï¼Œä¸»è¦åŒ…æ‹¬ä¸‹é¢è¿™äº›æ–¹é¢ï¼š</p>
<ul>
<li>æœåŠ¡æ‹†åˆ†</li>
<li>è¿œç¨‹è°ƒç”¨</li>
<li>æœåŠ¡æ²»ç†</li>
<li>è¯·æ±‚è·¯ç”±</li>
<li>èº«ä»½è®¤è¯</li>
<li>é…ç½®ç®¡ç†</li>
<li>æœåŠ¡ä¿æŠ¤</li>
<li>åˆ†å¸ƒå¼äº‹åŠ¡</li>
<li>å¼‚æ­¥é€šä¿¡</li>
<li>æ¶ˆæ¯å¯é æ€§</li>
<li>å»¶è¿Ÿæ¶ˆæ¯</li>
<li>åˆ†å¸ƒå¼æœç´¢</li>
<li>å€’æ’ç´¢å¼•</li>
<li>æ•°æ®èšåˆ</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-29T07:32:17.000Z" title="2024/7/29 15:32:17">2024-07-29</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-08-04T14:17:33.494Z" title="2024/8/4 22:17:33">2024-08-04</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/CppDev/">CppDev</a><span>Â /Â </span><a class="link-muted" href="/categories/CppDev/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B/">å¤šçº¿ç¨‹ç¼–ç¨‹</a></span><span class="level-item">2 å°æ—¶è¯»å®Œ (å¤§çº¦14428ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/29/Cpp-Muti-Threaded/">Cpp_Muti_Threaded</a></p><div class="content"><h2 id="ğŸ”±-C-å¤šçº¿ç¨‹ç¼–ç¨‹"><a href="#ğŸ”±-C-å¤šçº¿ç¨‹ç¼–ç¨‹" class="headerlink" title="ğŸ”± C++ å¤šçº¿ç¨‹ç¼–ç¨‹"></a>ğŸ”± C++ å¤šçº¿ç¨‹ç¼–ç¨‹</h2><p>[TOC]</p>
<h3 id="ğŸ§¶-1-è¿›ç¨‹å’Œçº¿ç¨‹çš„åŸºæœ¬æ¦‚å¿µ"><a href="#ğŸ§¶-1-è¿›ç¨‹å’Œçº¿ç¨‹çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ğŸ§¶ 1. è¿›ç¨‹å’Œçº¿ç¨‹çš„åŸºæœ¬æ¦‚å¿µ"></a>ğŸ§¶ 1. è¿›ç¨‹å’Œçº¿ç¨‹çš„åŸºæœ¬æ¦‚å¿µ</h3><h5 id="1-1-1-è¿›ç¨‹å’Œçº¿ç¨‹çš„æ¦‚å¿µ"><a href="#1-1-1-è¿›ç¨‹å’Œçº¿ç¨‹çš„æ¦‚å¿µ" class="headerlink" title="1.1.1 è¿›ç¨‹å’Œçº¿ç¨‹çš„æ¦‚å¿µ"></a>1.1.1 è¿›ç¨‹å’Œçº¿ç¨‹çš„æ¦‚å¿µ</h5><p><strong>è¿›ç¨‹æ˜¯ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºï¼Œç¨‹åºä¸€æ—¦è¿è¡Œå°±æ˜¯è¿›ç¨‹ã€‚</strong>è¿›ç¨‹å¯ä»¥çœ‹æˆç¨‹åºæ‰§è¡Œçš„ä¸€ä¸ªå®ä¾‹ã€‚è¿›ç¨‹æ˜¯ç³»ç»Ÿèµ„æºåˆ†é…çš„ç‹¬ç«‹å®ä½“ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æ‹¥æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ã€‚ä¸€ä¸ªè¿›ç¨‹æ— æ³•è®¿é—®å¦ä¸€ä¸ªè¿›ç¨‹çš„å˜é‡å’Œæ•°æ®ç»“æ„ï¼Œå¦‚æœæƒ³è®©ä¸€ä¸ªè¿›ç¨‹è®¿é—®å¦ä¸€ä¸ªè¿›ç¨‹çš„èµ„æºï¼Œéœ€è¦ä½¿ç”¨è¿›ç¨‹é—´é€šä¿¡ï¼Œæ¯”å¦‚ç®¡é“ã€æ–‡ä»¶ã€å¥—æ¥å­—ç­‰ã€‚</p>
<p><strong><u>çº¿ç¨‹</u>æ˜¯è¿›ç¨‹çš„è¿›ç¨‹ã€‚</strong>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹ä½¿ç”¨å…¶æ‰€å±è¿›ç¨‹çš„æ ˆç©ºé—´ã€‚çº¿ç¨‹çš„æœ€å¤§æ•°é‡å–å†³äºCPUçš„æ ¸å¿ƒæ•°ã€‚</p>
<p>çº¿ç¨‹ä¸è¿›ç¨‹çš„ä¸€ä¸ªä¸»è¦åŒºåˆ«æ˜¯ï¼ŒåŒä¸€è¿›ç¨‹å†…çš„å¤šä¸ªçº¿ç¨‹ä¼šå…±äº«éƒ¨åˆ†çŠ¶æ€ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥è¯»å†™åŒä¸€å—å†…å­˜ï¼ˆä¸€ä¸ªè¿›ç¨‹æ— æ³•ç›´æ¥è®¿é—®å¦ä¸€è¿›ç¨‹çš„å†…å­˜ï¼‰ã€‚åŒæ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹è¿˜æ‹¥æœ‰è‡ªå·±çš„å¯„å­˜å™¨å’Œæ ˆï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥è¯»å†™è¿™äº›æ ˆå†…å­˜ã€‚</p>
<p>çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯è¿›ç¨‹çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚</p>
<p>çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªç‰¹å®šæ‰§è¡Œè·¯å¾„ã€‚å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿›ç¨‹çš„èµ„æºï¼Œå®ƒçš„å…„å¼Ÿçº¿ç¨‹å¯ä»¥ç«‹å³çœ‹åˆ°è¿™ç§å˜åŒ–ã€‚</p>
<h5 id="1-1-2-å¹¶å‘å’Œå¹¶è¡Œçš„æ¦‚å¿µ"><a href="#1-1-2-å¹¶å‘å’Œå¹¶è¡Œçš„æ¦‚å¿µ" class="headerlink" title="1.1.2 å¹¶å‘å’Œå¹¶è¡Œçš„æ¦‚å¿µ"></a>1.1.2 å¹¶å‘å’Œå¹¶è¡Œçš„æ¦‚å¿µ</h5><p><strong>å¹¶å‘ï¼ˆConcurrentï¼‰ï¼š</strong>å¹¶å‘æŒ‡åœ¨<strong>åŒä¸€æ—¶é—´æ®µå†…</strong>ï¼Œå¤šä¸ªä»»åŠ¡éƒ½åœ¨è¿›è¡Œä¸­ï¼Œä½†å¹¶ä¸ä¸€å®šåŒæ—¶æ‰§è¡Œã€‚åœ¨å•æ ¸ <code>CPU</code> ä¸Šï¼Œå¤šä¸ªä»»åŠ¡å ç”¨ä¸åŒçš„ <code>CPU</code> æ—¶é—´ç‰‡ï¼Œ<strong>ç‰©ç†ä¸Šè¿˜æ˜¯ä¸²è¡Œæ‰§è¡Œçš„</strong>ã€‚ä½†æ˜¯ç”±äºæ¯ä¸ªä»»åŠ¡æ‰€å ç”¨çš„ <code>CPU</code> æ—¶é—´ç‰‡éå¸¸çŸ­ï¼ˆå¦‚ï¼š<code>10ms</code>ï¼‰ï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯å¤šä¸ªä»»åŠ¡åœ¨å…±åŒæ‰§è¡Œä¸€æ ·ï¼Œè¿™æ ·çš„åœºæ™¯å°±å«åš<strong>å¹¶å‘</strong>ã€‚</p>
<img src="./Cpp_Muti_Threaded/Concurrent.png" alt="å¹¶å‘" style="zoom: 50%;" >

<center>å¹¶å‘æ¦‚å¿µå›¾</center>

<p><strong>å¹¶è¡Œï¼ˆParallelï¼‰ï¼š</strong>å¹¶è¡Œæ˜¯æŒ‡åœ¨<strong>åŒä¸€æ—¶åˆ»</strong>ï¼Œå¤šä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œã€‚å¹¶è¡Œéœ€è¦å¤šæ ¸ <code>CPU</code> æˆ–è€…å¤šå¤„ç†å™¨ç³»ç»Ÿï¼Œè®©ä¸åŒçš„ä»»åŠ¡åœ¨ä¸åŒçš„æ ¸å¿ƒä¸ŠåŒæ—¶è¿è¡Œã€‚ä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€æ¯ä¸ªæ ¸å¿ƒä¸Šåªè¿è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œæ¯ä¸ªæ ¸å¿ƒä¸Šçš„è¿è¡Œç­–ç•¥å…¶å®å’Œå•æ ¸ <code>CPU</code> æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼ˆå³ä¹Ÿæ˜¯å¹¶å‘çš„ï¼‰ã€‚</p>
<img src="./Cpp_Muti_Threaded/Parallel.png" alt="å¹¶è¡Œæ¦‚å¿µå›¾" style="zoom:50%;" >

<center>å¹¶è¡Œæ¦‚å¿µå›¾</center>

<h3 id="ğŸ§¶-2-å¤šçº¿ç¨‹çš„è®¾è®¡"><a href="#ğŸ§¶-2-å¤šçº¿ç¨‹çš„è®¾è®¡" class="headerlink" title="ğŸ§¶ 2. å¤šçº¿ç¨‹çš„è®¾è®¡"></a>ğŸ§¶ 2. å¤šçº¿ç¨‹çš„è®¾è®¡</h3><p>å¼€å‘ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œè¦ä¸è¦å®ç°æˆå¹¶å‘ç¨‹åºå‘¢ï¼Ÿå¤šçº¿ç¨‹ä¸€å®šæ›´å¥½å—ï¼Ÿ</p>
<p>åœ¨æŸäº›æƒ…å†µä¸‹å¤šçº¿ç¨‹å…·æœ‰ä¸€å®šçš„ä¼˜åŠ¿ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å¤šçº¿ç¨‹å¹¶ä¸å…·æœ‰ä¼˜åŠ¿ï¼Œè¿™éœ€è¦æ ¹æ®å½“å‰ç¨‹åºçš„ç±»å‹è¿›è¡Œåˆ†æå’Œåˆ¤æ–­ã€‚</p>
<p>ç¨‹åºçš„ç±»å‹æœ‰ä»¥ä¸‹ä¸¤ç§ï¼šä¸€ç§æ˜¯ I&#x2F;Oå¯†é›†å‹ï¼›ä¸€ç§æ˜¯ CPU å¯†é›†å‹ã€‚</p>
<h4 id="2-1-I-O-å¯†é›†å‹ç¨‹åº"><a href="#2-1-I-O-å¯†é›†å‹ç¨‹åº" class="headerlink" title="2.1 I&#x2F;O å¯†é›†å‹ç¨‹åº"></a>2.1 I&#x2F;O å¯†é›†å‹ç¨‹åº</h4><p>I&#x2F;Oå¯†é›†å‹ï¼Œå³ç¨‹åºé‡Œé¢æŒ‡ä»¤çš„æ‰§è¡Œï¼Œæ¶‰åŠä¸€äº› I&#x2F;O æ“ä½œï¼Œæ¯”å¦‚è®¾å¤‡ã€æ–‡ä»¶ã€ç½‘ç»œæ“ä½œï¼ˆå¦‚ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥ï¼‰ç­‰ï¼ŒI&#x2F;Oæ“ä½œæ˜¯å¯ä»¥å°†è¿›ç¨‹é˜»å¡ä½çš„ï¼Œå¦‚æœæˆ‘ä»¬å†ç»™è¿™æ ·çš„ç¨‹åºåˆ†é…æ—¶é—´ç‰‡ï¼Œå…¶å®å°±ç›¸å½“äº <code>CPU</code> ç©ºé—²ä¸‹æ¥äº†ã€‚</p>
<p>åœ¨ I&#x2F;O å¯†é›†å‹çš„ç¨‹åºåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œåœ¨ I&#x2F;O æ“ä½œæ²¡æœ‰å‡†å¤‡å¥½æ—¶ï¼Œç¨‹åºæ˜¯ä¼šè¢«æ”¾åœ¨é˜»å¡é˜Ÿåˆ—ä¸­çš„ï¼Œåœ¨é˜»å¡é˜Ÿåˆ—ä¸­æ˜¯ä¸å—æ“ä½œç³»ç»Ÿè°ƒåº¦çš„ã€‚</p>
<p>æ­£å› å¦‚æ­¤ï¼ŒI&#x2F;O å¯†é›†å‹ç¨‹åºæ›´é€‚åˆè®¾è®¡æˆå¤šçº¿ç¨‹ç¨‹åºã€‚</p>
<p>I&#x2F;O å¯†é›†å‹ç¨‹åºä¸è®ºæ˜¯åœ¨å•æ ¸è¿˜æ˜¯å¤šæ ¸çš„æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯é€‚åˆè®¾è®¡æˆå¤šçº¿ç¨‹ç¨‹åºçš„ï¼Œå› ä¸ºä»–ä¸ä¼šé€ æˆ <code>CPU</code> èµ„æºçš„æµªè´¹ã€‚</p>
<h4 id="2-2-CPU-å¯†é›†å‹ç¨‹åº"><a href="#2-2-CPU-å¯†é›†å‹ç¨‹åº" class="headerlink" title="2.2 CPU å¯†é›†å‹ç¨‹åº"></a>2.2 CPU å¯†é›†å‹ç¨‹åº</h4><p>CPU å¯†é›†å‹ç¨‹åºï¼Œå³ç¨‹åºé‡Œé¢çš„æŒ‡ä»¤éƒ½æ˜¯ç”¨æ¥åšè®¡ç®—ç”¨çš„ï¼Œä¾‹å¦‚å¤§é‡çš„åŠ å‡ä¹˜é™¤ã€æ·±åº¦å­¦ä¹ éƒ½æ˜¯åœ¨è¿›è¡Œå¤§é‡çš„è®¡ç®—ã€‚</p>
<p>CPUå¯†é›†å‹ç¨‹åºï¼Œåœ¨<strong>å•æ ¸æƒ…å†µä¸‹æ˜¯ä¸é€‚åˆè®¾è®¡æˆå¤šçº¿ç¨‹ç¨‹åºçš„</strong>ï¼Œå› ä¸ºçº¿ç¨‹çš„è°ƒåº¦æœ‰é¢å¤–çš„èŠ±è´¹ï¼šçº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆå½“å‰çº¿ç¨‹è°ƒåº¦å®Œäº†ï¼Œè¯¥è°ƒåº¦ä¸‹ä¸€ä¸ªçº¿ç¨‹ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç›¸å½“äºåªæœ‰ä¸€ä¸ªè®¡ç®—å™¨ï¼Œå•çº¿ç¨‹æ˜¯ä¸€ä¸ªäººä¸€ç›´è®¡ç®—ï¼Œè€Œå¤šçº¿ç¨‹æ˜¯å¤šä¸ªäººä¸€äººç®—ä¸€æ®µã€‚ä½†æ˜¯ä¼ é€’è®¡ç®—å™¨çš„è¿‡ç¨‹ä¼šäº§ç”Ÿä¸€å®šçš„èŠ±é”€ã€‚è€Œå•çº¿ç¨‹è¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶ï¼Œè¦è·å–ä¹‹å‰è®¡ç®—åˆ°çš„ä¿¡æ¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç¬”å¼€é”€ã€‚</p>
<p>ä½†æ˜¯å…¶åœ¨å¤šæ ¸æƒ…å†µä¸‹æ˜¯æ¯”è¾ƒé€‚åˆè®¾è®¡æˆå¤šçº¿ç¨‹ç¨‹åºçš„ã€‚</p>
<h3 id="ğŸ§¶-3-çº¿ç¨‹åŒæ­¥"><a href="#ğŸ§¶-3-çº¿ç¨‹åŒæ­¥" class="headerlink" title="ğŸ§¶ 3. çº¿ç¨‹åŒæ­¥"></a>ğŸ§¶ 3. çº¿ç¨‹åŒæ­¥</h3><p>çº¿ç¨‹åŒæ­¥æœ‰ä¸¤ç§åœºæ™¯ï¼šâ‘  çº¿ç¨‹äº’æ–¥ï¼›â‘¡ çº¿ç¨‹é€šä¿¡</p>
<p><strong>çº¿ç¨‹äº’æ–¥ï¼š</strong></p>
<ul>
<li>äº’æ–¥é” <code>mutex</code></li>
<li>åŸå­ç±»å‹ <code>atomic</code></li>
</ul>
<p><strong>çº¿ç¨‹é€šä¿¡ï¼š</strong></p>
<ul>
<li>æ¡ä»¶å˜é‡ <code>condition_variable</code></li>
<li>ä¿¡å·é‡ <code>semaphore</code></li>
</ul>
<h4 id="3-1-æ•°æ®ç«æ€ï¼ˆç«æ€æ¡ä»¶ï¼‰"><a href="#3-1-æ•°æ®ç«æ€ï¼ˆç«æ€æ¡ä»¶ï¼‰" class="headerlink" title="3.1 æ•°æ®ç«æ€ï¼ˆç«æ€æ¡ä»¶ï¼‰"></a>3.1 æ•°æ®ç«æ€ï¼ˆç«æ€æ¡ä»¶ï¼‰</h4><p>ä¸€ä¸ªè¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹å…±äº«æ•´ä¸ªè¿›ç¨‹çš„å †å†…å­˜ï¼Œæ¯ä¸ªçº¿ç¨‹ç§æœ‰è‡ªå·±çš„æ ˆå†…å­˜ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“æˆ‘ä»¬æœ‰å¤šä¸ªçº¿ç¨‹æƒ³è¦æ‰§è¡Œ <code>Code</code> æ—¶ï¼Œé‚£æˆ‘ä»¬å°±è¦è€ƒè™‘è¿™æ®µä»£ç èƒ½å¦åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ‰§è¡Œã€‚æ˜¯å¦èƒ½åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ‰§è¡Œä¸»è¦è¦çœ‹è¿™æ®µä»£ç æ˜¯å¦å­˜åœ¨æ•°æ®ç«æ€ï¼ˆæˆ–ç§°ç«æ€æ¡ä»¶ï¼‰ã€‚</p>
<p><strong>ç«æ€æ¡ä»¶ï¼š</strong>ä»£ç ç‰‡æ®µ <code>Code</code> åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ‰§è¡Œï¼Œéšç€çº¿ç¨‹çš„è°ƒåº¦é¡ºåºä¸åŒï¼Œè€Œå¾—åˆ°ä¸åŒçš„è¿è¡Œç»“æœï¼Œè¿™å°±è¯´æ˜è¿™æ®µä»£ç å­˜åœ¨ç«æ€æ¡ä»¶ã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼Œ$Thread1â†’Thread2â†’Thread3$ ä¼šå¾—åˆ°ä¸€ä¸ªç»“æœï¼Œè€Œ $Thread2â†’Thread1â†’Thread3$ å¯èƒ½æ˜¯å¦ä¸€ä¸ªç»“æœã€‚è¿™æ˜¯æˆ‘ä»¬ä¸æœŸå¾…çš„ã€‚</p>
<p>å­˜åœ¨ç«æ€æ¡ä»¶çš„ä»£ç ç‰‡æ®µç§°ä¸º<strong>ä¸´ç•ŒåŒºä»£ç æ®µ</strong>ã€‚</p>
<img src="./Cpp_Muti_Threaded/DataCompetitionStatus.png" style="zoom:50%;" >

<p>ä¸ºäº†ä¿è¯ä¸å‡ºç°ä¸´ç•ŒåŒºä»£ç æ®µï¼Œæˆ‘ä»¬åº”è¯¥è¦ä¿è¯ä»£ç çš„<strong>åŸå­æ“ä½œ</strong>ã€‚</p>
<p>å¦‚æœåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¸å­˜åœ¨ç«æ€æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¿™æ®µä»£ç ç‰‡æ®µæ˜¯<em><strong>å¯é‡å…¥çš„ï¼ˆå°±æ˜¯ä¸€æ®µä»£ç åœ¨æ²¡æ‰§è¡Œå®Œçš„æƒ…å†µä¸‹åˆè¢«è¿è¡Œäº†ï¼‰</strong></em>ï¼Œå¦åˆ™æ˜¯<em><strong>ä¸å¯é‡å…¥</strong></em>çš„ã€‚</p>
<h4 id="3-2-çº¿ç¨‹äº’æ–¥"><a href="#3-2-çº¿ç¨‹äº’æ–¥" class="headerlink" title="3.2 çº¿ç¨‹äº’æ–¥"></a>3.2 çº¿ç¨‹äº’æ–¥</h4><p>çº¿ç¨‹äº’æ–¥åŒ…æ‹¬ï¼šâ‘  äº’æ–¥é” <code>mutex</code>ï¼›â‘¡ åŸå­æ“ä½œ<code>atomic</code>ã€‚</p>
<p><code>mutex</code> å¦‚ <code>lock</code> æ“ä½œï¼ˆæ‚²è§‚é”ï¼‰ã€<code>unlock</code> æ“ä½œæˆ–è€… <code>try_lock</code> æ“ä½œï¼ˆæ´»é”ã€ä¹è§‚é”ï¼‰ã€‚<code>mutex</code> æ˜¯é‡é‡çº§çš„é”ã€‚</p>
<p>ä½†æ˜¯æˆ‘ä»¬æœ‰æ—¶å€™ä¸éœ€è¦å¾ˆé‡é‡çº§çš„é”ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰æ—¶å€™å¯èƒ½åªæ˜¯æ‰§è¡Œä¸€ä¸ªè‡ªå¢æ“ä½œ <code>x++</code>ï¼Œæˆ–è€…æ˜¯è¾ƒä¸ºç®€å•çš„ä¸€äº›æ“ä½œï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±ä¸å¤ªéœ€è¦ä¸€ä¸ªé‡é‡çº§çš„é”ï¼Œ<code>C++ 11</code>  å·²ç»æä¾›äº† $CAS$ ï¼ˆæ— é”æœºåˆ¶ï¼‰æ“ä½œï¼Œå³ <code>Compare &amp; Set/Compare &amp; Swap</code>ã€‚æ— é”æœºåˆ¶å¹¶ä¸æ˜¯è¯´æ²¡æœ‰é”ï¼Œè€Œæ˜¯è¯´è¿™ä¸ªé”æ˜¯è½»é‡çº§çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ $CAS$ å®ç°æ— é”é˜Ÿåˆ—ã€æ— é”é“¾è¡¨ã€æ— é”æ•°ç»„ç­‰ã€‚</p>
<p>ä»¥ <code>C++ 11</code> çš„ <code>count++</code> ä¸ºä¾‹ï¼Œ<code>count++</code> åœ¨æ“ä½œç³»ç»Ÿä¸­å…¶å®è¿›è¡Œäº†ä¸‰æ­¥æŒ‡ä»¤æ“ä½œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<img src="./Cpp_Muti_Threaded/NotAtomic.png" style="zoom: 67%;" />

<ul>
<li>å‡è®¾é¦–å…ˆæ‰§è¡Œ $Thread \ 1$ï¼Œæ­¤æ—¶æ‰§è¡Œ <code>mov eax, count</code> æŒ‡ä»¤ï¼Œå°† <code>count</code> çš„å€¼å†™åˆ° <code>eax</code> æ­¤æ—¶ <code>eax</code> çš„å€¼ç”±æœªçŸ¥æ•° <code>x</code> å˜ä¸º <code>0</code>ï¼›</li>
<li>ç„¶å $Thread \ 1$ æ‰§è¡Œ <code>add eax, 1</code> æŒ‡ä»¤ï¼Œå°† <code>eax</code> å¯„å­˜å™¨ä¸­çš„å€¼åŠ  <code>1</code>ï¼›</li>
<li>æ­¤æ—¶æ—¶é—´ç‰‡å®Œï¼Œè¿›è¡Œçº¿ç¨‹åˆ‡æ¢æ“ä½œï¼Œåˆ‡æ¢åˆ° $Thread \ 2$ï¼›</li>
<li>æ­¤æ—¶æ‰§è¡Œ $Thread \ 2$ï¼Œæ‰§è¡Œ <code>mov eax, count</code> æŒ‡ä»¤ï¼Œå°† <code>count</code> çš„å€¼å†™åˆ° <code>eax</code>ï¼Œæ­¤æ—¶ <code>count</code> ä¸ºä»å…¨å±€è·å–åˆ°çš„ <code>0</code>ï¼Œ<code>eax</code> ä¸º æœªçŸ¥æ•°<code>x</code>ï¼Œæ­¤æ—¶ <code>eax</code> å¯„å­˜å™¨ç”± <code>x</code> è¢«å†™ä¸º <code>0</code>ï¼›</li>
<li>ç„¶å $Thread \ 2$â€‹ æ‰§è¡Œ <code>add eax, 1</code> æŒ‡ä»¤ï¼Œå°† <code>eax</code> å¯„å­˜å™¨ä¸­çš„å€¼åŠ  <code>1</code>ï¼›</li>
<li>æ­¤æ—¶æ—¶é—´ç‰‡å®Œï¼Œè¿›è¡Œçº¿ç¨‹åˆ‡æ¢æ“ä½œï¼Œåˆ‡æ¢åˆ° $Thread 1$ï¼›</li>
<li>æ­¤æ—¶æ‰§è¡Œ $Thread \ 1$ï¼Œæ‰§è¡Œ <code>mov count, eax</code> æŒ‡ä»¤ï¼Œå°† $Thread \ 1$ ä¸Šæ¬¡åˆ‡æ¢ä¹‹å‰çš„ <code>eax</code> çš„å€¼ï¼ˆä¸º $1$ï¼‰å†™åˆ° <code>count</code> ä¸­ï¼Œ<code>count</code> ç”± <code>0</code> å˜æˆ <code>1</code>ï¼›</li>
<li>æ­¤æ—¶ $Thread \ 1$ æ‰§è¡Œå®Œæ¯•ï¼Œåˆ‡æ¢åˆ° $Thread \ 2$ï¼›</li>
<li>æ­¤æ—¶æ‰§è¡Œ $Thread \ 2$ï¼Œæ‰§è¡Œ <code>mov count, eax</code> æŒ‡ä»¤ï¼Œå°† $Thread \ 2$ ä¸Šæ¬¡åˆ‡æ¢ä¹‹å‰çš„ <code>eax</code> çš„å€¼ï¼ˆä¸º $1$ï¼‰å†™åˆ° <code>count</code> ä¸­ï¼Œ<code>count</code> ç”± <code>1</code> å˜æˆ <code>1</code>ã€‚</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå³ä½¿æ˜¯ç®€å•çš„ <code>count++</code> ä¹Ÿä¸æ˜¯ä¸€ä¸ªåŸå­æ“ä½œã€‚</p>
<p>å¯¹äºè¿™ç§æ“ä½œï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥ç”¨é‡é‡çº§çš„é”ï¼ˆ<code>lock</code>ï¼‰æ¥è¿›è¡Œé”å®šï¼Œä½†æ˜¯æˆ‘ä»¬æ›´å€¾å‘äºä½¿ç”¨ $CAS$ æ¥å®ç°è¿™ä¸ªé—®é¢˜ã€‚</p>
<h4 id="3-2-çº¿ç¨‹é€šä¿¡"><a href="#3-2-çº¿ç¨‹é€šä¿¡" class="headerlink" title="3.2 çº¿ç¨‹é€šä¿¡"></a>3.2 çº¿ç¨‹é€šä¿¡</h4><p>çº¿ç¨‹é€šä¿¡åŒ…æ‹¬ï¼šâ‘  æ¡ä»¶å˜é‡ <code>condition_variable</code>ï¼›â‘¡ ä¿¡å·é‡ <code>semaphore</code>ã€‚</p>
<p>åœ¨çº¿ç¨‹ä¸­ï¼Œå¹¶ä¸å¾€å¾€éƒ½æ˜¯å‡ ä¸ªçº¿ç¨‹äº’ä¸ç›¸å¹²ï¼Œæœ‰æ—¶å€™ä¼šå­˜åœ¨ä¸€å®šçš„ä¾èµ–å…³ç³»ï¼Œå¦‚ $Thread \ 1$ çš„æŸæ®µä»£ç éœ€è¦ä¾èµ–äº $Thread \ 2$ çš„æŸæ®µä»£ç ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶ä¸èƒ½ä¿è¯çº¿ç¨‹çš„è°ƒåº¦é¡ºåºï¼ˆå³æœ‰å¯èƒ½è¢«ä¾èµ–ä»£ç å¯èƒ½éœ€è¦å¥½ä¹…æ‰èƒ½æ‰§è¡Œå®Œæ¯•ï¼Œè€Œå·²ç»æœ‰çº¿ç¨‹éœ€è¦è¿™ä¸ªä»£ç çš„ç»“æœäº†ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™ä¸ªæ—¶å€™å°±éœ€è¦è¿›è¡Œçº¿ç¨‹é—´çš„é€šä¿¡ã€‚</p>
<img src="./Cpp_Muti_Threaded/condition_variable.png" style="zoom:50%;" >

<center>æ¡ä»¶å˜é‡</center>

<p>æ¡ä»¶å˜é‡éœ€è¦é…åˆäº’æ–¥é”ï¼ˆäº’æ–¥é‡ï¼‰ä¸€èµ·ä½¿ç”¨ï¼Œå…¶æ„é€ å‡½æ•°å°±éœ€è¦ä¼ å…¥ä¸€ä¸ªäº’æ–¥é”ï¼ˆäº’æ–¥é‡ï¼‰ï¼Œå³ <code>mutex + condition_variable</code>ã€‚ä¸€ä¸ªå¸¸è§çš„ç”¨æ³•å°±æ˜¯<strong>ç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…æ¨¡å‹</strong>ã€‚*<u>çº¿ç¨‹æ± å…¶å®å°±æ˜¯ä½¿ç”¨äº†ç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…æ¨¡å‹</u>*ã€‚</p>
<p><code>mutex</code> äº’æ–¥é”å°±æ˜¯èµ„æºè®¡æ•°åªèƒ½æ˜¯ $0$ æˆ– $1$ çš„äº’æ–¥é”ï¼Œå³æ‰§è¡Œ <code>mutex.lock()</code> åé”çš„<strong>èµ„æºè®¡æ•°</strong> $1â†’0$ï¼Œæ‰§è¡Œ <code>mutex.unlock()</code> åé”çš„<strong>èµ„æºè®¡æ•°</strong> $0â†’1$ã€‚è€Œä¿¡å·é‡å¯ä»¥çœ‹ä½œ <em><strong>èµ„æºè®¡æ•°æ²¡æœ‰é™åˆ¶</strong></em> çš„ <code>mutex</code> äº’æ–¥é”ã€‚</p>
<img src="./Cpp_Muti_Threaded/semaphore.png" style="zoom: 50%;" >

<center>ä¿¡å·é‡</center>

<p>ä¿¡å·é‡éƒ½æ˜¯å•ç‹¬ä½¿ç”¨çš„ï¼Œä¸éœ€è¦é…åˆå…¶ä»–æ¡ä»¶ä¸€åŒä½¿ç”¨ã€‚<code>C++ 11</code> å¹¶æ²¡æœ‰æä¾›ä¿¡å·é‡çš„æ“ä½œï¼Œç›´åˆ° <code>C++ 20</code> æ‰ä»è¯­è¨€å±‚é¢æ”¯æŒäº†ä¿¡å·é‡ï¼Œä½†æ˜¯æˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨ <code>C++ 11</code> æ¥è‡ªå·±å®ç°ä¸€ä¸ªä¿¡å·é‡ã€‚ä¿¡å·é‡ä¹Ÿå¯ä»¥ç”¨äºå®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼Œä½†æ˜¯æ— æ³•åšåˆ°ç²¾ç»†çš„æ§åˆ¶ã€‚åˆå§‹ä¿¡å·é‡ä¸º$0$ï¼Œç”Ÿäº§è€…ç”Ÿäº§åä¿¡å·é‡å¢åŠ ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹åä¿¡å·é‡å‡å°‘ã€‚é€šè¿‡åˆ¤æ–­ä¿¡å·é‡æ¥è¿›è¡Œç®€å•çš„çº¿ç¨‹é—´é€šä¿¡ã€‚</p>
<p>æ­¤å¤–è¿˜æœ‰äºŒå…ƒä¿¡å·é‡çš„æ¦‚å¿µï¼Œ<code>semaphore sem(1)</code> èµ„æºè®¡æ•° $0 &#x2F; 1$ï¼Œå¯ä»¥å®Œæˆå’Œ <code>mutex</code> äº’æ–¥é”åŒæ ·çš„çº¿ç¨‹äº’æ–¥æ“ä½œï¼Œä½†æ˜¯å…¶å’Œ <code>mutex</code> æ˜¯å­˜åœ¨ä¸€å®šåŒºåˆ«çš„ã€‚<code>mutex</code> åªèƒ½æ˜¯å“ªä¸ªçº¿ç¨‹è·å–é”ï¼Œå“ªä¸ªçº¿ç¨‹é‡Šæ”¾é”ï¼›<code>semaphore</code> åˆ™ä¸åŒï¼Œ<code>sem.wait()</code> å’Œ <code>sem.post()</code> å¯ä»¥å¤„åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­è°ƒç”¨ã€‚ä¾‹å¦‚ï¼šæœ‰ä¸‰ä¸ªçº¿ç¨‹è°ƒç”¨äº† <code>sem.wait()</code> ç­‰å¾…æ‰§è¡Œä¸€å—ä»£ç  <code>Code</code>ï¼Œå…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ $Thread \ A$ å¼€å§‹æ‰§è¡Œä»£ç ï¼Œå…¶ä»–ä¸¤ä¸ªçº¿ç¨‹ $Thread \ B$ å’Œ $Thread \ C$ ä¾æ—§åœ¨ç­‰å¾…ã€‚å¦‚æœæ­¤æ—¶æœ‰å…¶ä»–ä»£ç ï¼ˆå­˜åœ¨è¯¯æ“ä½œæˆ–è€…å…¶ä»–åŸå› ï¼‰è°ƒç”¨äº† <code>sem.post()</code>ï¼Œæ­¤æ—¶ä¼šä½¿ä¿¡å·é‡å¢åŠ ï¼Œ$Thread \ B$ æˆ– $Thread \  C$ å…¶ä¸­ä¸€ä¸ªä¼šæ‰§è¡Œä»£ç ï¼Œè‹¥æ­¤æ—¶ $Thread \ A$ è¿˜æ²¡æœ‰æ‰§è¡Œå®Œä»£ç ï¼Œè¿™å°±æœ‰å¯èƒ½å¯¼è‡´æ•°æ®ç«æ€é—®é¢˜ã€‚</p>
<h3 id="ğŸ§¶-4-C-11-Windows-çº¿ç¨‹åº“çš„åŸºæœ¬ä½¿ç”¨"><a href="#ğŸ§¶-4-C-11-Windows-çº¿ç¨‹åº“çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="ğŸ§¶ 4. C++ 11 Windows çº¿ç¨‹åº“çš„åŸºæœ¬ä½¿ç”¨"></a>ğŸ§¶ 4. C++ 11 Windows çº¿ç¨‹åº“çš„åŸºæœ¬ä½¿ç”¨</h3><p><strong>C++ 11 çº¿ç¨‹åº“å¤´æ–‡ä»¶</strong> <code>#include &lt;thread&gt;</code></p>
<ul>
<li><p>åˆ›å»ºçº¿ç¨‹</p>
<p>å¯ä»¥ä½¿ç”¨ <code>std::thread</code> æ¥åˆ›å»ºçº¿ç¨‹ï¼Œè¿™å…¶å®æ˜¯ä½¿ç”¨çº¿ç¨‹ç±» <code>std::thread</code> å£°æ˜ä¸€ä¸ªçº¿ç¨‹å®ä¾‹ <code>printThread</code> çš„è¿‡ç¨‹ã€‚è¿™é‡Œæˆ‘ä»¬ç›´æ¥è¿™æ ·åˆ›å»ºçº¿ç¨‹ï¼Œç”Ÿæˆåº”ç”¨ç¨‹åºä¹‹åè¿è¡Œè¾“å‡ºç»“æœï¼š<code>Hello World - I&#39;m NilEra @-@</code>ï¼Œä½†æ˜¯è¿è¡Œä¹‹åä¼šå‡ºç°é”™è¯¯ã€‚</p>
<p>è¿™é‡Œå‡ºç°é”™è¯¯çš„åŸå› æ˜¯ï¼šå½“æˆ‘ä»¬å¯åŠ¨äº† <code>thread_print</code> çº¿ç¨‹ï¼Œæ­¤æ—¶ç¨‹åºä¸ä¼šåœ¨è¿™é‡Œç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆï¼Œè€Œæ˜¯ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œå¯¼è‡´å‡ºç°ç¨‹åºå·²ç»æ‰§è¡Œåˆ° <code>return 0</code> æ—¶ï¼Œçº¿ç¨‹è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæˆï¼Œå› æ­¤è¿™é‡Œä¼šäº§ç”ŸæŠ¥é”™ã€‚</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printThread</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello World - I&#x27;m NilEra @-@&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">    <span class="function">std::thread <span class="title">thread_print</span><span class="params">(printThread)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä¸»ç¨‹åºç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</p>
<p>ä¸ºäº†è§£å†³ä¸Šè¿°å‡ºç°çš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è®©ä¸»ç¨‹åºç­‰å¾…çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•å†è¿›è¡Œé€€å‡ºï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ° <code>join()</code> å‡½æ•°ã€‚</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printHelloWorld</span><span class="params">(std::string msg)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; msg &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">    <span class="function">std::thread <span class="title">thread_print</span><span class="params">(printHelloWorld, <span class="string">&quot;Hello Thread @-@ I&#x27;m NilEra...&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆ</span></span><br><span class="line">    thread_print.<span class="built_in">join</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ†ç¦»çº¿ç¨‹</p>
<p>ä¸Šè¿°çš„é—®é¢˜è¿˜å¯ä»¥ä½¿ç”¨ <code>detach()</code> å‡½æ•°æ¥è¿›è¡Œè§£å†³ã€‚å½“æ‰§è¡Œä¸‹é¢çš„ç¨‹åºæ—¶ï¼Œæ§åˆ¶å°ä¸ä¼šåˆä»»ä½•è¾“å‡ºï¼Œç›´æ¥é€€å‡ºç¨‹åºã€‚</p>
<p>è¿™æ˜¯å› ä¸ºçº¿ç¨‹æ‰§è¡Œå®Œçº¿ç¨‹çš„åˆ›å»ºä¹‹åï¼Œç´§æ¥ç€æ‰§è¡Œäº† <code>detach()</code>ï¼Œæ­¤æ—¶çº¿ç¨‹çš„å…·ä½“æ“ä½œè¿˜æœªæ¥å¾—åŠæ‰§è¡Œå°±è¿›è¡Œäº†çº¿ç¨‹çš„åˆ†ç¦»ã€‚è¿›ç¨‹ç»“æŸä¹‹åï¼Œ<code>thread_print</code> çº¿ç¨‹è¿˜åœ¨åå°è¿è¡Œã€‚ä½†æ˜¯å› ä¸ºæ­¤æ—¶è¿›ç¨‹å·²ç»ç»“æŸï¼Œçº¿ç¨‹æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¸ä¼šæœ‰è¾“å‡ºã€‚</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printHelloWorld</span><span class="params">(std::string msg)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; msg &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">    <span class="function">std::thread <span class="title">thread_print</span><span class="params">(printHelloWorld, <span class="string">&quot;Hello Thread @-@ I&#x27;m NilEra...&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// çº¿ç¨‹åˆ†ç¦»</span></span><br><span class="line">    thread_print.<span class="built_in">detach</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å¦‚ä¸‹ä»£ç å¯ä»¥æ›´æ¸…æ™°çš„çœ‹åˆ°æ‰§è¡Œ detach() çš„æ•ˆæœ, ä»¥åŠ join() å’Œ detach() çš„åŒºåˆ«</span></span><br><span class="line"><span class="comment">// join() æ˜¯é˜»å¡çš„</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printHelloWorld</span><span class="params">(std::string msg)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; msg &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">        std::cout &lt;&lt; i &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">    <span class="function">std::thread <span class="title">thread_print</span><span class="params">(printHelloWorld, <span class="string">&quot;Hello Thread @-@ I&#x27;m NilEra...&quot;</span>)</span></span>;</span><br><span class="line">    <span class="built_in">Sleep</span>(<span class="number">100</span>);</span><br><span class="line">    thread_print.<span class="built_in">detach</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å¯ä»¥åˆå¹¶</p>
<p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦å¯¹çº¿ç¨‹åˆ¤æ–­å…¶æ˜¯å¦å¯ä»¥è¿›è¡Œ <code>join()</code> æ“ä½œï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥è°ƒç”¨ <code>joinable()</code> å‡½æ•°ï¼Œ<code>joinable()</code> ä¼šè¿”å›ä¸€ä¸ª <code>bool</code> å€¼ï¼Œç”¨äºåˆ¤æ–­çº¿ç¨‹æ˜¯å¦å¯ä»¥è¿›è¡Œ <code>join()</code> æ“ä½œã€‚</p>
<p>å¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªä¸å¯ä½¿ç”¨ <code>join()</code> æˆ–è€… <code>detach()</code> çš„çº¿ç¨‹è¿›è¡Œäº† <code>join()</code> å’Œ <code>detach()</code> æ“ä½œï¼Œä¼šå‡ºç°ä¸€ä¸ª <code>SystemError</code>ï¼Œåœ¨ä¸€äº›æ¯”è¾ƒä¸¥è°¨çš„é¡¹ç›®ä¸­ï¼Œä¼šå…ˆä½¿ç”¨ <code>joinable()</code> è¿›è¡Œåˆ¤æ–­ã€‚</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printHelloWorld</span><span class="params">(std::string msg)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; msg &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">    <span class="function">std::thread <span class="title">thread_print</span><span class="params">(printHelloWorld, <span class="string">&quot;Hello Thread @-@ I&#x27;m NilEra...&quot;</span>)</span></span>;</span><br><span class="line">    <span class="type">bool</span> isJoin = thread_print.<span class="built_in">joinable</span>();</span><br><span class="line">    <span class="keyword">if</span> (isJoin) &#123;</span><br><span class="line">        thread_print.<span class="built_in">join</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ§¶-5-çº¿ç¨‹å‡½æ•°ä¸­çš„æ•°æ®æœªå®šä¹‰é”™è¯¯"><a href="#ğŸ§¶-5-çº¿ç¨‹å‡½æ•°ä¸­çš„æ•°æ®æœªå®šä¹‰é”™è¯¯" class="headerlink" title="ğŸ§¶ 5. çº¿ç¨‹å‡½æ•°ä¸­çš„æ•°æ®æœªå®šä¹‰é”™è¯¯"></a>ğŸ§¶ 5. çº¿ç¨‹å‡½æ•°ä¸­çš„æ•°æ®æœªå®šä¹‰é”™è¯¯</h3><h4 id="5-1-ä¼ é€’ä¸´æ—¶å˜é‡é—®é¢˜"><a href="#5-1-ä¼ é€’ä¸´æ—¶å˜é‡é—®é¢˜" class="headerlink" title="5.1 ä¼ é€’ä¸´æ—¶å˜é‡é—®é¢˜"></a>5.1 ä¼ é€’ä¸´æ—¶å˜é‡é—®é¢˜</h4><ul>
<li><p>é”™è¯¯ç¤ºä¾‹ï¼šå¦‚ä¸‹ä½¿ç”¨ <code>std::thread</code> ç±»æ—¶ï¼Œä¼ å…¥çº¿ç¨‹å‡½æ•° <code>foo</code> å’Œ å‚æ•° <code>a</code>ï¼Œè¿™é‡Œçš„å‚æ•° <code>a</code> ä¼šè¢«ä½œä¸ºå€¼ä¼ é€’ï¼Œå³ä¼ é€’çš„ä¸æ˜¯ <code>a</code> çš„å¼•ç”¨ï¼Œè€Œæ˜¯ <code>a</code> æ‰€å­˜å‚¨çš„å€¼ <code>1</code>ã€‚ä½†æ˜¯å¦‚æœæ˜¯å€¼ä¼ é€’çš„è¯ï¼Œè¿™é‡Œè°ƒç”¨çš„å®é™…ä¸Šæ˜¯ <code>foo((int&amp;) 1)</code> ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œå› ä¸º <code>1</code> å®é™…ä¸Šæ˜¯ä¸€ä¸ªå³å€¼ï¼Œè€Œ<strong>éå¸¸é‡å¼•ç”¨çš„åˆå§‹å€¼å¿…é¡»ä¸ºå·¦å€¼</strong>ï¼Œæ‰€ä»¥è¿™é‡Œä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚</p>
<p>æˆ‘ä»¬å¹³æ—¶è°ƒç”¨ <code>foo</code> æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>foo(a)</code>ï¼Œå®é™…ä¸Šæˆ‘ä»¬è¿›è¡Œäº†éšå¼è½¬æ¢ï¼Œæ‰§è¡Œçš„å®é™…ä¸Šæ˜¯ <code>foo((int&amp;) a)</code>ã€‚</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é”™è¯¯ç¤ºä¾‹ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">(<span class="type">int</span>&amp; x)</span> </span>&#123;</span><br><span class="line">	x += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">thread_plus</span><span class="params">(foo, a)</span></span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¿®æ”¹ç¤ºä¾‹ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">(<span class="type">int</span>&amp; x)</span> </span>&#123;</span><br><span class="line">	x += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">thread_plus</span><span class="params">(foo, std::ref(a))</span></span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ‹“å±• */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">(<span class="type">int</span>&amp; x)</span> </span>&#123;</span><br><span class="line">	x += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">const_foo</span><span class="params">(<span class="type">const</span> <span class="type">int</span>&amp; x)</span> </span>&#123;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;const_foo param x is : &quot;</span> &lt;&lt; x &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">thread_plus</span><span class="params">(foo, std::ref(a))</span></span>;</span><br><span class="line">	<span class="built_in">Sleep</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="function">std::thread <span class="title">thread_plus_const</span><span class="params">(const_foo, a)</span></span>;</span><br><span class="line">	thread_plus.<span class="built_in">join</span>();</span><br><span class="line">	thread_plus_const.<span class="built_in">join</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-2-ä¼ é€’æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å±€éƒ¨å˜é‡çš„é—®é¢˜"><a href="#5-2-ä¼ é€’æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å±€éƒ¨å˜é‡çš„é—®é¢˜" class="headerlink" title="5.2 ä¼ é€’æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å±€éƒ¨å˜é‡çš„é—®é¢˜"></a>5.2 ä¼ é€’æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å±€éƒ¨å˜é‡çš„é—®é¢˜</h4><ul>
<li><p>é”™è¯¯ç¤ºä¾‹ï¼šåœ¨ä¸‹é¢çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå…¨å±€çº¿ç¨‹å˜é‡ï¼Œå¹¶ä¸”åœ¨ <code>test</code> å‡½æ•°è¢«è°ƒç”¨æ—¶å¼€å¯äº†è¿™ä¸ªçº¿ç¨‹ <code>t</code>ï¼Œåœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œæ‰§è¡Œäº† <code>test</code> å‡½æ•°ï¼Œåœ¨æ‰§è¡Œåˆ° <code>t = std::thread(foo, std::ref(a));</code> æ—¶ï¼Œçº¿ç¨‹å¯åŠ¨ã€‚è¿™æ—¶ä¼šå‡ºç°ä¸¤ç§æƒ…å†µï¼š</p>
<p>â‘  ï¼ˆå¤§æ¦‚ç‡å‡ºç°ï¼‰åœ¨çº¿ç¨‹å¯åŠ¨çš„æ—¶å€™ï¼Œ<code>test</code> å‡½æ•°å·²ç»ç»“æŸäº†è¿è¡Œï¼Œè€Œå±€éƒ¨å˜é‡ <code>a</code> çš„å†…å­˜è¢«é‡Šæ”¾ï¼Œæ­¤æ—¶å‡ºç°ç©ºæŒ‡é’ˆé”™è¯¯ï¼›</p>
<p>â‘¡ ï¼ˆå°æ¦‚ç‡å‡ºç°ï¼‰ç¨‹åºæ­£å¸¸æ‰§è¡Œï¼Œè¿™æ˜¯å› ä¸ºçº¿ç¨‹æ‰§è¡Œçš„æ¯” <code>test</code> å‡½æ•°æ›´å¿«ï¼Œå½“çº¿ç¨‹æ‰§è¡Œç»“æŸæ—¶ï¼Œ<code>a</code> è¿˜æ²¡æœ‰è¢«é‡Šæ”¾ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ <code>t = std::thread(foo, std::ref(a));</code> ä¸‹æ·»åŠ  <code>Sleep(10)</code>ï¼Œä½¿ç¨‹åºæš‚åœ <code>10 ms</code>ï¼Œä¿è¯çº¿ç¨‹ç»“æŸçš„æ—¶å€™ <code>test</code> è¿˜æœªæ‰§è¡Œå®Œæˆæ¥è§‚å¯Ÿè¿™ä¸€ç°è±¡ã€‚</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é”™è¯¯ç¤ºä¾‹ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::thread t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">(<span class="type">int</span>&amp; x)</span> </span>&#123;</span><br><span class="line">	x += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">	t = std::<span class="built_in">thread</span>(foo, std::<span class="built_in">ref</span>(a));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">test</span>();</span><br><span class="line">	t.<span class="built_in">join</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¿®æ”¹ç¤ºä¾‹ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::thread t;</span><br><span class="line"><span class="type">int</span> a = <span class="number">1</span>;		<span class="comment">// å»¶é•¿ a çš„å£°æ˜å‘¨æœŸ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">(<span class="type">int</span>&amp; x)</span> </span>&#123;</span><br><span class="line">	x += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// int a = 1;</span></span><br><span class="line">	t = std::<span class="built_in">thread</span>(foo, std::<span class="built_in">ref</span>(a));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">test</span>();</span><br><span class="line">	t.<span class="built_in">join</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ‹“å±• */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::thread t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">(<span class="type">int</span>&amp; x)</span> </span>&#123;</span><br><span class="line">	x += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">	t = std::<span class="built_in">thread</span>(foo, std::<span class="built_in">ref</span>(a));</span><br><span class="line">    <span class="built_in">Sleep</span>(<span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">test</span>();</span><br><span class="line">	t.<span class="built_in">join</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-3-ä¼ é€’æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å·²ç»é‡Šæ”¾çš„å†…å­˜é—®é¢˜"><a href="#5-3-ä¼ é€’æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å·²ç»é‡Šæ”¾çš„å†…å­˜é—®é¢˜" class="headerlink" title="5.3 ä¼ é€’æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å·²ç»é‡Šæ”¾çš„å†…å­˜é—®é¢˜"></a>5.3 ä¼ é€’æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å·²ç»é‡Šæ”¾çš„å†…å­˜é—®é¢˜</h4><ul>
<li><p>é”™è¯¯ç¤ºä¾‹ï¼šè¿™ä¸ªé—®é¢˜å’Œä¸Šé¢çš„é—®é¢˜æ˜¯å·®ä¸å¤šçš„é—®é¢˜ï¼Œè¿™é‡Œæœ‰å¯èƒ½ä¼šâ‘  ç›´æ¥æŠ¥ç¼–è¯‘é”™è¯¯ï¼›â‘¡ é€šè¿‡ç¼–è¯‘ï¼Œä½†æ˜¯ç»™å‡ºä¸æœŸå¾…çš„ç»“æœï¼›â‘¢ æå°æ¦‚ç‡å‡ºç°æ­£å¸¸æ‰§è¡Œçš„æƒ…å†µã€‚</p>
<p>å½“æˆ‘ä»¬å¯åŠ¨çº¿ç¨‹åï¼Œæ‰‹åŠ¨é‡Šæ”¾ <code>ptr_a</code>ï¼Œæ­¤æ—¶è‹¥çº¿ç¨‹ <code>t</code> çš„æ‰§è¡Œåœ¨é‡Šæ”¾å†…å­˜ä¹‹å‰ï¼ˆå°æ¦‚ç‡ï¼‰ï¼Œä¸ä¼šå‡ºç°ä¸æœŸå¾…çš„è®¿é—®ç»“æœï¼›ä½†æ˜¯å¦‚æœçº¿ç¨‹ <code>t</code> åœ¨é‡Šæ”¾å†…å­˜ä¹‹åæ‰§è¡Œï¼ˆå¤§æ¦‚ç‡ï¼‰ï¼Œåˆ™ä¼šå‡ºç°ä¸æœŸå¾…çš„ç»“æœã€‚</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é”™è¯¯ç¤ºä¾‹ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::thread t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">(<span class="type">int</span>* x)</span> </span>&#123;</span><br><span class="line">	*x += <span class="number">1</span>;</span><br><span class="line">	std::cout &lt;&lt; *x &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span>* ptr_a = <span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">1</span>);		<span class="comment">// å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆç±»å‹çš„å˜é‡ ptr_a</span></span><br><span class="line">									<span class="comment">// åˆå§‹åŒ–ä¸ºå…¶å†…å­˜ä¸­å­˜å‚¨çš„å€¼ä¸º 1</span></span><br><span class="line">	<span class="function">std::thread <span class="title">t</span><span class="params">(foo, ptr_a)</span></span>;</span><br><span class="line">	<span class="keyword">delete</span> ptr_a;					<span class="comment">// è¿™é‡Œæ‰‹åŠ¨é‡Šæ”¾ ptr_a</span></span><br><span class="line"></span><br><span class="line">	t.<span class="built_in">join</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¿®æ”¹ç¤ºä¾‹ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::thread t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">(<span class="type">int</span>* x)</span> </span>&#123;</span><br><span class="line">	*x += <span class="number">1</span>;</span><br><span class="line">	std::cout &lt;&lt; *x &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span>* ptr_a = <span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">1</span>);		<span class="comment">// å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆç±»å‹çš„å˜é‡ ptr_a</span></span><br><span class="line">									<span class="comment">// åˆå§‹åŒ–ä¸ºå…¶å†…å­˜ä¸­å­˜å‚¨çš„å€¼ä¸º 1</span></span><br><span class="line">	<span class="function">std::thread <span class="title">t</span><span class="params">(foo, ptr_a)</span></span>;</span><br><span class="line">    <span class="built_in">Sleep</span>(<span class="number">10</span>);						<span class="comment">// å¯åŠ¨çº¿ç¨‹åç­‰å¾… 10 ms, æ­¤æ—¶çº¿ç¨‹å¤§æ¦‚ç‡å·²ç»æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">	<span class="keyword">delete</span> ptr_a;					<span class="comment">// è¿™é‡Œæ‰‹åŠ¨é‡Šæ”¾ ptr_a</span></span><br><span class="line"></span><br><span class="line">	t.<span class="built_in">join</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-4-ç±»æˆå‘˜ä½œä¸ºå…¥å£å‡½æ•°ï¼Œç±»å¯¹è±¡è¢«æå‰é‡Šæ”¾"><a href="#5-4-ç±»æˆå‘˜ä½œä¸ºå…¥å£å‡½æ•°ï¼Œç±»å¯¹è±¡è¢«æå‰é‡Šæ”¾" class="headerlink" title="5.4 ç±»æˆå‘˜ä½œä¸ºå…¥å£å‡½æ•°ï¼Œç±»å¯¹è±¡è¢«æå‰é‡Šæ”¾"></a>5.4 ç±»æˆå‘˜ä½œä¸ºå…¥å£å‡½æ•°ï¼Œç±»å¯¹è±¡è¢«æå‰é‡Šæ”¾</h4><ul>
<li><p>é”™è¯¯ç¤ºä¾‹ï¼šè¿™ä¸ªé”™è¯¯å’Œä¸Šé¢çš„é”™è¯¯åŸºæœ¬ä¸Šæ²¡æœ‰åŒºåˆ«ï¼Œåªä¸è¿‡æ˜¯å°†è¦ <code>int</code> å‹æ¢æˆäº†<em>ç±»</em> ç±»å‹ã€‚</p>
<p>åœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ª <code>MyClass</code> ç±»å‹çš„å¯¹è±¡ <code>obj</code>ã€‚æ¥ç€ï¼Œå¯åŠ¨äº†ä¸€ä¸ªçº¿ç¨‹ <code>t</code>ï¼Œè¿™ä¸ªçº¿ç¨‹æ‰§è¡Œ <code>MyClass::func</code>ï¼Œå¹¶ä¼ é€’ <code>obj</code> çš„åœ°å€ <code>&amp;obj</code> ç»™å®ƒï¼Œè¿™é‡Œçš„ <code>&amp;obj</code> ä¸º <code>this</code> æŒ‡é’ˆã€‚å½“ <code>t</code> çº¿ç¨‹å¯åŠ¨æ—¶ï¼Œå®ƒä¼šåœ¨åå°æ‰§è¡Œ <code>MyClass::func</code>ï¼Œä½†æ˜¯ï¼Œ<code>main</code> å‡½æ•°åœ¨å¯åŠ¨çº¿ç¨‹åç«‹å³è¿”å›ï¼Œè€Œæ²¡æœ‰ç­‰å¾…çº¿ç¨‹å®Œæˆã€‚æ­¤æ—¶ï¼Œå±€éƒ¨å˜é‡ <code>obj</code> ä¼šè¢«é”€æ¯ã€‚å¦‚æœ <code>t</code> çº¿ç¨‹è¿˜æ²¡æœ‰æ‰§è¡Œå®Œ <code>MyClass::func</code>ï¼Œåˆ™å®ƒå°†å°è¯•è®¿é—®ä¸€ä¸ªå·²ç»é”€æ¯çš„å¯¹è±¡ï¼Œå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºå’Œè¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆçš„æ–¹å¼æ¥é˜²æ­¢å‡ºç°æŒ‡é’ˆæå‰é‡Šæ”¾çš„æƒ…å†µï¼Œä½¿ç”¨ <code>std::shared_ptr&lt;MyClass&gt;</code> åˆ›å»ºå¹¶ç®¡ç† <code>MyClass</code> å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚<code>std::make_shared&lt;MyClass&gt;()</code> åˆ›å»ºä¸€ä¸ª <code>shared_ptr</code>ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘å †ä¸Šåˆ†é…çš„ <code>MyClass</code> å¯¹è±¡çš„å…±äº«æŒ‡é’ˆã€‚ä¼ é€’ <code>obj</code>ï¼ˆ<code>shared_ptr</code>ï¼‰ç»™ <code>std::thread</code> çš„æ„é€ å‡½æ•°æ—¶ï¼Œä¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œç¡®ä¿ <code>MyClass</code> å¯¹è±¡åœ¨ <code>obj</code> å’Œçº¿ç¨‹ä¸­éƒ½æœ‰æ•ˆã€‚</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é”™è¯¯ç¤ºä¾‹ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::thread t;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">&quot;[Thread &quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; <span class="string">&quot;] Started...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">&quot;[Thread &quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; <span class="string">&quot;] Finished...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	MyClass obj;</span><br><span class="line">	<span class="function">std::thread <span class="title">t</span><span class="params">(&amp;MyClass::func, &amp;obj)</span></span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ­£ç¡®ä¿®æ”¹ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::thread t;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">&quot;[Thread &quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; <span class="string">&quot;] Started...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">&quot;[Thread &quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; <span class="string">&quot;] Finished...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ</span></span><br><span class="line">	std::shared_ptr&lt;MyClass&gt; obj = std::<span class="built_in">make_shared</span>&lt;MyClass&gt;();</span><br><span class="line">	<span class="function">std::thread <span class="title">t</span><span class="params">(&amp;MyClass::func, obj)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿è¯çº¿ç¨‹è¿è¡Œç»“æŸå†é€€å‡ºä¸»ç¨‹åº</span></span><br><span class="line">    t.<span class="built_in">join</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ§¶-6-äº’æ–¥é‡è§£å†³å¤šçº¿ç¨‹æ•°æ®å…±äº«é—®é¢˜"><a href="#ğŸ§¶-6-äº’æ–¥é‡è§£å†³å¤šçº¿ç¨‹æ•°æ®å…±äº«é—®é¢˜" class="headerlink" title="ğŸ§¶ 6. äº’æ–¥é‡è§£å†³å¤šçº¿ç¨‹æ•°æ®å…±äº«é—®é¢˜"></a>ğŸ§¶ 6. äº’æ–¥é‡è§£å†³å¤šçº¿ç¨‹æ•°æ®å…±äº«é—®é¢˜</h3><p><strong>æ•°æ®å…±äº«é—®é¢˜ï¼š</strong>åœ¨å¤šä¸ªçº¿ç¨‹ä¸­å…±äº«æ•°æ®æ—¶ï¼Œéœ€è¦æ³¨æ„ <em><strong>çº¿ç¨‹å®‰å…¨</strong></em> é—®é¢˜ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®åŒä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”å…¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹è¯¥å˜é‡è¿›è¡Œäº†å†™æ“ä½œï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°<strong>æ•°æ®ç«äº‰</strong>é—®é¢˜ã€‚æ•°æ®ç«äº‰å¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒã€äº§ç”Ÿæœªå®šä¹‰é”™è¯¯æˆ–è€…å¾—åˆ°é”™è¯¯çš„ç»“æœã€‚</p>
<p>ä¸ºäº†é¿å…æ•°æ®ç«äº‰é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨<strong>åŒæ­¥æœºåˆ¶</strong>æ¥ç¡®ä¿å¤šä¸ªçº¿ç¨‹ä¹‹é—´å¯¹å…±äº«æ•°æ®çš„è®¿é—®é‡æ˜¯å®‰å…¨çš„ã€‚å¸¸è§çš„åŒæ­¥æœºåˆ¶åŒ…æ‹¬<strong>äº’æ–¥é‡</strong>ã€<strong>æ¡ä»¶æ“ä½œ</strong>ã€<strong>åŸå­æ“ä½œ</strong>ç­‰ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ä¸‹é¢è¿™å¼ å›¾ï¼Œæ¥ä½“ä¼šä¸€ä¸‹æ²¡æœ‰é”çš„æƒ…å†µä¸‹å¯¼è‡´çš„å¤šçº¿ç¨‹æ•°æ®å…±äº«çš„é—®é¢˜ã€‚æˆ‘ä»¬æœ‰ä¸¤ä¸ªçº¿ç¨‹ <code>Thread 1</code> å’Œ <code>Thread 2</code>ï¼Œè¿™ä¸¤ä¸ªçº¿ç¨‹éƒ½åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå…¶æ“ä½œéƒ½æ˜¯ <code>a += 1</code>ã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š<br>â‘  æ­¤æ—¶æˆ‘ä»¬æœ‰ä¸€ä¸ªå˜é‡ <code>a = 1</code>ï¼Œé¦–å…ˆ <code>Thread 1</code> è·å–åˆ°äº† <code>a</code>ï¼Œæ‰§è¡Œæ“ä½œå <code>a=2</code>ï¼›</p>
<p>â‘¡ <code>Thread 2</code> è·å–åˆ°äº† <code>a</code>ï¼Œæ‰§è¡Œæ“ä½œå <code>a=3</code>ï¼›</p>
<p>â‘¢ <code>Thread 1</code> è·å–åˆ°äº† <code>a</code>ï¼Œæ‰§è¡Œæ“ä½œå <code>a=4</code>ï¼›</p>
<p>â‘£ <code>Thread 2</code> è·å–åˆ°äº† <code>a</code>ï¼Œæ‰§è¡Œæ“ä½œå <code>a=5</code>ï¼›</p>
<p>â‘¤ <code>Thread 1</code> å’Œ <code>Thread 2</code> åŒæ—¶è·å–åˆ°äº† <code>a</code>ï¼ŒåŒæ—¶æ‰§è¡Œæ“ä½œå <code>a=6</code>ï¼›</p>
<p>ä¸€å…±æ‰§è¡Œäº† <code>6</code> æ¬¡æ“ä½œï¼Œ<code>a</code> åº”è¯¥ç”± <code>1</code> å˜æˆ <code>7</code>ã€‚ä½†æ˜¯å®é™…ä¸Šä»–æœ€ç»ˆçš„ç»“æœæ˜¯ <code>6</code> ã€‚</p>
<img src="./Cpp_Muti_Threaded/ThreadWithNoMutex.png" style="zoom: 50%;" >

<p><strong>ä¸‹é¢æ¼”ç¤ºè¿™ç§é”™è¯¯ï¼š</strong></p>
<p>åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬è¿è¡Œäº†ä¸¤ä¸ªçº¿ç¨‹ <code>t1</code> å’Œ <code>t2</code>ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½è®© <code>a</code> åŠ  <code>50,000</code>ï¼Œå› æ­¤æˆ‘ä»¬æœŸå¾…çš„ç»“æœæ˜¯ <code>100,000</code>ã€‚ä½†æ˜¯å®é™…ä¸Šè¿è¡Œçš„ç»“æœä¸€èˆ¬æ˜¯å°äº <code>100,000</code> çš„ã€‚æ¯”å¦‚æˆ‘è¿è¡Œäº†å‡ æ¬¡ï¼Œåˆ†åˆ«æ˜¯ï¼š<code>78,301</code>ã€<code>61603</code>ã€<code>54843</code>ã€‚è¯´æ˜ä¸¤ä¸ªçº¿ç¨‹å¤šä¸ªç¬é—´åŒæ—¶è·å–åˆ°äº†å˜é‡ <code>a</code>ã€‚</p>
<p>å½“ç„¶ï¼Œå¾ªç¯æ¬¡æ•°è¾ƒå°çš„æ—¶å€™ä¹Ÿè®¸ä¼šå‡ºç°ç»“æœæ­£ç¡®çš„é—®é¢˜ï¼Œè¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨å¸®æˆ‘ä»¬æ±‡ç¼–æˆäº†åŸå­æ“ä½œã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é”™è¯¯ç¤ºä¾‹ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50000</span>; i++) &#123;</span><br><span class="line">		a += <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">t1</span><span class="params">(func)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">t2</span><span class="params">(func)</span></span>;</span><br><span class="line">	t1.<span class="built_in">join</span>();</span><br><span class="line">	t2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>äº’æ–¥é‡<code>mutex</code></strong> å¯¹å˜é‡è¿›è¡Œä¸Šé”æ“ä½œã€‚**äº’æ–¥é‡çš„å¤´æ–‡ä»¶æ˜¯ï¼š<code>#include &lt;mutex&gt;</code>**ã€‚</p>
<p>æˆ‘ä»¬ä¿®æ”¹ç¨‹åºå¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">std::mutex mtx;			<span class="comment">// å®šä¹‰äº’æ–¥é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50000</span>; i++) &#123;</span><br><span class="line">		mtx.<span class="built_in">lock</span>();		<span class="comment">// åŠ é”æ“ä½œ</span></span><br><span class="line">		a += <span class="number">1</span>;</span><br><span class="line">		mtx.<span class="built_in">unlock</span>();	<span class="comment">// è§£é”æ“ä½œ</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">t1</span><span class="params">(func)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">t2</span><span class="params">(func)</span></span>;</span><br><span class="line">	t1.<span class="built_in">join</span>();</span><br><span class="line">	t2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¦‚ä½•åˆ¤æ–­çº¿ç¨‹æ˜¯å¦æ˜¯å®‰å…¨çš„</strong>ï¼šå½“å¤šçº¿ç¨‹ç¨‹åºæ¯ä¸€æ¬¡è¿è¡Œçš„ç»“æœï¼Œå’Œå•çº¿ç¨‹ç¨‹åºè¿è¡Œçš„ç»“æœå§‹ç»ˆéƒ½ä¸€æ ·ï¼Œåˆ™è®¤ä¸ºä½ çš„çº¿ç¨‹æ˜¯å®‰å…¨çš„ã€‚</p>
<h3 id="ğŸ§¶-7-äº’æ–¥é‡æ­»é”"><a href="#ğŸ§¶-7-äº’æ–¥é‡æ­»é”" class="headerlink" title="ğŸ§¶ 7. äº’æ–¥é‡æ­»é”"></a>ğŸ§¶ 7. äº’æ–¥é‡æ­»é”</h3><p>å‡è®¾æœ‰ä¸¤ä¸ªçº¿ç¨‹ <code>Thread 1</code> å’Œ <code>Thread 2</code>ï¼Œä»–ä»¬éœ€è¦å¯¹äº’æ–¥é‡ <code>mtx1</code> å’Œäº’æ–¥é‡<code>mtx2</code> è¿›è¡Œè®¿é—®ï¼Œè€Œä¸”éœ€è¦æŒ‰ç…§ä»¥ä¸‹é¡ºåº<strong>è·å–äº’æ–¥é‡çš„æ‰€æœ‰æƒï¼ˆè·å–æ‰€æœ‰æƒå¯ä»¥ç†è§£ä¸º<em>åŠ é”æ“ä½œ</em> ï¼‰</strong>ï¼š</p>
<ul>
<li><code>Thread 1</code> å…ˆè·å– <code>mtx1</code> çš„æ‰€æœ‰æƒï¼Œå†è·å– <code>mtx2</code> çš„æ‰€æœ‰æƒã€‚</li>
<li><code>Thread 2</code> å…ˆè·å– <code>mtx2</code> çš„æ‰€æœ‰æƒï¼Œå†è·å– <code>mtx1</code> çš„æ‰€æœ‰æƒã€‚</li>
</ul>
<p>æ­¤æ—¶å¦‚æœä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¿è¡Œï¼Œå°±ä¼šäº§ç”Ÿæ­»é”ï¼š</p>
<p><code>Thread 1</code> æ‹¿åˆ°äº† <code>mtx1</code>ï¼ŒåŒæ—¶ <code>Thread 2</code> æ‹¿åˆ°äº† <code>mtx2</code>ã€‚</p>
<p>ä½†æ˜¯æ­¤æ—¶å› ä¸º <code>Thread 2</code> å æœ‰ <code>mtx2</code> æ‰€ä»¥ <code>Thread 1</code> ç­‰å¾… <code>mtx2</code> ç©ºé—²ï¼›è€Œ <code>Thread 1</code> å æœ‰ <code>mtx1</code>ï¼Œæ‰€ä»¥ <code>Thread 2</code> ç­‰å¾… <code>mtx1</code> ç©ºé—²ã€‚</p>
<p>æ‰€ä»¥æ­¤æ—¶ <code>Thread 1</code> å’Œ <code>Thread 2</code> éƒ½æ— æ³•è¿›ä¸€æ­¥æ“ä½œï¼Œæ‰€ä»¥é€ æˆäº†æ­»é”ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ­»é”æ¨¡æ‹Ÿ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::mutex mtx1, mtx2;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func_1</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	mtx1.<span class="built_in">lock</span>();		<span class="comment">// å…ˆè·å– mtx1</span></span><br><span class="line">	<span class="built_in">Sleep</span>(<span class="number">1000</span>);		<span class="comment">// è¿™é‡Œåœç­‰ 1s, ç¡®ä¿ thread_2 æŠ¢å åˆ° mtx2</span></span><br><span class="line">	mtx2.<span class="built_in">lock</span>();		<span class="comment">// å†è·å– mtx2</span></span><br><span class="line">	mtx2.<span class="built_in">unlock</span>();		<span class="comment">// é‡Šæ”¾ mtx2</span></span><br><span class="line">	mtx1.<span class="built_in">unlock</span>();		<span class="comment">// é‡Šæ”¾ mtx1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func_2</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	mtx2.<span class="built_in">lock</span>();		<span class="comment">// å…ˆè·å– mtx2</span></span><br><span class="line">	mtx1.<span class="built_in">lock</span>();		<span class="comment">// å†è·å– mtx1</span></span><br><span class="line">	mtx1.<span class="built_in">unlock</span>();		<span class="comment">// é‡Šæ”¾ mtx1</span></span><br><span class="line">	mtx2.<span class="built_in">unlock</span>();		<span class="comment">// é‡Šæ”¾ mtx2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">thread_1</span><span class="params">(func_1)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">thread_2</span><span class="params">(func_2)</span></span>;</span><br><span class="line">	thread_1.<span class="built_in">join</span>();</span><br><span class="line">	thread_2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;THREAD OVER...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç”¨é¡ºåºé”è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå³ä¸¤ä¸ªå‡½æ•°éƒ½å…ˆè·å– <code>mtx1</code> çš„æ‰€æœ‰æƒã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::mutex mtx1, mtx2;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func_1</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	mtx1.<span class="built_in">lock</span>();		<span class="comment">// å…ˆè·å– mtx1</span></span><br><span class="line">	mtx2.<span class="built_in">lock</span>();		<span class="comment">// å†è·å– mtx2</span></span><br><span class="line">	mtx2.<span class="built_in">unlock</span>();		<span class="comment">// é‡Šæ”¾ mtx2</span></span><br><span class="line">	mtx1.<span class="built_in">unlock</span>();		<span class="comment">// é‡Šæ”¾ mtx1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func_2</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	mtx1.<span class="built_in">lock</span>();		<span class="comment">// å…ˆè·å– mtx1</span></span><br><span class="line">	mtx2.<span class="built_in">lock</span>();		<span class="comment">// å†è·å– mtx2</span></span><br><span class="line">	mtx2.<span class="built_in">unlock</span>();		<span class="comment">// é‡Šæ”¾ mtx2</span></span><br><span class="line">	mtx1.<span class="built_in">unlock</span>();		<span class="comment">// é‡Šæ”¾ mtx1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">thread_1</span><span class="params">(func_1)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">thread_2</span><span class="params">(func_2)</span></span>;</span><br><span class="line">	thread_1.<span class="built_in">join</span>();</span><br><span class="line">	thread_2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;THREAD OVER...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ§¶-8-lock-guard-å’Œ-unique-lock"><a href="#ğŸ§¶-8-lock-guard-å’Œ-unique-lock" class="headerlink" title="ğŸ§¶ 8. lock_guard å’Œ unique_lock()"></a>ğŸ§¶ 8. <code>lock_guard</code> å’Œ <code>unique_lock()</code></h3><h4 id="8-1-lock-guard"><a href="#8-1-lock-guard" class="headerlink" title="8.1 lock_guard"></a>8.1 <code>lock_guard</code></h4><p><code>lock_guard</code> æ˜¯ <code>C++</code> æ ‡å‡†åº“ä¸­ä¸€ç§äº’æ–¥é‡çš„å°è£…ç±»ï¼Œç”¨äºä¿æŠ¤å…±äº«æ•°æ®ï¼Œé˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ç»Ÿä¸€èµ„æºè€Œå¯¼è‡´çš„æ•°æ®ç«äº‰é—®é¢˜ã€‚<code>lock_guard</code> å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ã€‚</p>
<ul>
<li>å½“æ„é€ å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¯¥äº’æ–¥é‡ä¼šè¢«è‡ªåŠ¨é”å®š</li>
<li>å½“ææ„å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¯¥äº’æ–¥é‡ä¼šè¢«è‡ªåŠ¨è§£é”</li>
<li><code>std::lock_guard</code> å¯¹è±¡ä¸èƒ½å¤åˆ¶æˆ–ç§»åŠ¨ï¼Œå› æ­¤ä»–åªèƒ½åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­ä½¿ç”¨</li>
</ul>
<p>ä¸‹é¢ç®€å•çœ‹å‡ æ®µä»£ç ï¼Œæ¥ä½“ä¼šä¸€ä¸‹ä¸ä½¿ç”¨ <code>lock_guard</code> å’Œä½¿ç”¨ <code>lock_guard</code> çš„åŒºåˆ«ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¸ä½¿ç”¨ lock_guard å’Œ unique_lock() */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">std::mutex mtx;			<span class="comment">// å®šä¹‰äº’æ–¥é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50000</span>; i++) &#123;</span><br><span class="line">		mtx.<span class="built_in">lock</span>();		<span class="comment">// åŠ é”æ“ä½œ</span></span><br><span class="line">		a += <span class="number">1</span>;</span><br><span class="line">		mtx.<span class="built_in">unlock</span>();	<span class="comment">// è§£é”æ“ä½œ</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">t1</span><span class="params">(func)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">t2</span><span class="params">(func)</span></span>;</span><br><span class="line">	t1.<span class="built_in">join</span>();</span><br><span class="line">	t2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬æ·»åŠ  <code>lock_guard</code> åï¼Œä»£ç ä¼šå˜æˆè¿™æ ·ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">std::mutex mtx;			<span class="comment">// å®šä¹‰äº’æ–¥é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50000</span>; i++) &#123;</span><br><span class="line">		<span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lg</span><span class="params">(mtx)</span></span>;	<span class="comment">// è¿™é‡Œè°ƒç”¨äº†æ„é€ å‡½æ•°, mtx è‡ªåŠ¨åŠ é”</span></span><br><span class="line">		a += <span class="number">1</span>;</span><br><span class="line">	&#125; <span class="comment">// è¿™é‡Œè°ƒç”¨äº†ææ„å‡½æ•°, mtx è‡ªåŠ¨è§£é”</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">t1</span><span class="params">(func)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">t2</span><span class="params">(func)</span></span>;</span><br><span class="line">	t1.<span class="built_in">join</span>();</span><br><span class="line">	t2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥è¯¦ç»†å‰–æ <code>lock_guard</code> çš„æºç ï¼Œæ¥æ·±åˆ»ç†è§£è¯¥ç±»ã€‚</p>
<p>è¡¥å……é˜…è¯»ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/chaipp0607/article/details/100128842">C++ using ç”¨æ³•</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">_Mutex</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">_NODISCARD</span> lock_guard &#123; <span class="comment">// class with destructor that unlocks a mutex</span></span><br><span class="line"><span class="comment">// è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªæ¨¡æ¿ç±» lock_guard, å…¶ä¸­ _Mutex æ˜¯æ¨¡æ¿å‚æ•°, è¡¨ç¤ºäº’æ–¥é”çš„ç±»å‹</span></span><br><span class="line"><span class="comment">// _NODISCARD æ˜¯ä¸€ä¸ªå±æ€§, è¡¨ç¤ºè¿™ä¸ªç±»ä¸åº”è¯¥è¢«å¿½ç•¥(é€šå¸¸æ˜¯ä¸ºäº†è­¦å‘Šå¼€å‘è€…ä¸è¦å¿½ç•¥è¿™ä¸ªç±»çš„å¯¹è±¡åˆ›å»º)</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> mutex_type = _Mutex;	<span class="comment">// å®šä¹‰ä¸€ä¸ªåˆ«å mutex_type, æŒ‡å‘æ¨¡æ¿å‚æ•° _Mutex</span></span><br><span class="line">    							<span class="comment">// è¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°åœ¨ç±»çš„å…¶ä»–åœ°æ–¹ä½¿ç”¨ mutex_type æ¥è¡¨ç¤ºäº’æ–¥é”çš„ç±»å‹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°, æ¥æ”¶ä¸€ä¸ªäº’æ–¥é”çš„å¼•ç”¨ _Mtx</span></span><br><span class="line">    <span class="comment">// explicit å…³é”®å­—é˜²æ­¢éšå¼è½¬æ¢</span></span><br><span class="line">    <span class="comment">// åœ¨æ„é€ å‡½æ•°ä½“å†…, è°ƒç”¨ _MyMutex.lock() æ–¹æ³•é”å®šäº’æ–¥é”</span></span><br><span class="line">    <span class="comment">// è¿™æ ·, å½“ lock_guard å¯¹è±¡è¢«åˆ›å»ºæ—¶, äº’æ–¥é”ä¼šè‡ªåŠ¨è¢«é”å®š</span></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">lock_guard</span><span class="params">(_Mutex&amp; _Mtx)</span> : _MyMutex(_Mtx) &#123;</span> <span class="comment">// construct and lock</span></span><br><span class="line">        _MyMutex.<span class="built_in">lock</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™æ˜¯å¦ä¸€ä¸ªæ„é€ å‡½æ•°, æ¥æ”¶ä¸€ä¸ªäº’æ–¥é”çš„å¼•ç”¨ _Mtx å’Œä¸€ä¸ªæ ‡è®°ç±»å‹ adopt_lock_t</span></span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ„é€ å‡½æ•°ä¸ä¼šé”å®šäº’æ–¥é”, å‡è®¾äº’æ–¥é”å·²ç»è¢«é”å®š</span></span><br><span class="line">    <span class="comment">// adopt_lock_t é€šå¸¸æ˜¯ä¸€ä¸ªç©ºçš„ç»“æ„ä½“ç±»å‹, ç”¨äºåŒºåˆ†ä¸åŒçš„æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">lock_guard</span>(_Mutex&amp; _Mtx, <span class="type">adopt_lock_t</span>) : _MyMutex(_Mtx) &#123;&#125; <span class="comment">// construct but don&#x27;t lock</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ææ„å‡½æ•°æ ‡è®°ä¸º noexcept, è¡¨ç¤ºä¸ä¼šæŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">    <span class="comment">// å½“ lock_guard å¯¹è±¡è¢«é”€æ¯æ—¶, è°ƒç”¨ _MyMutex.unlock() æ–¹æ³•è§£é”äº’æ–¥é”</span></span><br><span class="line">    <span class="comment">// è¿™ç¡®ä¿äº†å³ä½¿åœ¨å¼‚å¸¸æƒ…å†µä¸‹ï¼Œäº’æ–¥é”ä¹Ÿä¼šè¢«è§£é”ã€‚</span></span><br><span class="line">    ~<span class="built_in">lock_guard</span>() <span class="keyword">noexcept</span> &#123;</span><br><span class="line">        _MyMutex.<span class="built_in">unlock</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ˜¾å¼åˆ é™¤æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œç¬¦</span></span><br><span class="line">    <span class="comment">// é˜²æ­¢ lock_guard å¯¹è±¡è¢«å¤åˆ¶æˆ–èµ‹å€¼</span></span><br><span class="line">    <span class="comment">// è¿™æ˜¯å› ä¸ºäº’æ–¥é”çš„æ‰€æœ‰æƒä¸åº”è¯¥åœ¨å¤šä¸ªå¯¹è±¡ä¹‹é—´å…±äº«, ä»¥é¿å…æ½œåœ¨çš„å¹¶å‘é—®é¢˜ã€‚</span></span><br><span class="line">    <span class="built_in">lock_guard</span>(<span class="type">const</span> lock_guard&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    lock_guard&amp; <span class="keyword">operator</span>=(<span class="type">const</span> lock_guard&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    _Mutex&amp; _MyMutex;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">std::mutex mtx;			<span class="comment">// å®šä¹‰äº’æ–¥é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50000</span>; i++) &#123;</span><br><span class="line">        <span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lg</span><span class="params">(mtx)</span></span>; <span class="comment">// 1. åˆ›å»º lock_guard å¯¹è±¡ lg </span></span><br><span class="line">        									 <span class="comment">// 2. ä¼ é€’ mtx ç»™æ„é€ å‡½æ•°çš„å‚æ•° _Mtx</span></span><br><span class="line">                                             <span class="comment">// 3. lock_guard æ„é€ å‡½æ•°è¢«è°ƒç”¨</span></span><br><span class="line">                                             <span class="comment">// 4. _MyMutex(_Mtx) åˆå§‹åŒ–ç§æœ‰æˆå‘˜ _MyMutex ä¸º mtx çš„å¼•ç”¨</span></span><br><span class="line">                                             <span class="comment">// 5. _MyMutex.lock() é”å®š mtx</span></span><br><span class="line">        a += <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="comment">// 6. å¾ªç¯ç»“æŸæ—¶, lg å¯¹è±¡é”€æ¯, è°ƒç”¨ææ„å‡½æ•° _MyMutex.unlock() è§£é” mtx</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">t1</span><span class="params">(func)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">t2</span><span class="params">(func)</span></span>;</span><br><span class="line">	t1.<span class="built_in">join</span>();</span><br><span class="line">	t2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-2-unique-lock"><a href="#8-2-unique-lock" class="headerlink" title="8.2 unique_lock"></a>8.2 <code>unique_lock</code></h4><p><code>std::unique_lock</code> æ˜¯ <code>C++</code> æ ‡å‡†åº“ä¸­æä¾›çš„ä¸€ä¸ªäº’æ–¥é‡å°è£…ç±»ï¼Œç”¨äºåœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­å¯¹äº’æ–¥é‡è¿›è¡ŒåŠ é”å’Œè§£é”æ“ä½œã€‚ä¸ <code>lock_guard</code> ä»…æä¾›è‡ªåŠ¨çš„åŠ é”ã€è§£é”æ“ä½œä¸åŒï¼Œ<code>unique_lock</code> è¿˜æä¾›äº†å¯¹äº’æ–¥é‡è¿›è¡Œæ›´åŠ çµæ´»çš„ç®¡ç†ï¼ŒåŒ…æ‹¬ï¼šå»¶è¿ŸåŠ é”ã€æ¡ä»¶å˜é‡ã€è¶…æ—¶ç­‰ã€‚</p>
<p><code>std::unique_lock</code> æä¾›äº†ä»¥ä¸‹å‡ ä¸ªæˆå‘˜å‡½æ•°ï¼š</p>
<ul>
<li><code>lock</code>ï¼šå°è¯•å¯¹äº’æ–¥é‡è¿›è¡ŒåŠ é”æ“ä½œï¼Œå¦‚æœå½“å‰äº’æ–¥é‡å·²ç»è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰ï¼Œåˆ™å½“å‰çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°äº’æ–¥é‡è¢«æˆåŠŸåŠ é”ã€‚</li>
<li><code>try_lock</code>ï¼šå°è¯•å¯¹äº’æ–¥é‡è¿›è¡ŒåŠ é”æ“ä½œï¼Œå¦‚æœå½“å‰äº’æ–¥é‡å·²ç»è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰ï¼Œåˆ™ç«‹åˆ»è¿”å› <code>false</code>ï¼Œå¦åˆ™è¿”å› <code>true</code>ã€‚</li>
<li><code>try_lock_for(const std::chrono::duration&lt;Rep, Period&gt;&amp; rel_time)</code>ï¼šå°è¯•å¯¹äº’æ–¥é‡è¿›è¡ŒåŠ é”æ“ä½œï¼Œï¼Œå¦‚æœå½“å‰äº’æ–¥é‡å·²ç»è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰ï¼Œåˆ™å½“å‰çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°äº’æ–¥é‡è¢«æˆåŠŸåŠ é”æˆ–è¶…è¿‡äº†æŒ‡å®šæ—¶é—´ã€‚</li>
<li><code>try_lock_until(const std::chrono::time_point&lt;Clock, Duration&gt;&amp; abs_time)</code>ï¼šå°è¯•å¯¹äº’æ–¥é‡è¿›è¡ŒåŠ é”æ“ä½œï¼Œå¦‚æœå½“å‰äº’æ–¥é‡å·²ç»è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰ï¼Œåˆ™å½“å‰çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°äº’æ–¥é‡è¢«æˆåŠŸåŠ é”æˆ–è¶…è¿‡äº†æŒ‡å®šæ—¶é—´ç‚¹ã€‚</li>
<li><code>unlock()</code>ï¼šå¯¹äº’æ–¥é‡è¿›è¡Œè§£é”æ“ä½œ</li>
</ul>
<p>ä¸‹é¢ç®€å•çœ‹å‡ æ®µä»£ç ï¼Œæ¥ä½“ä¼šä¸€ä¸‹ä¸ä½¿ç”¨ <code>unique_lock</code> å’Œä½¿ç”¨ <code>unique_lock</code> çš„åŒºåˆ«ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¸ä½¿ç”¨ unique_lock */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">std::mutex mtx;			<span class="comment">// å®šä¹‰äº’æ–¥é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50000</span>; i++) &#123;</span><br><span class="line">		mtx.<span class="built_in">lock</span>();		<span class="comment">// åŠ é”æ“ä½œ</span></span><br><span class="line">		a += <span class="number">1</span>;</span><br><span class="line">		mtx.<span class="built_in">unlock</span>();	<span class="comment">// è§£é”æ“ä½œ</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">t1</span><span class="params">(func)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">t2</span><span class="params">(func)</span></span>;</span><br><span class="line">	t1.<span class="built_in">join</span>();</span><br><span class="line">	t2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä½¿ç”¨ unique_lock */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">std::mutex mtx;			<span class="comment">// å®šä¹‰äº’æ–¥é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50000</span>; i++) &#123;</span><br><span class="line">        <span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">uniqueLock</span><span class="params">(mtx)</span></span>;</span><br><span class="line">		a += <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">t1</span><span class="params">(func)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">t2</span><span class="params">(func)</span></span>;</span><br><span class="line">	t1.<span class="built_in">join</span>();</span><br><span class="line">	t2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æˆ‘ä»¬æ¼”ç¤ºä¸€ä¸‹ <code>unique_lock</code> çš„æ›´å¤šæ“ä½œï¼š</p>
<h5 id="8-2-1-lock-unlock-æ‰‹åŠ¨åŠ é”-è§£é”"><a href="#8-2-1-lock-unlock-æ‰‹åŠ¨åŠ é”-è§£é”" class="headerlink" title="8.2.1 lock()/unlock() æ‰‹åŠ¨åŠ é”&#x2F;è§£é”"></a>8.2.1 <code>lock()/unlock()</code> æ‰‹åŠ¨åŠ é”&#x2F;è§£é”</h5><p>æ—¢ç„¶ <code>unique_lock</code> æ”¯æŒè‡ªåŠ¨åŠ é”å’Œè‡ªåŠ¨è§£é”ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆä¸è®©å®ƒè‡ªåŠ¨çš„åŠ é”å’Œè§£é”å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º <code>unique_lock</code> æä¾›äº†æ›´å¤šçš„åŠ é”æ–¹å¼ï¼Œåœ¨ä½¿ç”¨å…¶ä»–åŠ é”æ–¹å¼ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯ <code>unique_lock</code> ä¸èƒ½è‡ªåŠ¨åŠ é”ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">uniqueLock</span><span class="params">(mtx, std::defer_lock)</span></span>; 	<span class="comment">// ä¼ å…¥ defer_lock è¡¨ç¤ºæ„é€ å‡½æ•°ä»€ä¹ˆéƒ½ä¸åš</span></span><br><span class="line">																<span class="comment">// åŠ é”/è§£é”æ“ä½œéœ€è¦ç”±ç¨‹åºå‘˜è‡ªå·±å®Œæˆ</span></span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆä¸‹é¢å°†ä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¸ä½¿ç”¨ unique_lock */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">std::mutex mtx;			<span class="comment">// å®šä¹‰äº’æ–¥é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50000</span>; i++) &#123;</span><br><span class="line">		<span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">uniqueLock</span><span class="params">(mtx, std::defer_lock)</span></span>;	<span class="comment">// ä½¿ç”¨ unique_lock è¿›è¡Œè‡ªåŠ¨åŠ é”</span></span><br><span class="line">		uniqueLock.<span class="built_in">lock</span>();</span><br><span class="line">		a += <span class="number">1</span>;</span><br><span class="line">		uniqueLock.<span class="built_in">unlock</span>();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">t1</span><span class="params">(func)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">t2</span><span class="params">(func)</span></span>;</span><br><span class="line">	t1.<span class="built_in">join</span>();</span><br><span class="line">	t2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="8-2-2-try-lock-å°è¯•åŠ é”"><a href="#8-2-2-try-lock-å°è¯•åŠ é”" class="headerlink" title="8.2.2 try_lock å°è¯•åŠ é”"></a>8.2.2 <code>try_lock</code> å°è¯•åŠ é”</h5><p>å°è¯•å¯¹äº’æ–¥é‡è¿›è¡ŒåŠ é”æ“ä½œï¼Œå¦‚æœå½“å‰äº’æ–¥é‡å·²ç»è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰ï¼Œåˆ™å½“å‰çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°äº’æ–¥é‡è¢«æˆåŠŸåŠ é”ã€‚</p>
<h5 id="8-2-3-try-lock-for-const-std-chrono-duration-rel-time"><a href="#8-2-3-try-lock-for-const-std-chrono-duration-rel-time" class="headerlink" title="8.2.3 try_lock_for(const std::chrono::duration&lt;Rep, Period&gt;&amp; rel_time)"></a>8.2.3 <code>try_lock_for(const std::chrono::duration&lt;Rep, Period&gt;&amp; rel_time)</code></h5><p>å°è¯•å¯¹äº’æ–¥é‡è¿›è¡ŒåŠ é”æ“ä½œï¼Œï¼Œå¦‚æœå½“å‰äº’æ–¥é‡å·²ç»è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰ï¼Œåˆ™å½“å‰çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°äº’æ–¥é‡è¢«æˆåŠŸåŠ é”æˆ–è¶…è¿‡äº†æŒ‡å®šæ—¶é—´ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">std::timed_mutex mtx;			<span class="comment">// å®šä¹‰äº’æ–¥é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">		<span class="function">std::unique_lock&lt;std::timed_mutex&gt; <span class="title">uniqueLock</span><span class="params">(mtx, std::defer_lock)</span></span>;</span><br><span class="line">        <span class="comment">// è¿™é‡Œè¿›è¡Œåˆ¤æ–­, é€šè¿‡æ£€æŸ¥ try_lock_for çš„è¿”å›å€¼, åªæœ‰åœ¨æˆåŠŸé”å®šæ—¶æ‰ä¿®æ”¹ a, ä¿è¯äº†äº’æ–¥é”çš„æœ‰æ•ˆæ€§ã€‚</span></span><br><span class="line">		<span class="keyword">if</span> (uniqueLock.<span class="built_in">try_lock_for</span>(std::chrono::<span class="built_in">microseconds</span>(<span class="number">5</span>))) &#123;</span><br><span class="line">			std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">microseconds</span>(<span class="number">10</span>));</span><br><span class="line">			a += <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">t1</span><span class="params">(func)</span></span>;</span><br><span class="line">	<span class="function">std::thread <span class="title">t2</span><span class="params">(func)</span></span>;</span><br><span class="line">	t1.<span class="built_in">join</span>();</span><br><span class="line">	t2.<span class="built_in">join</span>();</span><br><span class="line">	std::cout &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¸¸è§é”™è¯¯ï¼š<code>&quot;try_lock_for&quot;: ä¸æ˜¯ &quot;std::mutex&quot; çš„æˆå‘˜</code>ï¼Œ<code>std::mutex</code> ä¸æ”¯æŒå»¶è¿ŸåŠ é”ï¼Œå½“æˆ‘ä»¬æƒ³è¦è¿›è¡Œå»¶è¿ŸåŠ é”æ“ä½œæ—¶ï¼Œéœ€è¦ä¿è¯äº’æ–¥é‡æ˜¯æ—¶é—´é”ï¼Œå³ <code>timed_mutex</code>ã€‚</p>
<p>æ­¤å¤–ï¼Œä¸è¦æƒ³å½“ç„¶ï¼Œä»¥ä¸‹æ˜¯ä¸€ç§å¸¸è§çš„é”™è¯¯å†™æ³•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¸ä½¿ç”¨ unique_lock */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line">std::timed_mutex mtx;			<span class="comment">// å®šä¹‰äº’æ–¥é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">200</span>; i++) &#123;</span><br><span class="line">		<span class="function">std::unique_lock&lt;std::timed_mutex&gt; <span class="title">uniqueLock</span><span class="params">(mtx, std::defer_lock)</span></span>;</span><br><span class="line">        <span class="comment">// try_lock_for å°è¯•é”å®šäº’æ–¥é”, ä½†è¿”å›å€¼æ²¡æœ‰è¢«æ£€æŸ¥</span></span><br><span class="line">        <span class="comment">// å¦‚æœé”å®šå¤±è´¥, ä»£ç ä»ç„¶ä¼šæ‰§è¡Œ a += 1, è¿™ä¼šå¯¼è‡´æ•°æ®ç«äº‰</span></span><br><span class="line">		uniqueLock.<span class="built_in">try_lock_for</span>(std::chrono::<span class="built_in">microseconds</span>(<span class="number">5</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å³ä½¿ try_lock_for å¤±è´¥, ä»£ç ä»ç„¶ä¼šå¢åŠ  a, è¿™ä½¿å¾—äº’æ–¥é”å½¢åŒè™šè®¾</span></span><br><span class="line">		std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">microseconds</span>(<span class="number">10</span>));</span><br><span class="line">		a += <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="8-2-4-try-lock-until-const-std-chrono-time-point-abs-time"><a href="#8-2-4-try-lock-until-const-std-chrono-time-point-abs-time" class="headerlink" title="8.2.4 try_lock_until(const std::chrono::time_point&lt;Clock, Duration&gt;&amp; abs_time)"></a>8.2.4 <code>try_lock_until(const std::chrono::time_point&lt;Clock, Duration&gt;&amp; abs_time)</code></h5><p>å°è¯•å¯¹äº’æ–¥é‡è¿›è¡ŒåŠ é”æ“ä½œï¼Œå¦‚æœå½“å‰äº’æ–¥é‡å·²ç»è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰ï¼Œåˆ™å½“å‰çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°äº’æ–¥é‡è¢«æˆåŠŸåŠ é”æˆ–è¶…è¿‡äº†æŒ‡å®šæ—¶é—´ç‚¹ã€‚</p>
<h3 id="ğŸ§¶-9-call-once-å®ç°å•ä¾‹æ¨¡å¼"><a href="#ğŸ§¶-9-call-once-å®ç°å•ä¾‹æ¨¡å¼" class="headerlink" title="ğŸ§¶ 9. call_once å®ç°å•ä¾‹æ¨¡å¼"></a>ğŸ§¶ 9. <code>call_once</code> å®ç°å•ä¾‹æ¨¡å¼</h3><h4 id="9-1-å•ä¾‹æ¨¡å¼"><a href="#9-1-å•ä¾‹æ¨¡å¼" class="headerlink" title="9.1 å•ä¾‹æ¨¡å¼"></a>9.1 å•ä¾‹æ¨¡å¼</h4><p><strong>å•ä¾‹æ¨¡å¼ï¼š</strong>å•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§å¸¸è§çš„è®¾è®¡æ¨¡å¼ï¼Œç”¨äºç¡®ä¿åœ¨ç³»ç»Ÿçš„æ•´ä¸ªå£°æ˜å‘¨æœŸå†…ï¼ŒæŸä¸ªç±»åªèƒ½åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œç¡®ä¿è¯¥ç±»çš„å”¯ä¸€æ€§ã€‚<u><em>ç”±äºå•ä¾‹æ¨¡å¼æ˜¯å…¨å±€å”¯ä¸€çš„ï¼Œå› æ­¤åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨å•ä¾‹æ¨¡å¼æ—¶ï¼Œéœ€è¦è€ƒè™‘<strong>çº¿ç¨‹å®‰å…¨</strong>é—®é¢˜ã€‚</em></u></p>
<p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼š</strong>â‘  èŠ‚çº¦èµ„æºï¼Œä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¸å­˜åœ¨å¤šä»½å®ä¾‹ï¼ŒèŠ‚çœèµ„æºï¼›â‘¡ æ–¹ä¾¿æ§åˆ¶ï¼Œåœ¨ä¸€äº›æ“ä½œå…¬å…±èµ„æºçš„åœºæ™¯æ—¶ï¼Œé¿å…äº†å¤šä¸ªå¯¹è±¡å¼•èµ·çš„å¤æ‚æ“ä½œã€‚</p>
<p><strong>å•ä¾‹æ¨¡å¼åˆ†ç±»ï¼š</strong>å•ä¾‹æ¨¡å¼å¯ä»¥åˆ†ä¸º <em>æ‡’æ±‰å¼</em> å’Œ <em>é¥¿æ±‰å¼</em> ï¼Œä¸¤è€…ä¹‹é—´çš„åŒºåˆ«åœ¨äºåˆ›å»ºå®ä¾‹çš„æ—¶é—´ä¸åŒã€‚</p>
<ul>
<li><strong>æ‡’æ±‰å¼ï¼š</strong>ç³»ç»Ÿè¿è¡Œä¸­ï¼Œå®ä¾‹å¹¶ä¸å­˜åœ¨ï¼Œåªæœ‰å½“éœ€è¦ä½¿ç”¨è¯¥å®ä¾‹æ—¶ï¼Œæ‰ä¼šå»åˆ›å»ºå¹¶ä½¿ç”¨å®ä¾‹ï¼Œå»¶è¿Ÿå®ä¾‹åŒ–ã€‚è¿™ç§æ–¹å¼è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨ã€‚</li>
<li><strong>é¥¿æ±‰å¼ï¼š</strong>ç³»ç»Ÿä¸€è¿è¡Œï¼Œå°±åˆå§‹åŒ–åˆ›å»ºå®ä¾‹ï¼Œå½“éœ€è¦æ—¶ï¼Œç›´æ¥è°ƒç”¨å³å¯ï¼Œæå‰å®ä¾‹åŒ–ã€‚è¿™ç§æ–¹å¼æœ¬èº«å°±çº¿ç¨‹å®‰å…¨ï¼Œæ²¡æœ‰å¤šçº¿ç¨‹çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li>
</ul>
<p><strong>å•ä¾‹ç±»çš„ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¸ºç§æœ‰ç±»å‹ï¼Œç›®çš„æ˜¯ç¦æ­¢å¤–éƒ¨æ„é€ å’Œææ„ã€‚</li>
<li>æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼æ„é€ å‡½æ•°æ˜¯ç§æœ‰ç±»å‹ï¼Œç›®çš„æ˜¯ç¦æ­¢å¤–éƒ¨æ‹·è´å’Œèµ‹å€¼ï¼Œç¡®ä¿å®ä¾‹çš„å”¯ä¸€æ€§ã€‚</li>
<li>ç±»ä¸­æœ‰ä¸€ä¸ªè·å–å®ä¾‹çš„é™æ€æ–¹æ³•ï¼Œå¯ä»¥å…¨å±€è®¿é—®ã€‚</li>
</ul>
<h4 id="9-2-emplace-back-å‡½æ•°å¿«é€Ÿäº†è§£"><a href="#9-2-emplace-back-å‡½æ•°å¿«é€Ÿäº†è§£" class="headerlink" title="9.2 emplace_back å‡½æ•°å¿«é€Ÿäº†è§£"></a>9.2 <code>emplace_back</code> å‡½æ•°å¿«é€Ÿäº†è§£</h4><p>è¿™é‡Œä½¿ç”¨åˆ°äº† <code>emplace_back</code>ï¼Œ<code>emplace_back</code> æ˜¯ <code>C++ 11</code> å¼•å…¥çš„ä¸€ä¸ª <code>STL</code> å®¹å™¨æ–¹æ³•ï¼Œç”¨äºåœ¨å®¹å™¨çš„æœ«å°¾ç›´æ¥æ„é€ å…ƒç´ ã€‚ä¸ºäº†æ›´å¥½çš„ç†è§£ä»£ç ï¼Œè¿™é‡Œè¡¥å……ä¸€ä¸‹ <code>emplace_back</code> çš„åŸºæœ¬ç”¨æ³•ï¼š</p>
<p><code>emplace_back</code> æ–¹æ³•æä¾›äº†ä¸€ç§é«˜æ•ˆã€ç®€ä¾¿çš„æ–¹å¼åœ¨å®¹å™¨æœ«å°¾æ·»åŠ æ–°å…ƒç´ ã€‚ä¸ <code>push_back</code> æ–¹æ³•ä¸åŒï¼Œ<code>emplace_back</code> ç›´æ¥åœ¨å®¹å™¨å†…éƒ¨æ„é€ å…ƒç´ ï¼Œè€Œä¸æ˜¯å…ˆæ„é€ ä¸´æ—¶å¯¹è±¡ç„¶åå†ç§»åŠ¨æˆ–å¤åˆ¶åˆ°å®¹å™¨ä¸­ã€‚</p>
<h5 id="9-2-1-å…·ä½“ç¤ºä¾‹"><a href="#9-2-1-å…·ä½“ç¤ºä¾‹" class="headerlink" title="9.2.1 å…·ä½“ç¤ºä¾‹"></a>9.2.1 å…·ä½“ç¤ºä¾‹</h5><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«å¤æ‚å¯¹è±¡çš„ <code>std::vector</code>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>emplace_back</code> æ¥é¿å…ä¸å¿…è¦çš„ä¸´æ—¶å¯¹è±¡åˆ›å»ºå’Œé”€æ¯ã€‚</p>
<ul>
<li>ä½¿ç”¨ <code>push_back</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MyStruct</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    std::string y;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">MyStruct</span>(<span class="type">int</span> a, <span class="type">const</span> std::string&amp; b) : <span class="built_in">x</span>(a), <span class="built_in">y</span>(b) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;MyStruct&gt; vec;</span><br><span class="line">    <span class="function">MyStruct <span class="title">obj</span><span class="params">(<span class="number">1</span>, <span class="string">&quot;example&quot;</span>)</span></span>;				<span class="comment">// å…ˆä»å¤–éƒ¨æ„é€  obj</span></span><br><span class="line">    vec.<span class="built_in">push_back</span>(obj); 					<span class="comment">// å¤åˆ¶æ„é€ </span></span><br><span class="line">    vec.<span class="built_in">push_back</span>(<span class="built_in">MyStruct</span>(<span class="number">2</span>, <span class="string">&quot;example2&quot;</span>)); <span class="comment">// ä¸´æ—¶å¯¹è±¡æ„é€ ç„¶åç§»åŠ¨æ„é€ </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä½¿ç”¨ <code>emplace_back</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MyStruct</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    std::string y;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">MyStruct</span>(<span class="type">int</span> a, <span class="type">const</span> std::string&amp; b) : <span class="built_in">x</span>(a), <span class="built_in">y</span>(b) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;MyStruct&gt; vec;</span><br><span class="line">    vec.<span class="built_in">emplace_back</span>(<span class="number">1</span>, <span class="string">&quot;example&quot;</span>); 	<span class="comment">// ç›´æ¥åœ¨å®¹å™¨å†…æ„é€ </span></span><br><span class="line">    vec.<span class="built_in">emplace_back</span>(<span class="number">2</span>, <span class="string">&quot;example2&quot;</span>); 	<span class="comment">// ç›´æ¥åœ¨å®¹å™¨å†…æ„é€ </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä½¿ç”¨ <code>emplace_back</code> æ—¶ï¼Œæ„é€ å‡½æ•°çš„å‚æ•°ç›´æ¥ä¼ é€’ç»™å®¹å™¨å†…çš„æ–°å¯¹è±¡æ„é€ å‡½æ•°ï¼Œé¿å…äº†ä¸´æ—¶å¯¹è±¡çš„åˆ›å»ºã€‚</p>
<h5 id="9-2-2-åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨-emplace-back"><a href="#9-2-2-åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨-emplace-back" class="headerlink" title="9.2.2 åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ emplace_back"></a>9.2.2 åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ <code>emplace_back</code></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int i = 0; i &lt; 10; ++i) &#123;</span><br><span class="line">    threads.emplace_back(threadFunction);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„ <code>emplace_back</code> ç”¨äºå°†æ–°çš„ <code>std::thread</code> å¯¹è±¡æ·»åŠ åˆ° <code>std::vector&lt;std::thread&gt;</code> å®¹å™¨ä¸­ã€‚</p>
<p>ç­‰æ•ˆçš„ <code>push_back</code> ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int i = 0; i &lt; 10; ++i) &#123;</span><br><span class="line">    threads.push_back(std::thread(threadFunction));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>push_back</code> å’Œ <code>emplace_back</code> éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä½† <code>emplace_back</code> æ›´åŠ é«˜æ•ˆï¼Œå› ä¸ºå®ƒé¿å…äº†ä¸´æ—¶å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ã€‚ä½¿ç”¨ <code>emplace_back</code> æ—¶ï¼Œ<code>std::thread</code> å¯¹è±¡ç›´æ¥åœ¨ <code>threads</code> å®¹å™¨ä¸­æ„é€ ï¼š</p>
<ol>
<li><strong>æ„é€ æ–°å¯¹è±¡</strong>ï¼š<code>emplace_back</code> æ–¹æ³•ç›´æ¥åœ¨å®¹å™¨çš„å†…å­˜ç©ºé—´ä¸­æ„é€ æ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯å…ˆåœ¨åˆ«å¤„æ„é€ ç„¶åç§»åŠ¨åˆ°å®¹å™¨ä¸­ã€‚</li>
<li><strong>ä¼ é€’å‚æ•°</strong>ï¼š<code>emplace_back</code> å°†ä¼ é€’çš„å‚æ•°ç›´æ¥ç”¨äºæ–°å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œæ­¤å¤„ <code>threadFunction</code> è¢«ä½œä¸ºæ„é€ å‡½æ•°å‚æ•°ä¼ é€’ç»™ <code>std::thread</code>ã€‚</li>
</ol>
<h5 id="9-2-3-æ€»ç»“"><a href="#9-2-3-æ€»ç»“" class="headerlink" title="9.2.3 æ€»ç»“"></a>9.2.3 æ€»ç»“</h5><p>**<code>push_back</code>**ï¼šéœ€è¦ä¸€ä¸ªå·²ç»æ„é€ å¥½çš„å¯¹è±¡ï¼ˆå¯èƒ½ä¼šå¯¼è‡´é¢å¤–çš„å¤åˆ¶æˆ–ç§»åŠ¨ï¼‰ã€‚</p>
<p>**<code>emplace_back</code>**ï¼šç›´æ¥åœ¨å®¹å™¨çš„å†…å­˜ç©ºé—´å†…æ„é€ å¯¹è±¡ï¼Œé¿å…äº†é¢å¤–çš„ä¸´æ—¶å¯¹è±¡åˆ›å»ºå’Œç§»åŠ¨æ“ä½œã€‚</p>
<p>åœ¨å¤šçº¿ç¨‹ä»£ç ä¸­ï¼Œä½¿ç”¨ <code>emplace_back</code> å¯ä»¥ä½¿ä»£ç æ›´åŠ é«˜æ•ˆå’Œç®€æ´ï¼Œå°¤å…¶æ˜¯åœ¨æ·»åŠ æ–°å¯¹è±¡åˆ°å®¹å™¨æ—¶ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„å¯¹è±¡æ‹·è´å’Œä¸´æ—¶å¯¹è±¡åˆ›å»ºã€‚</p>
<h4 id="9-3-çº¿ç¨‹ä¸å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼"><a href="#9-3-çº¿ç¨‹ä¸å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼" class="headerlink" title="9.3 çº¿ç¨‹ä¸å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼"></a>9.3 çº¿ç¨‹ä¸å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¥å¿—ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> Logger&amp; <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> <span class="built_in">Logger</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Logger</span>(<span class="type">const</span> Logger&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    Logger&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Logger&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">log</span><span class="params">(<span class="type">const</span> std::string&amp; message)</span> </span>&#123;</span><br><span class="line">        <span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(mtx_)</span></span>;</span><br><span class="line">        logFile_ &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printLog</span><span class="params">(<span class="type">const</span> std::string&amp; message)</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Instance Address IS: &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; std::endl;</span><br><span class="line">        std::cout &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">Logger</span>() &#123;</span><br><span class="line">        logFile_.<span class="built_in">open</span>(<span class="string">&quot;log.txt&quot;</span>, std::ios::out | std::ios::app);</span><br><span class="line">        <span class="keyword">if</span> (!logFile_.<span class="built_in">is_open</span>()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;Unable to open log file&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">Logger</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (logFile_.<span class="built_in">is_open</span>()) &#123;</span><br><span class="line">            logFile_.<span class="built_in">close</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">static</span> Logger* instance;</span><br><span class="line">    std::ofstream logFile_;</span><br><span class="line">    std::mutex mtx_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Logger* Logger::instance = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">threadFunction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Logger&amp; logger = Logger::<span class="built_in">getInstance</span>();</span><br><span class="line">    logger.<span class="built_in">printLog</span>(<span class="string">&quot;Logging from thread&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;std::thread&gt; threads;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        threads.<span class="built_in">emplace_back</span>(threadFunction);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; thread : threads) &#123;</span><br><span class="line">        thread.<span class="built_in">join</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Instance Address IS: Instance Address IS: 000001FE29979930Instance Address IS: 000001FE2997A2A0</span><br><span class="line">Logging from thread</span><br><span class="line">000001FE29979930</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001FE2997C330</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001FE2997C330</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001FE2997B840</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001FE2997ACD0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001FE2997C330</span><br><span class="line">Logging from thread</span><br><span class="line">Logging from thread</span><br><span class="line"></span><br><span class="line">Instance Address IS: 000001FE2997C330</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001FE2997C330</span><br><span class="line">Logging from thread</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¤šä¸ªä¸åŒçš„å®ä¾‹åœ°å€ï¼Œè¿™æ˜¯å› ä¸ºï¼šåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨ <code>getInstance</code> æ–¹æ³•æ—¶ï¼Œæœ‰å¯èƒ½å¤šä¸ªçº¿ç¨‹åŒæ—¶é€šè¿‡ <code>if (instance == nullptr)</code> æ£€æŸ¥ï¼Œå¹¶è¿›å…¥å®ä¾‹åŒ–ä»£ç å—ã€‚è¿™ä¼šå¯¼è‡´å¤šä¸ªçº¿ç¨‹åŒæ—¶åˆ›å»ºå¤šä¸ªå®ä¾‹ï¼Œè¿èƒŒäº†å•ä¾‹æ¨¡å¼çš„åˆè¡·ã€‚</p>
<h4 id="9-4-çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼"><a href="#9-4-çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼" class="headerlink" title="9.4 çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼"></a>9.4 çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> Logger&amp; <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(mtx_)</span></span>;</span><br><span class="line">            <span class="keyword">if</span> (instance == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                instance = <span class="keyword">new</span> <span class="built_in">Logger</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Logger</span>(<span class="type">const</span> Logger&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    Logger&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Logger&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">log</span><span class="params">(<span class="type">const</span> std::string&amp; message)</span> </span>&#123;</span><br><span class="line">        <span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(log_mtx_)</span></span>;</span><br><span class="line">        logFile_ &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printLog</span><span class="params">(<span class="type">const</span> std::string&amp; message)</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Instance Address IS: &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; std::endl;</span><br><span class="line">        std::cout &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">Logger</span>() &#123;</span><br><span class="line">        logFile_.<span class="built_in">open</span>(<span class="string">&quot;log.txt&quot;</span>, std::ios::out | std::ios::app);</span><br><span class="line">        <span class="keyword">if</span> (!logFile_.<span class="built_in">is_open</span>()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;Unable to open log file&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">Logger</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (logFile_.<span class="built_in">is_open</span>()) &#123;</span><br><span class="line">            logFile_.<span class="built_in">close</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">static</span> Logger* instance;</span><br><span class="line">    <span class="type">static</span> std::mutex mtx_;</span><br><span class="line">    std::mutex log_mtx_;</span><br><span class="line">    std::ofstream logFile_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Logger* Logger::instance = <span class="literal">nullptr</span>;</span><br><span class="line">std::mutex Logger::mtx_;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">threadFunction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Logger&amp; logger = Logger::<span class="built_in">getInstance</span>();</span><br><span class="line">    logger.<span class="built_in">printLog</span>(<span class="string">&quot;Logging from thread&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;std::thread&gt; threads;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        threads.<span class="built_in">emplace_back</span>(threadFunction);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; thread : threads) &#123;</span><br><span class="line">        thread.<span class="built_in">join</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Instance Address IS: 000001E13A41AFE0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001E13A41AFE0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001E13A41AFE0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001E13A41AFE0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001E13A41AFE0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001E13A41AFE0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001E13A41AFE0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001E13A41AFE0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001E13A41AFE0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 000001E13A41AFE0</span><br><span class="line">Logging from thread</span><br></pre></td></tr></table></figure>

<h4 id="9-5-é¥¿æ±‰æ¨¡å¼"><a href="#9-5-é¥¿æ±‰æ¨¡å¼" class="headerlink" title="9.5 é¥¿æ±‰æ¨¡å¼"></a>9.5 é¥¿æ±‰æ¨¡å¼</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> Logger&amp; <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Logger</span>(<span class="type">const</span> Logger&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    Logger&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Logger&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">log</span><span class="params">(<span class="type">const</span> std::string&amp; message)</span> </span>&#123;</span><br><span class="line">        <span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(mtx_)</span></span>;</span><br><span class="line">        logFile_ &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printLog</span><span class="params">(<span class="type">const</span> std::string&amp; message)</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Instance Address IS: &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; std::endl;</span><br><span class="line">        std::cout &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">Logger</span>() &#123;</span><br><span class="line">        logFile_.<span class="built_in">open</span>(<span class="string">&quot;log.txt&quot;</span>, std::ios::out | std::ios::app);</span><br><span class="line">        <span class="keyword">if</span> (!logFile_.<span class="built_in">is_open</span>()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;Unable to open log file&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">Logger</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (logFile_.<span class="built_in">is_open</span>()) &#123;</span><br><span class="line">            logFile_.<span class="built_in">close</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">static</span> Logger instance;</span><br><span class="line">    std::ofstream logFile_;</span><br><span class="line">    std::mutex mtx_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Logger Logger::instance;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">threadFunction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Logger&amp; logger = Logger::<span class="built_in">getInstance</span>();</span><br><span class="line">    logger.<span class="built_in">printLog</span>(<span class="string">&quot;Logging from thread&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;std::thread&gt; threads;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        threads.<span class="built_in">emplace_back</span>(threadFunction);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; thread : threads) &#123;</span><br><span class="line">        thread.<span class="built_in">join</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Instance Address IS: 00007FF652E1F6B0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 00007FF652E1F6B0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 00007FF652E1F6B0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 00007FF652E1F6B0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 00007FF652E1F6B0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 00007FF652E1F6B0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 00007FF652E1F6B0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 00007FF652E1F6B0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 00007FF652E1F6B0</span><br><span class="line">Logging from thread</span><br><span class="line">Instance Address IS: 00007FF652E1F6B0</span><br><span class="line">Logging from thread</span><br></pre></td></tr></table></figure>

<h4 id="9-6-ä½¿ç”¨-call-once-å®ç°å•ä¾‹æ¨¡å¼"><a href="#9-6-ä½¿ç”¨-call-once-å®ç°å•ä¾‹æ¨¡å¼" class="headerlink" title="9.6 ä½¿ç”¨ call_once å®ç°å•ä¾‹æ¨¡å¼"></a>9.6 ä½¿ç”¨ <code>call_once</code> å®ç°å•ä¾‹æ¨¡å¼</h4><p>ä¸ºäº†ä½¿ç”¨ <code>std::call_once</code> ä¿è¯ <code>Logger</code> ç±»çš„çº¿ç¨‹å®‰å…¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>std::call_once</code> å’Œ <code>std::once_flag</code> æ¥ç¡®ä¿å•ä¾‹å®ä¾‹åªè¢«åˆ›å»ºä¸€æ¬¡ã€‚<code>std::call_once</code> æ˜¯ä¸€ä¸ª <code>C++ 11</code> å¼•å…¥çš„æœºåˆ¶ï¼Œç”¨äºç¡®ä¿ç»™å®šçš„å‡½æ•°åªè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå³ä½¿åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ <code>std::call_once</code> å®ç°çº¿ç¨‹å®‰å…¨å•ä¾‹æ¨¡å¼çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Logger ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> Logger&amp; <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        std::<span class="built_in">call_once</span>(initInstanceFlag, &amp;Logger::initSingleton);	<span class="comment">// ä¼ å…¥ once_flag å’Œ initSingleton å‡½æ•°</span></span><br><span class="line">        <span class="keyword">return</span> *instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Logger</span>(<span class="type">const</span> Logger&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    Logger&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Logger&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">log</span><span class="params">(<span class="type">const</span> std::string&amp; message)</span> </span>&#123;</span><br><span class="line">        <span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(mtx_)</span></span>;</span><br><span class="line">        logFile_ &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printLog</span><span class="params">(<span class="type">const</span> std::string&amp; message)</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Instance Address IS: &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; std::endl;</span><br><span class="line">        std::cout &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">Logger</span>() &#123;</span><br><span class="line">        logFile_.<span class="built_in">open</span>(<span class="string">&quot;log.txt&quot;</span>, std::ios::out | std::ios::app);</span><br><span class="line">        <span class="keyword">if</span> (!logFile_.<span class="built_in">is_open</span>()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;Unable to open log file&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">Logger</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (logFile_.<span class="built_in">is_open</span>()) &#123;</span><br><span class="line">            logFile_.<span class="built_in">close</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">initSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        instance = <span class="keyword">new</span> <span class="built_in">Logger</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">static</span> Logger* instance;</span><br><span class="line">    <span class="type">static</span> std::once_flag initInstanceFlag;</span><br><span class="line">    std::ofstream logFile_;</span><br><span class="line">    std::mutex mtx_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–é™æ€æˆå‘˜</span></span><br><span class="line">Logger* Logger::instance = <span class="literal">nullptr</span>;</span><br><span class="line">std::once_flag Logger::initInstanceFlag;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">threadFunction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Logger&amp; logger = Logger::<span class="built_in">getInstance</span>();</span><br><span class="line">    logger.<span class="built_in">printLog</span>(<span class="string">&quot;Logging from thread&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;std::thread&gt; threads;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        threads.<span class="built_in">emplace_back</span>(threadFunction);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; thread : threads) &#123;</span><br><span class="line">        thread.<span class="built_in">join</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯¦ç»†è§£é‡Šï¼š</p>
<ol>
<li><p><strong>é™æ€æˆå‘˜å˜é‡</strong>ï¼š</p>
<ul>
<li><code>static Logger* instance</code>ï¼šæŒ‡å‘å•ä¾‹å®ä¾‹çš„æŒ‡é’ˆã€‚</li>
<li><code>static std::once_flag initInstanceFlag</code>ï¼šç”¨äºä¿è¯ <code>initSingleton</code> åªè¢«è°ƒç”¨ä¸€æ¬¡çš„æ ‡å¿—ã€‚</li>
</ul>
</li>
<li><p><strong><code>getInstance</code> æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>std::call_once(initInstanceFlag, &amp;Logger::initSingleton)</code>ï¼š<code>std::call_once</code> ä¿è¯ <code>initSingleton</code> åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹åªè¢«è°ƒç”¨ä¸€æ¬¡ã€‚<code>initInstanceFlag</code> ç¡®ä¿ <code>initSingleton</code> åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå³ä½¿å¤šä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨ <code>getInstance</code>ã€‚</li>
</ul>
</li>
<li><p><strong><code>initSingleton</code> æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>initSingleton</code> æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œç”¨äºåˆå§‹åŒ–å•ä¾‹å®ä¾‹ã€‚<code>std::call_once</code> ä¼šè°ƒç”¨æ­¤æ–¹æ³•æ¥åˆ›å»ºå•ä¾‹å®ä¾‹ã€‚</li>
</ul>
</li>
<li><p><strong>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</strong>ï¼š</p>
<ul>
<li><code>Logger</code> çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°è´Ÿè´£æ‰“å¼€å’Œå…³é—­æ—¥å¿—æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li><p><strong><code>log</code> å’Œ <code>printLog</code> æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>log</code> æ–¹æ³•ä½¿ç”¨äº’æ–¥é” <code>mtx_</code> ä¿æŠ¤å¯¹æ—¥å¿—æ–‡ä»¶çš„å†™æ“ä½œï¼Œä»¥ç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚</li>
<li><code>printLog</code> æ–¹æ³•è¾“å‡ºå®ä¾‹çš„åœ°å€å’Œæ¶ˆæ¯ã€‚</li>
</ul>
</li>
</ol>
<p>è¿è¡Œä¸Šè¿°ä»£ç æ—¶ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šè°ƒç”¨ <code>Logger::getInstance()</code> è·å–å•ä¾‹å®ä¾‹ã€‚ç”±äºä½¿ç”¨äº† <code>std::call_once</code>ï¼Œ<code>initSingleton</code> æ–¹æ³•åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œä»è€Œç¡®ä¿æ•´ä¸ªç¨‹åºä¸­åªæœ‰ä¸€ä¸ª <code>Logger</code> å®ä¾‹ã€‚é€šè¿‡è¾“å‡ºçš„å®ä¾‹åœ°å€ï¼Œå¯ä»¥éªŒè¯æ‰€æœ‰çº¿ç¨‹è·å–çš„éƒ½æ˜¯ç›¸åŒçš„å®ä¾‹ã€‚</p>
<p>ä½¿ç”¨ <code>std::call_once</code> å’Œ <code>std::once_flag</code> å¯ä»¥ç¡®ä¿å•ä¾‹å®ä¾‹åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹åªè¢«åˆ›å»ºä¸€æ¬¡ï¼Œä»è€Œå®ç°çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰å•ä¾‹æ¨¡å¼ã€‚è¿™æ ·ä¸ä»…ä¿è¯äº†çº¿ç¨‹å®‰å…¨æ€§ï¼Œè¿˜é¿å…äº†ä¸å¿…è¦çš„é”å¼€é”€ã€‚</p>
<h3 id="ğŸ§¶-10-condition-variable-æ¡ä»¶å˜é‡"><a href="#ğŸ§¶-10-condition-variable-æ¡ä»¶å˜é‡" class="headerlink" title="ğŸ§¶ 10. condition_variable æ¡ä»¶å˜é‡"></a>ğŸ§¶ 10. <code>condition_variable</code> æ¡ä»¶å˜é‡</h3><p><code>conditon_variable</code> å¯ä»¥ç”¨æ¥å®ç°ä¸€ä¸ªç”Ÿäº§è€…æ¶ˆè´¹è€…ç¨‹åºã€‚</p>
<p>ä¾‹å¦‚å¯¹äºä¸€ä¸ªé˜Ÿåˆ—ï¼š</p>
<ul>
<li>åªè¦é˜Ÿåˆ—ä¸æ»¡ï¼Œç”Ÿäº§è€…å°±å¯ä»¥è¿›è¡Œç”Ÿäº§</li>
<li>åªè¦é˜Ÿåˆ—æ»¡äº†ï¼Œç”Ÿäº§è€…å°±åœæ­¢ç”Ÿäº§</li>
<li>åªè¦é˜Ÿåˆ—ä¸ç©ºï¼Œæ¶ˆè´¹è€…å°±å¯ä»¥è¿›è¡Œæ¶ˆè´¹</li>
<li>åªè¦é˜Ÿåˆ—ç©ºäº†ï¼Œæ¶ˆè´¹è€…å°±åœæ­¢æ¶ˆè´¹</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;condition_variable&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;atomic&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::queue&lt;<span class="type">int</span>&gt; buffer;                 <span class="comment">// å…±äº«ç¼“å†²åŒº</span></span><br><span class="line"><span class="type">const</span> <span class="type">unsigned</span> <span class="type">int</span> maxBufferSize = <span class="number">10</span>;  <span class="comment">// ç¼“å†²åŒºçš„æœ€å¤§å¤§å°</span></span><br><span class="line">std::mutex mtx;                         <span class="comment">// äº’æ–¥é”, ç”¨äºä¿æŠ¤å…±äº«ç¼“å†²åŒº</span></span><br><span class="line">std::condition_variable cv;             <span class="comment">// æ¡ä»¶å˜é‡, ç”¨äºé€šçŸ¥ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…</span></span><br><span class="line"><span class="function">std::atomic&lt;<span class="type">bool</span>&gt; <span class="title">done</span><span class="params">(<span class="literal">false</span>)</span></span>;          <span class="comment">// åŸå­å˜é‡, ç”¨äºé€šçŸ¥æ¶ˆè´¹è€…ç”Ÿäº§è€…å·²ç»å®Œæˆç”Ÿäº§</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿäº§è€…å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">producer</span><span class="params">(<span class="type">int</span> id, <span class="type">int</span> numItems)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numItems; ++i) &#123;</span><br><span class="line">        <span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(mtx)</span></span>;  <span class="comment">// é”å®šäº’æ–¥é”</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç­‰å¾…ç›´åˆ°ç¼“å†²åŒºæœ‰ç©ºé—²ä½ç½®</span></span><br><span class="line">        cv.<span class="built_in">wait</span>(lock, [] &#123; <span class="keyword">return</span> buffer.<span class="built_in">size</span>() &lt; maxBufferSize; &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†ç”Ÿæˆçš„æ•°æ®æ”¾å…¥ç¼“å†²åŒº</span></span><br><span class="line">        buffer.<span class="built_in">push</span>(i);</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Producer &quot;</span> &lt;&lt; id &lt;&lt; <span class="string">&quot; produced: &quot;</span> &lt;&lt; i &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">        lock.<span class="built_in">unlock</span>();      <span class="comment">// è§£é”äº’æ–¥é”</span></span><br><span class="line">        cv.<span class="built_in">notify_all</span>();    <span class="comment">// é€šçŸ¥æ¶ˆè´¹è€…ç¼“å†²åŒºä¸­æœ‰æ–°æ•°æ®</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿç”Ÿäº§å»¶è¿Ÿ</span></span><br><span class="line">        std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">milliseconds</span>(<span class="number">100</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½® done æ ‡å¿—ï¼Œé€šçŸ¥æ¶ˆè´¹è€…ç”Ÿäº§å·²ç»å®Œæˆ</span></span><br><span class="line">    done = <span class="literal">true</span>;</span><br><span class="line">    cv.<span class="built_in">notify_all</span>();  <span class="comment">// é€šçŸ¥æ¶ˆè´¹è€…åœæ­¢ç­‰å¾…</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¶ˆè´¹è€…å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">consumer</span><span class="params">(<span class="type">int</span> id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="function">std::unique_lock&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(mtx)</span></span>;  <span class="comment">// é”å®šäº’æ–¥é”</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç­‰å¾…ç›´åˆ°ç¼“å†²åŒºæœ‰æ•°æ®æˆ–ç”Ÿäº§å·²ç»å®Œæˆ</span></span><br><span class="line">        cv.<span class="built_in">wait</span>(lock, [] &#123; <span class="keyword">return</span> !buffer.<span class="built_in">empty</span>() || done; &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœç”Ÿäº§å·²ç»å®Œæˆä¸”ç¼“å†²åŒºä¸ºç©º, é€€å‡ºå¾ªç¯</span></span><br><span class="line">        <span class="keyword">if</span> (done &amp;&amp; buffer.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä»ç¼“å†²åŒºå–å‡ºæ•°æ®</span></span><br><span class="line">        <span class="type">int</span> item = buffer.<span class="built_in">front</span>();</span><br><span class="line">        buffer.<span class="built_in">pop</span>();</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Consumer &quot;</span> &lt;&lt; id &lt;&lt; <span class="string">&quot; consumed: &quot;</span> &lt;&lt; item &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">        lock.<span class="built_in">unlock</span>();      <span class="comment">// è§£é”äº’æ–¥é”</span></span><br><span class="line">        cv.<span class="built_in">notify_all</span>();    <span class="comment">// é€šçŸ¥ç”Ÿäº§è€…æœ‰ç©ºé—²ä½ç½®</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿæ¶ˆè´¹å»¶è¿Ÿ</span></span><br><span class="line">        std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">milliseconds</span>(<span class="number">150</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> numProducers = <span class="number">2</span>;     	<span class="comment">// ç”Ÿäº§è€…çº¿ç¨‹æ•°é‡</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> numConsumers = <span class="number">2</span>;     	<span class="comment">// æ¶ˆè´¹è€…çº¿ç¨‹æ•°é‡</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> numItems     = <span class="number">40</span>;    	<span class="comment">// æ¯ä¸ªç”Ÿäº§è€…ç”Ÿæˆçš„é¡¹ç›®æ•°é‡</span></span><br><span class="line"></span><br><span class="line">    std::vector&lt;std::thread&gt; producers;  <span class="comment">// ç”Ÿäº§è€…çº¿ç¨‹åˆ—è¡¨</span></span><br><span class="line">    std::vector&lt;std::thread&gt; consumers;  <span class="comment">// æ¶ˆè´¹è€…çº¿ç¨‹åˆ—è¡¨</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºç”Ÿäº§è€…çº¿ç¨‹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numProducers; ++i) &#123;</span><br><span class="line">        producers.<span class="built_in">emplace_back</span>(producer, i, numItems);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºæ¶ˆè´¹è€…çº¿ç¨‹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numConsumers; ++i) &#123;</span><br><span class="line">        consumers.<span class="built_in">emplace_back</span>(consumer, i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­‰å¾…æ‰€æœ‰ç”Ÿäº§è€…çº¿ç¨‹å®Œæˆ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; producer : producers) &#123;</span><br><span class="line">        producer.<span class="built_in">join</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­‰å¾…æ‰€æœ‰æ¶ˆè´¹è€…çº¿ç¨‹å®Œæˆ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; consumer : consumers) &#123;</span><br><span class="line">        consumer.<span class="built_in">join</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ§¶-11-çº¿ç¨‹æ± -Thread-Pool"><a href="#ğŸ§¶-11-çº¿ç¨‹æ± -Thread-Pool" class="headerlink" title="ğŸ§¶ 11. çº¿ç¨‹æ±  Thread Pool"></a>ğŸ§¶ 11. çº¿ç¨‹æ±  Thread Pool</h3><h4 id="11-1-çº¿ç¨‹çš„æ¶ˆè€—"><a href="#11-1-çº¿ç¨‹çš„æ¶ˆè€—" class="headerlink" title="11.1 çº¿ç¨‹çš„æ¶ˆè€—"></a>11.1 çº¿ç¨‹çš„æ¶ˆè€—</h4><p>ä¸ºäº†å®Œæˆä»»åŠ¡ï¼Œåˆ›å»ºå¾ˆå¤šçº¿ç¨‹å¯ä»¥å—ï¼Ÿçº¿ç¨‹çœŸçš„æ˜¯è¶Šå¤šè¶Šå¥½å—ï¼Ÿ</p>
<ul>
<li><p>çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯éƒ½æ˜¯éå¸¸â€é‡â€çš„æ“ä½œ</p>
<p>çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯éƒ½éœ€è¦æ‰§è¡Œä¸å°‘æ“ä½œï¼Œä¸‹é¢çš„æ“ä½œåªæ˜¯ä¸€ä¸ªç®€åŒ–çš„æ“ä½œï¼Œå…·ä½“çš„æ“ä½œå¯ä»¥æ·±å…¥äº†è§£æ“ä½œç³»ç»Ÿçš„åŸç†ã€‚</p>
<p>é‚£ä¹ˆå¦‚æœè¦åœ¨ä¸šåŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å»å®æ—¶çš„åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ï¼Œé‚£ä¹ˆæ˜¯ä¸€ç§å¾ˆæ¶ˆè€—ç³»ç»Ÿèµ„æºå’Œæ€§èƒ½çš„æ“ä½œã€‚</p>
</li>
</ul>
<img src="./CPP_Muti_Threaded/Create_Thread.png" alt="çº¿ç¨‹åˆ›å»ºçš„æ“ä½œ(ç®€åŒ–ç‰ˆ)" style="zoom:50%;" >

<ul>
<li><p>çº¿ç¨‹æ ˆæœ¬èº«å ç”¨å¤§é‡å†…å­˜</p>
<p><code>32</code> ä½æ“ä½œç³»ç»Ÿçš„åœ°å€ç©ºé—´å¤§å°ä¸º $2^{32}$ ä¸ªåœ°å€ï¼Œå³ <code>4 GB</code>ã€‚å…¶ä¸­ä¸€éƒ¨åˆ†åœ°å€ç©ºé—´ç”¨äºæ“ä½œç³»ç»Ÿçš„å†…æ ¸ç©ºé—´ï¼Œè€Œå¦ä¸€éƒ¨åˆ†åˆ™ç”¨äºç”¨æˆ·ç©ºé—´ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç”¨æˆ·ç©ºé—´å¯ä»¥æ˜¯ <code>2 GB</code> æˆ–è€… <code>3 GB</code>ï¼Œå‰©ä¸‹çš„å…¨éƒ¨æ˜¯å†…æ ¸ç©ºé—´ã€‚å…·ä½“å–å†³äºæ“ä½œç³»ç»Ÿçš„è®¾ç½®ã€‚ç”±å½“å‰è¿›ç¨‹åˆ›å»ºçš„æ‰€æœ‰çº¿ç¨‹ï¼Œå…±äº«è¿›ç¨‹çš„åœ°å€ç©ºé—´ã€‚</p>
<p>é‚£ä¹ˆä¸€ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥å¼€å¤šå°‘çº¿ç¨‹å‘¢ï¼Ÿ</p>
<p>å‡è®¾ç”¨æˆ·ç©ºé—´ä¸º <code>3 GB</code>ï¼Œå³ $3 Ã— 1024 &#x3D; 3072$ï¼Œåœ¨ Linux ç¯å¢ƒä¸‹ä½¿ç”¨ <code>ulimit -a</code> å¯ä»¥æŸ¥è¯¢åˆ°ç³»ç»Ÿçš„ä¸€äº›ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">core file size          (blocks, -c) 0</span><br><span class="line">data seg size           (kbytes, -d) unlimited</span><br><span class="line">scheduling priority             (-e) 0</span><br><span class="line">file size               (blocks, -f) unlimited</span><br><span class="line">pending signals                 (-i) 3795</span><br><span class="line">max locked memory       (kbytes, -l) 64</span><br><span class="line">max memory size         (kbytes, -m) unlimited</span><br><span class="line">open files                      (-n) 1024</span><br><span class="line">pipe size            (512 bytes, -p) 8</span><br><span class="line">POSIX message queues     (bytes, -q) 819200</span><br><span class="line">real-time priority              (-r) 0</span><br><span class="line">stack size              (kbytes, -s) 8192</span><br><span class="line">cpu time               (seconds, -t) unlimited</span><br><span class="line">max user processes              (-u) 3795</span><br><span class="line">virtual memory          (kbytes, -v) unlimited</span><br><span class="line">file locks                      (-x) unlimited</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>Stack Size</code> ä¸º <code>8192 kbytes</code>ï¼Œå³ <code>8 MB</code>ï¼Œåˆ™å¯è®¡ç®— $3072 Ã· 8 &#x3D; 384$ï¼Œæ‰€ä»¥åœ¨ Linux ç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªè¿›ç¨‹æœ€å¤šåˆ›å»º $384$ ä¸ªçº¿ç¨‹ã€‚</p>
<p>æˆ‘ä»¬å°†çº¿ç¨‹å‡½æ•°æ‰€ç”¨çš„æ ˆç©ºé—´å°±æ˜¯çº¿ç¨‹æ ˆã€‚</p>
<img src="./Cpp_Muti_Threaded/ThreadStack.png" style="zoom: 50%;" >

<p>é€šè¿‡ä¸Šé¢çš„æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå¦‚æœçº¿ç¨‹æ•°é‡å¤ªå¤šï¼Œåˆ›å»ºäº†ä¸€å¤§æ‰¹çº¿ç¨‹ï¼Œè¿˜æ²¡æœ‰å…·ä½“åšäº‹æƒ…ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½éœ€è¦çº¿ç¨‹æ ˆï¼Œæ ˆå‡ ä¹éƒ½è¢«å ç”¨å®Œäº†ï¼Œå°±æ²¡å†…å­˜è¿è¡Œå…¶ä»–ç¨‹åºäº†ã€‚</p>
</li>
<li><p>çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢è¦å ç”¨å¤§é‡æ—¶é—´</p>
<p>çº¿ç¨‹è¿‡å¤šï¼Œçº¿ç¨‹çš„è°ƒåº¦æ˜¯éœ€è¦ä¸Šä¸‹æ–‡åˆ‡æ¢çš„ï¼Œä¹Ÿéœ€è¦èŠ±è´¹å¤§é‡çš„ <code>CPU</code> æ—¶é—´ï¼Œå¦‚æœæ›´å¤šçš„æ—¶é—´èŠ±è´¹åˆ°ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸­ï¼Œé‚£ä¹ˆå®é™…ä¸šåŠ¡ä¸­åˆ©ç”¨ <code>CPU</code> çš„æ—¶é—´å°±é™ä½äº†ï¼Œ<code>CPU</code> çš„åˆ©ç”¨ç‡å°±é™ä½äº†ã€‚</p>
</li>
<li><p>å¤§é‡çº¿ç¨‹åŒæ—¶å”¤é†’ä¼šä½¿ç³»ç»Ÿç»å¸¸å‡ºç°é”¯é½¿çŠ¶è´Ÿè½½æˆ–è€…ç¬é—´è´Ÿè½½é‡å¾ˆå¤§å¯¼è‡´å®•æœº</p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœåŒä¸€æ—¶é—´ï¼Œå¾ˆå¤š I&#x2F;O æ“ä½œéƒ½å‡†å¤‡å¥½äº†ï¼Œæˆ–è€…è¯´å¾ˆå¤šçº¿ç¨‹éƒ½å†ç­‰å¾…ä¸€ä¸ª I&#x2F;O æ“ä½œï¼Œæœ‰å¯èƒ½å¯¼è‡´å¤§é‡çº¿ç¨‹åŒæ—¶è¢«å”¤é†’ï¼Œå¯¼è‡´ç³»ç»Ÿç»å¸¸å‡ºç°é”¯é½¿çŠ¶è´Ÿè½½æˆ–è€…ç¬é—´è´Ÿè½½é‡å¾ˆå¤§å¯¼è‡´å®•æœºã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œ<strong>çº¿ç¨‹ä¸æ˜¯è¶Šå¤šè¶Šå¥½</strong>ã€‚é‚£ä¹ˆåˆ›å»ºå¤šå°‘çº¿ç¨‹æ‰æ˜¯åˆé€‚çš„å‘¢ï¼Ÿ</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œåˆ›å»ºçº¿ç¨‹çš„æ•°é‡ä¸€èˆ¬ç”± <code>CPU</code> çš„æ ¸å¿ƒæ•°æ¥ç¡®å®šçš„ï¼Œå³ï¼šæœ‰å‡ ä¸ªæ ¸åˆ›å»ºå‡ ä¸ªçº¿ç¨‹ã€‚<code>C++</code> çš„å¾ˆå¤šå¼€æºåº“å¦‚ <code>moduo</code>ã€<code>libevent</code>ï¼Œ<code>Java</code> çš„ <code>Netty</code>ã€<code>mina</code> ç­‰ï¼Œéƒ½é‡‡å–äº†è¿™ä¸€ç­–ç•¥ã€‚</p>
<p>å½“ç„¶å¦‚æœä¸€ä¸ªåŠŸèƒ½æ˜¯é‡ <code>I/O</code> çš„ï¼Œå¯ä»¥åšå‡ºé€‚å½“çš„è°ƒæ•´ï¼Œå¢åŠ çº¿ç¨‹æ•°é‡ã€‚</p>
<h4 id="11-2-ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Ÿä¸ºä»€ä¹ˆä½¿ä½¿ç”¨çº¿ç¨‹æ± "><a href="#11-2-ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Ÿä¸ºä»€ä¹ˆä½¿ä½¿ç”¨çº¿ç¨‹æ± " class="headerlink" title="11.2 ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Ÿä¸ºä»€ä¹ˆä½¿ä½¿ç”¨çº¿ç¨‹æ± "></a>11.2 ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Ÿä¸ºä»€ä¹ˆä½¿ä½¿ç”¨çº¿ç¨‹æ± </h4><p><u>çº¿ç¨‹è¿‡å¤šä¼šå¸¦æ¥è°ƒåº¦å¼€é”€ï¼Œè¿›è€Œå½±å“ç¼“å­˜å±€éƒ¨æ€§å’Œæ•´ä½“æ€§èƒ½</u>ã€‚æ“ä½œç³»ç»Ÿä¸Šåˆ›å»ºçº¿ç¨‹å’Œé”€æ¯çº¿ç¨‹éƒ½æ˜¯å¾ˆâ€œé‡â€çš„æ“ä½œï¼Œè€—æ—¶è€—æ€§èƒ½éƒ½æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆåœ¨æœåŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¸šåŠ¡é‡æ¯”è¾ƒå¤§ï¼Œå®æ—¶çš„å»åˆ›å»ºçº¿ç¨‹ã€æ‰§è¡Œä¸šåŠ¡ã€ä¸šåŠ¡å®Œæˆåé”€æ¯çº¿ç¨‹ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´ç³»ç»Ÿçš„å®æ—¶æ€§èƒ½é™ä½ï¼Œä¸šåŠ¡çš„å¤„ç†èƒ½åŠ›ä¹Ÿä¼šé™ä½ã€‚</p>
<p><strong>çº¿ç¨‹æ± </strong>æ˜¯ä¸€ç§é¢„å…ˆåˆ›å»ºä¸€å®šæ•°é‡çº¿ç¨‹çš„æœºåˆ¶ï¼Œæˆ–è€…è¯´å…¶æ˜¯ä¸€ç§çº¿ç¨‹ä½¿ç”¨æ¨¡å¼ã€‚</p>
<p><strong>çº¿ç¨‹æ± </strong>ç»´æŠ¤ç€å¤šä¸ªçº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹å¯ä»¥åœ¨éœ€è¦æ—¶è¢«é‡å¤ä½¿ç”¨ï¼Œè€Œæ— éœ€æ¯æ¬¡éƒ½é‡æ–°åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ã€‚</p>
<p><strong>çº¿ç¨‹æ± </strong>çš„ä¸»è¦ç›®çš„æ˜¯æé«˜æ€§èƒ½å’Œèµ„æºåˆ©ç”¨æ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦é¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¤§é‡çº¿ç¨‹çš„åœºæ™¯ä¸‹ï¼Œçº¿ç¨‹æ± ä¸ä»…èƒ½å¤Ÿä¿è¯å†…æ ¸çš„å……åˆ†åˆ©ç”¨ï¼Œè¿˜èƒ½é˜²æ­¢è¿‡åˆ†è°ƒåº¦ã€‚å¯ç”¨çº¿ç¨‹æ•°æ®å–å†³äºå¯ç”¨çš„å¹¶å‘å¤„ç†å™¨ã€å¤„ç†å™¨å†…æ ¸ã€å†…å­˜ã€ç½‘ç»œ <code>sockets</code> ç­‰æ•°é‡ã€‚</p>
<p><strong>çº¿ç¨‹æ± çš„ä¼˜åŠ¿ï¼š</strong>çº¿ç¨‹æ± çš„ä¼˜åŠ¿å°±æ˜¯ï¼ˆæ¯ä¸ªæ± éƒ½æœ‰è‡ªå·±çš„ä¼˜åŠ¿ï¼‰ï¼Œåœ¨æœåŠ¡è¿›ç¨‹å¯åŠ¨ä¹‹åˆï¼Œå°±äº‹å…ˆåˆ›å»ºå¥½çº¿ç¨‹æ± é‡Œé¢çš„çº¿ç¨‹ï¼Œå½“ä¸šåŠ¡æµé‡åˆ°æ¥æ—¶éœ€è¦åˆ†é…çº¿ç¨‹ï¼Œç›´æ¥ä»çº¿ç¨‹æ± ä¸­è·å–ä¸€ä¸ªç©ºé—²çº¿ç¨‹æ‰§è¡Œ <code>Task</code> ä»»åŠ¡å³å¯ï¼Œ<code>Task</code> æ‰§è¡Œå®Œæˆåï¼Œä¹Ÿä¸ç”¨é‡Šæ”¾çº¿ç¨‹ï¼Œè€Œæ˜¯æŠŠçº¿ç¨‹å½’è¿˜åˆ°çº¿ç¨‹æ± ä¸­ç»§ç»­ç»™åç»­çš„ <code>Task</code> æä¾›æœåŠ¡ã€‚</p>
<p><strong>çº¿ç¨‹æ± çš„ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>çº¿ç¨‹å’Œä»»åŠ¡åˆ†ç¦»,æå‡çº¿ç¨‹é‡ç”¨æ€§ï¼›</li>
<li>æ§åˆ¶çº¿ç¨‹å¹¶å‘æ•°é‡,é™ä½æœåŠ¡å™¨å‹åŠ›ï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰çº¿ç¨‹ï¼›</li>
<li>æé«˜æ€§èƒ½ï¼šæå‡ç³»ç»Ÿå“åº”é€Ÿåº¦ï¼Œå‡å¦‚åˆ›å»ºçº¿ç¨‹ç”¨çš„æ—¶é—´ä¸º <code>T1</code>ï¼Œæ‰§è¡Œä»»åŠ¡ç”¨çš„æ—¶é—´ä¸º<code>T2</code>ï¼Œé”€æ¯çº¿ç¨‹ç”¨çš„æ—¶é—´ä¸º <code>T3</code>ï¼Œé‚£ä¹ˆä½¿ç”¨çº¿ç¨‹æ± å°±å…å»äº† <code>T1</code> å’Œ <code>T3</code> çš„æ—¶é—´ã€‚åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹éƒ½æ˜¯ç›¸å¯¹æ˜‚è´µçš„æ“ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œé¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ä¼šæå¤§åœ°é™ä½ç¨‹åºçš„æ€§èƒ½ã€‚é€šè¿‡çº¿ç¨‹æ± é¢„å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„çº¿ç¨‹å¹¶ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¯ä»¥é¿å…é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ï¼Œä»è€Œæé«˜ç¨‹åºçš„æ€§èƒ½ã€‚</li>
<li>èµ„æºç®¡ç†ï¼šçº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿçº§åˆ«çš„èµ„æºï¼Œå¦‚æœçº¿ç¨‹æ•°é‡è¿‡å¤šï¼Œå¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿèµ„æºçš„è¿‡åº¦æ¶ˆè€—ï¼Œç”šè‡³å¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚é€šè¿‡çº¿ç¨‹æ± ï¼Œå¯ä»¥æ§åˆ¶åŒæ—¶è¿è¡Œçš„çº¿ç¨‹æ•°é‡ï¼Œé¿å…èµ„æºè¿‡åº¦æ¶ˆè€—ã€‚</li>
<li>ä»»åŠ¡è°ƒåº¦ï¼šçº¿ç¨‹æ± å¯ä»¥æ›´æ–¹ä¾¿åœ°è¿›è¡Œä»»åŠ¡çš„è°ƒåº¦ã€‚é€šè¿‡çº¿ç¨‹æ± ï¼Œå¯ä»¥å°†ä»»åŠ¡åˆ†é…ç»™ä¸åŒçš„çº¿ç¨‹æ‰§è¡Œï¼Œå®ç°å¹¶è¡Œå¤„ç†ï¼Œæé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚</li>
<li>ç®€åŒ–ç¼–ç¨‹ï¼šä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥ç®€åŒ–å¤šçº¿ç¨‹ç¼–ç¨‹çš„å¤æ‚æ€§ã€‚ç¨‹åºå‘˜åªéœ€è¦å°†ä»»åŠ¡æäº¤ç»™çº¿ç¨‹æ± ï¼Œè€Œä¸éœ€è¦å…³å¿ƒçº¿ç¨‹çš„åˆ›å»ºã€ç®¡ç†å’Œé”€æ¯ç­‰ç»†èŠ‚ï¼Œé™ä½äº†å¤šçº¿ç¨‹ç¼–ç¨‹çš„éš¾åº¦ã€‚</li>
</ul>
<p>å› æ­¤ï¼ŒC++çº¿ç¨‹æ± çš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„å¼€é”€é—®é¢˜ï¼Œæé«˜ç¨‹åºçš„æ€§èƒ½å’Œå¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œç®€åŒ–å¤šçº¿ç¨‹ç¼–ç¨‹çš„å¤æ‚æ€§ã€‚</p>
<p><strong>åœ¨é¡¹ç›®ä¸­å¦‚ä½•ä½¿ç”¨çº¿ç¨‹æ± ï¼Ÿ</strong></p>
<p>ä»¥ä¸€ä¸ªæ·»åŠ è®¢å•åŠŸèƒ½ä¸ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥è¯¢ç”¨æˆ·çš„æ”¶è·åœ°å€å’Œå•†å“ä¿¡æ¯ã€‚åœ¨å•çº¿ç¨‹çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æŒ‰ç…§é¡ºåºè¿›è¡ŒæŸ¥è¯¢ï¼›è€Œåœ¨å¤šçº¿ç¨‹çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨ä¿è¯ä¸¤ä¸ªåŠŸèƒ½æ²¡æœ‰ä¾èµ–å…³ç³»çš„æƒ…å†µä¸‹å¯ä»¥åŒæ—¶æŸ¥è¯¢ï¼ˆå³ä¸éœ€è¦å…ˆæŸ¥è¯¢ç”¨æˆ·çš„æ”¶è·åœ°å€ï¼Œå†æ ¹æ®æ”¶è·åœ°å€æŸ¥è¯¢å•†å“ä¿¡æ¯ï¼‰ã€‚</p>
<p>é¡ºåºæ‰§è¡Œçš„é€Ÿåº¦æ˜¯ <code>503 ms</code>ï¼Œè€Œå¤šçº¿ç¨‹æ‰§è¡Œçš„é€Ÿåº¦æ˜¯ <code>329 ms</code>ï¼Œèƒ½æ˜æ˜¾æé«˜è¿è¡Œé€Ÿåº¦ï¼ˆæ•ˆç‡æå‡å¹…åº¦åœ¨ 50%~60%ï¼‰ã€‚</p>
<h4 id="11-3-çº¿ç¨‹æ± çš„ä¸¤ç§æ¨¡å¼"><a href="#11-3-çº¿ç¨‹æ± çš„ä¸¤ç§æ¨¡å¼" class="headerlink" title="11.3 çº¿ç¨‹æ± çš„ä¸¤ç§æ¨¡å¼"></a>11.3 çº¿ç¨‹æ± çš„ä¸¤ç§æ¨¡å¼</h4><h5 id="11-3-1-fixed-æ¨¡å¼çº¿ç¨‹æ± "><a href="#11-3-1-fixed-æ¨¡å¼çº¿ç¨‹æ± " class="headerlink" title="11.3.1 fixed æ¨¡å¼çº¿ç¨‹æ± "></a>11.3.1 <code>fixed</code> æ¨¡å¼çº¿ç¨‹æ± </h5><p><code>fixed</code> æ¨¡å¼çº¿ç¨‹æ± é‡Œé¢çš„çº¿ç¨‹ä¸ªæ•°æ˜¯å›ºå®šä¸å˜çš„ï¼Œä¸€èˆ¬æ˜¯ <code>ThreadPool</code> åˆ›å»ºæ—¶ï¼Œæ ¹æ®å½“å‰æœºå™¨çš„ <code>CPU</code> æ ¸å¿ƒæ•°é‡è¿›è¡ŒæŒ‡å®šã€‚</p>
<h5 id="11-3-2-cache-æ¨¡å¼çº¿ç¨‹æ± "><a href="#11-3-2-cache-æ¨¡å¼çº¿ç¨‹æ± " class="headerlink" title="11.3.2 cache æ¨¡å¼çº¿ç¨‹æ± "></a>11.3.2 <code>cache</code> æ¨¡å¼çº¿ç¨‹æ± </h5><p>å‡è®¾ä¸€ä¸ªçº¿ç¨‹æ± å†…æœ‰å››ä¸ªçº¿ç¨‹ï¼Œç„¶åæ­¤æ—¶å‡ºç°äº†å››ä¸ªéå¸¸è€—æ—¶çš„ <code>I/O</code> æ“ä½œä»»åŠ¡ï¼Œæ­¤æ—¶æ¯ä¸ªçº¿ç¨‹åˆ†é…äº†ä¸€ä¸ªä»»åŠ¡ï¼Œå¯¼è‡´å››ä¸ªçº¿ç¨‹éƒ½è¢«å ç”¨é˜»å¡åœ¨è¿™é‡Œäº†ã€‚æ­¤æ—¶åˆå‡ºç°äº†ä¸€äº›ä»»åŠ¡ï¼Œä½†æ˜¯ç”±äºçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹é•¿æ—¶é—´é˜»å¡ï¼Œæ‰€ä»¥æ–°çš„ä»»åŠ¡å¯èƒ½è¿Ÿè¿Ÿå¾—ä¸åˆ°å¤„ç†ï¼Œæ­¤æ—¶æ–°çš„ä»»åŠ¡å µåœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œç›¸å½“äºæ•´ä¸ªç¨‹åºå¡æ­»åœ¨äº†è¿™é‡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çº¿ç¨‹æ± çš„å¤§å°æ˜¯å¯ä»¥åŠ¨æ€æ”¹å˜çš„ï¼Œè¿™å°±æ˜¯ <code>cache</code> æ¨¡å¼çš„çº¿ç¨‹æ± ã€‚</p>
<p><code>cache</code>æ¨¡å¼çš„çº¿ç¨‹æ± é‡Œé¢çš„çº¿ç¨‹ä¸ªæ•°æ˜¯å¯åŠ¨æ€å¢é•¿çš„ï¼Œæ ¹æ®ä»»åŠ¡çš„æ•°é‡åŠ¨æ€çš„å¢åŠ çº¿ç¨‹çš„æ•°é‡ï¼Œä½†æ˜¯ä¼šè®¾ç½®ä¸€ä¸ªçº¿ç¨‹æ•°é‡çš„é˜ˆå€¼ï¼ˆçº¿ç¨‹è¿‡å¤šçš„åå¤„ä¸Šé¢å·²ç»è®²è¿‡äº†ï¼‰ï¼Œä»»åŠ¡å¤„ç†å®Œæˆï¼Œå¦‚æœåŠ¨æ€å¢é•¿çš„çº¿ç¨‹ç©ºé—²äº†60sè¿˜æ²¡æœ‰å¤„ç†å…¶å®ƒä»»åŠ¡ï¼Œé‚£ä¹ˆå…³é—­çº¿ç¨‹ï¼Œä¿æŒæ± ä¸­æœ€åˆæ•°é‡çš„çº¿ç¨‹å³å¯ã€‚</p>
<h4 id="11-4-çº¿ç¨‹æ± çš„æ¶æ„ã€æµç¨‹å’Œä½¿ç”¨æ–¹å¼"><a href="#11-4-çº¿ç¨‹æ± çš„æ¶æ„ã€æµç¨‹å’Œä½¿ç”¨æ–¹å¼" class="headerlink" title="11.4 çº¿ç¨‹æ± çš„æ¶æ„ã€æµç¨‹å’Œä½¿ç”¨æ–¹å¼"></a>11.4 çº¿ç¨‹æ± çš„æ¶æ„ã€æµç¨‹å’Œä½¿ç”¨æ–¹å¼</h4><img src="./Cpp_Muti_Threaded/ThreadPoolStructure.png">

<p>ç”±å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„çº¿ç¨‹æ± ä¸»è¦éœ€è¦å®Œæˆä»¥ä¸‹å‡ ä¸ªæ“ä½œï¼š</p>
<ul>
<li>åˆ›å»ºçº¿ç¨‹æ± ã€è®¾ç½®çº¿ç¨‹æ± æ¨¡å¼ã€å¯åŠ¨çº¿ç¨‹æ± </li>
<li>æäº¤å¼‚æ­¥ä»»åŠ¡ï¼š<code>Result result = pool.submitTask(concreteTask);</code></li>
<li>ä¿è¯å¯ä»¥æ¥å—å„ç§å„æ ·çš„ä»»åŠ¡</li>
<li>è·å–å¼‚æ­¥ä»»åŠ¡çš„å¤„ç†ç»“æœï¼ˆè¿™é‡Œéœ€è¦ç”¨åˆ° <code>Any</code> ä¸Šå¸ç±»ï¼‰</li>
<li>å®ç°ä»»åŠ¡é˜Ÿåˆ—ï¼Œè¿™é‡Œä»»åŠ¡é˜Ÿåˆ—è¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä¸”ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡æ•°ä¸å®œè¿‡å¤šï¼ˆè¿‡å¤šä¼šå¯¼è‡´å¤§é‡çš„å†…å­˜å ç”¨ï¼‰</li>
</ul>
<h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ailumiyana/p/10016965.html">åŸºäºC++11å®ç°çº¿ç¨‹æ± çš„å·¥ä½œåŸç† - é‘ã„ç©ºã‚› - åšå®¢å›­ (cnblogs.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_44667165/article/details/135287449">C++çº¿ç¨‹æ± çš„åŸç†ï¼ˆç”»å›¾ï¼‰åŠç®€å•å®ç°+ä¾‹å­ï¼ˆåŠ æ·±ç†è§£ï¼‰_C++ çº¿ç¨‹æ± åŸç† - CSDNåšå®¢</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000044967349">C++: æ¯ä¸€ä¸ªC++ç¨‹åºå‘˜éƒ½åº”è¯¥çŸ¥é“çš„RAII - ä¸ªäººæ–‡ç«  - SegmentFault æ€å¦</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhongzhaoxie/p/13630795.html">C++çº¿ç¨‹æ±  - BrianX - åšå®¢å›­ (cnblogs.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/gnivor/p/15919850.html">C++ç¬”è®°-AtomicåŸå­æ“ä½œ&#x2F;CAS(Compare and Swap) - æµäº†ä¸ªç« - åšå®¢å›­ (cnblogs.com)</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-29T07:29:04.000Z" title="2024/7/29 15:29:04">2024-07-29</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-07-29T07:29:04.152Z" title="2024/7/29 15:29:04">2024-07-29</time>æ›´æ–°</span><span class="level-item">å‡ ç§’è¯»å®Œ (å¤§çº¦0ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/29/Cpp-Network-Programming/">Cpp_Network_Programming</a></p><div class="content"></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-24T02:38:18.000Z" title="2024/7/24 10:38:18">2024-07-24</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-07-28T16:19:31.513Z" title="2024/7/29 00:19:31">2024-07-29</time>æ›´æ–°</span><span class="level-item">31 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦4638ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/24/NginxQuickIN/">NginxQuickIN</a></p><div class="content"><h2 id="ENGINE-X-Nginx-å¿«é€Ÿä¸Šæ‰‹æŒ‡å—"><a href="#ENGINE-X-Nginx-å¿«é€Ÿä¸Šæ‰‹æŒ‡å—" class="headerlink" title="ENGINE X - Nginx å¿«é€Ÿä¸Šæ‰‹æŒ‡å—"></a>ENGINE X - <code>Nginx</code> å¿«é€Ÿä¸Šæ‰‹æŒ‡å—</h2><p>[TOC]</p>
<h3 id="ğŸŒ-1-Nginx-åŸºæœ¬æ¦‚å¿µ"><a href="#ğŸŒ-1-Nginx-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ğŸŒ 1. Nginx åŸºæœ¬æ¦‚å¿µ"></a>ğŸŒ 1. <code>Nginx</code> åŸºæœ¬æ¦‚å¿µ</h3><p><code>Nginx</code> æ˜¯ç›®å‰æœ€æµè¡Œçš„ Web æœåŠ¡å™¨è½¯ä»¶ï¼Œä¹Ÿæ˜¯äº’è”ç½‘å…¬å¸å’Œç½‘ç«™çš„é¦–é€‰ã€‚ä¸€å¼€å§‹æ˜¯ç”±ä¸€ä¸ªåä¸º <code>Igor Sysoev</code> çš„ä¿„ç½—æ–¯ç¨‹åºå‘˜å¼€å‘çš„ï¼Œç›®çš„æ˜¯ç”¨äºè§£å†³ <code>C10K</code> é—®é¢˜ï¼Œ<code>C10K</code> é—®é¢˜æ˜¯æŒ‡æœåŠ¡å™¨åŒæ—¶æ”¯æŒæˆåƒä¸Šä¸‡ä¸ªå¹¶å‘å®¢æˆ·ç«¯çš„é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜åœ¨å½“æ—¶æ˜¯éå¸¸ä¸¥é‡çš„ï¼Œå› ä¸ºå½“æ—¶çš„æœåŠ¡å™¨è½¯ä»¶éƒ½æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨çš„æ€§èƒ½ä¼šå˜å¾—éå¸¸çš„å·®ã€‚</p>
<p><code>Nginx</code> çš„å‡ºç°å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ <code>Nginx</code> å®˜æ–¹çš„æµ‹è¯•ç»“æœä¸­ï¼Œ<code>Nginx</code> å¯ä»¥æ”¯æŒ <code>50000</code> ä¸ªå¹¶å‘è¿æ¥ï¼Œåœ¨åæ¥çš„å‘å±•ä¸­ï¼Œ<code>Nginx</code> ä¹Ÿé€æ¸æˆä¸ºäº†æœ€æµè¡Œçš„ Web æœåŠ¡å™¨è½¯ä»¶ã€‚</p>
<p><code>Nginx</code> å…·æœ‰ <strong><code>epoll</code> I&#x2F;Oå¤šè·¯å¤ç”¨</strong>ã€<strong>é«˜å¹¶å‘</strong>ã€<strong>é«˜æ€§èƒ½</strong>ã€<strong>ä½å†…å­˜æ¶ˆè€—</strong>ã€<strong>çƒ­éƒ¨ç½²</strong>ç­‰ä¼˜åŠ¿ã€‚</p>
<h3 id="ğŸŒ-2-Nginx-å®‰è£…é…ç½®"><a href="#ğŸŒ-2-Nginx-å®‰è£…é…ç½®" class="headerlink" title="ğŸŒ 2. Nginx å®‰è£…é…ç½®"></a>ğŸŒ 2. <code>Nginx</code> å®‰è£…é…ç½®</h3><h4 id="2-1-é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£…-Nginx"><a href="#2-1-é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£…-Nginx" class="headerlink" title="2.1 é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£… Nginx"></a>2.1 é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£… <code>Nginx</code></h4><p>â‘  åœ¨ Linux  ç¯å¢ƒä¸‹ï¼š</p>
<p>æ‰§è¡Œ <code>sudo apt update</code> æ›´æ–° <code>apt</code> åŒ…ï¼Œå¹¶æ‰§è¡Œ <code>sudo apt install nginx </code> å®‰è£… <code>Nginx</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ sudo apt update</span><br><span class="line">[sudo] password <span class="keyword">for</span> nilera: </span><br><span class="line">Get:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]                                                                                                                  </span><br><span class="line">Hit:3 https://packages.microsoft.com/repos/edge stable InRelease                                                                                        </span><br><span class="line">Hit:1 https://packages.microsoft.com/repos/code stable InRelease                                                                                        </span><br><span class="line">Hit:4 https://ppa.launchpadcontent.net/christian-boxdoerfer/fsearch-stable/ubuntu jammy InRelease</span><br><span class="line">Hit:5 https://ppa.launchpadcontent.net/git-core/ppa/ubuntu jammy InRelease                     </span><br><span class="line">Hit:6 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy InRelease                               </span><br><span class="line">Hit:7 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates InRelease</span><br><span class="line">Hit:8 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-backports InRelease</span><br><span class="line">Fetched 129 kB <span class="keyword">in</span> 4s (29.4 kB/s)</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">271 packages can be upgraded. Run <span class="string">&#x27;apt list --upgradable&#x27;</span> to see them.</span><br><span class="line"></span><br><span class="line">nilera@nilera-virtual-machine:~$ sudo apt install nginx </span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">The following additional packages will be installed:</span><br><span class="line">  libnginx-mod-http-geoip2 libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 nginx-common nginx-core</span><br><span class="line">Suggested packages:</span><br><span class="line">  fcgiwrap nginx-doc</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  libnginx-mod-http-geoip2 libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 nginx nginx-common nginx-core</span><br><span class="line">0 upgraded, 9 newly installed, 0 to remove and 271 not upgraded.</span><br><span class="line">Need to get 697 kB of archives.</span><br><span class="line">After this operation, 2,395 kB of additional disk space will be used.</span><br><span class="line">Do you want to <span class="built_in">continue</span>? [Y/n] Y</span><br><span class="line">Get:1 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.4 [40.0 kB]</span><br><span class="line">Get:2 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.4 [11.9 kB]</span><br><span class="line">Get:3 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.4 [15.4 kB]</span><br><span class="line">Get:4 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.4 [13.7 kB]</span><br><span class="line">Get:5 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.4 [45.7 kB]</span><br><span class="line">Get:6 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.4 [72.9 kB]</span><br><span class="line">Get:7 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.4 [10.1 kB]</span><br><span class="line">Get:8 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.4 [484 kB]</span><br><span class="line">Get:9 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.4 [3,872 B]</span><br><span class="line">Fetched 697 kB <span class="keyword">in</span> 5s (128 kB/s)  </span><br><span class="line"></span><br><span class="line">debconf: unable to initialize frontend: Dialog</span><br><span class="line">debconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)</span><br><span class="line">debconf: falling back to frontend: Readline</span><br><span class="line">Preconfiguring packages ...</span><br><span class="line">Selecting previously unselected package nginx-common.</span><br><span class="line">(Reading database ... 229379 files and directories currently installed.)</span><br><span class="line">Preparing to unpack .../0-nginx-common_1.18.0-6ubuntu14.4_all.deb ...</span><br><span class="line">Unpacking nginx-common (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-http-geoip2.</span><br><span class="line">Preparing to unpack .../1-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-http-image-filter.</span><br><span class="line">Preparing to unpack .../2-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-http-xslt-filter.</span><br><span class="line">Preparing to unpack .../3-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-mail.</span><br><span class="line">Preparing to unpack .../4-libnginx-mod-mail_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-stream.</span><br><span class="line">Preparing to unpack .../5-libnginx-mod-stream_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-stream-geoip2.</span><br><span class="line">Preparing to unpack .../6-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package nginx-core.</span><br><span class="line">Preparing to unpack .../7-nginx-core_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking nginx-core (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package nginx.</span><br><span class="line">Preparing to unpack .../8-nginx_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking nginx (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up nginx-common (1.18.0-6ubuntu14.4) ...</span><br><span class="line">debconf: unable to initialize frontend: Dialog</span><br><span class="line">debconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)</span><br><span class="line">debconf: falling back to frontend: Readline</span><br><span class="line">Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service â†’ /lib/systemd/system/nginx.service.</span><br><span class="line">Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up libnginx-mod-mail (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up libnginx-mod-stream (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up nginx-core (1.18.0-6ubuntu14.4) ...</span><br><span class="line"> * Upgrading binary nginx                                                                                                                                                            [ OK ] </span><br><span class="line">Setting up nginx (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Processing triggers <span class="keyword">for</span> man-db (2.10.2-1) ...</span><br><span class="line">Processing triggers <span class="keyword">for</span> ufw (0.36.1-4ubuntu0.1) ...</span><br></pre></td></tr></table></figure>

<p>â‘¡ åœ¨ Mac OS ç¯å¢ƒä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nginx</span><br></pre></td></tr></table></figure>

<p>â‘¢ åœ¨ Windows ç¯å¢ƒä¸‹ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop install nginx</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½¿ç”¨ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco install nginx</span><br></pre></td></tr></table></figure>

<h4 id="2-2-é€šè¿‡æºç ç¼–è¯‘çš„æ–¹å¼å®‰è£…-Nginx"><a href="#2-2-é€šè¿‡æºç ç¼–è¯‘çš„æ–¹å¼å®‰è£…-Nginx" class="headerlink" title="2.2 é€šè¿‡æºç ç¼–è¯‘çš„æ–¹å¼å®‰è£… Nginx"></a>2.2 é€šè¿‡æºç ç¼–è¯‘çš„æ–¹å¼å®‰è£… <code>Nginx</code></h4><p><code>Nginx</code> æ˜¯ä½¿ç”¨ <code>C</code> è¯­è¨€å¼€å‘çš„ï¼Œå› æ­¤å¯ä»¥åƒå…¶ä»– C è¯­è¨€çš„é¡¹ç›®ä¸€æ ·ï¼Œä¸‹è½½ <code>Nginx</code> çš„æºç åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œç„¶åæ‰§è¡Œé¢„ç¼–è¯‘ã€ç¼–è¯‘å’Œå®‰è£…çš„è¿‡ç¨‹ã€‚</p>
<p>â‘  é¢„ç¼–è¯‘</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br><span class="line">--sbin-path=/usr/local/nginx/nginx \</span><br><span class="line">--conf-path=/usr/local/nginx/nginx.conf \</span><br><span class="line">--pid-path=/usr/local/nginx/nginx/pid \</span><br><span class="line">--with-http_ssl_module \</span><br><span class="line">--with-pcre=../pcre2-10.39 \</span><br><span class="line">--with-zlib=../zlib-1.2.11</span><br></pre></td></tr></table></figure>

<p>â‘¡ ç¼–è¯‘</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>

<p>â‘¢ å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure>

<h4 id="2-3-ä½¿ç”¨-Docker-æ¥å®‰è£…-Nginx"><a href="#2-3-ä½¿ç”¨-Docker-æ¥å®‰è£…-Nginx" class="headerlink" title="2.3 ä½¿ç”¨ Docker æ¥å®‰è£… Nginx"></a>2.3 ä½¿ç”¨ <code>Docker</code> æ¥å®‰è£… <code>Nginx</code></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure>

<h3 id="ğŸŒ-3-Nginx-å¸¸ç”¨å‘½ä»¤"><a href="#ğŸŒ-3-Nginx-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ğŸŒ 3. Nginx å¸¸ç”¨å‘½ä»¤"></a>ğŸŒ 3. <code>Nginx</code> å¸¸ç”¨å‘½ä»¤</h3><h4 id="3-1-æœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢"><a href="#3-1-æœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢" class="headerlink" title="3.1 æœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢"></a>3.1 æœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢</h4><h5 id="3-1-1-æœåŠ¡çš„å¯åŠ¨"><a href="#3-1-1-æœåŠ¡çš„å¯åŠ¨" class="headerlink" title="3.1.1 æœåŠ¡çš„å¯åŠ¨"></a>3.1.1 æœåŠ¡çš„å¯åŠ¨</h5><p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>nginx</code> å¯åŠ¨æœåŠ¡ï¼Œè‹¥æ˜¯æ²¡æœ‰å‡ºç°ä¿¡æ¯åˆ™è¯´æ˜å¯åŠ¨æˆåŠŸï¼›è‹¥æ˜¯å¯åŠ¨å¤±è´¥ï¼Œåˆ™ä¼šè¾“å‡ºå¯åŠ¨å¤±è´¥çš„åŸå› ï¼Œæ­¤æ—¶éœ€è¦æ ¹æ®é”™è¯¯åŸå› è¿›è¡Œæ’æŸ¥ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx</span><br></pre></td></tr></table></figure>

<p>å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼š</p>
<table>
<thead>
<tr>
<th>é—®é¢˜æè¿°</th>
<th>é—®é¢˜åŸå› </th>
<th>è§£å†³æ–¹æ¡ˆ</th>
</tr>
</thead>
<tbody><tr>
<td>è¿è¡Œ <code>nginx</code> å‘½ä»¤å‡ºç°é”™è¯¯ï¼š<br /><code>nginx: [alert] could not open error log file: open() &quot;/var/log/nginx/error.log&quot; failed (13: Permission denied)</code></td>
<td>æƒé™é—®é¢˜å¯¼è‡´æ— æ³•æ­£å¸¸å¯åŠ¨ <code>Nginx</code>ã€‚</td>
<td>ä½¿ç”¨ <code>sudo nginx</code> å‘½ä»¤æé«˜ç”¨æˆ·æ‰§è¡Œçš„æƒé™ã€‚</td>
</tr>
<tr>
<td>è¿è¡Œ <code>sudo nginx</code> å‘½ä»¤å‡ºç°é”™è¯¯ï¼š<br /><code>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Unknown error) ... nginx: [emerg] still could not bind()</code></td>
<td>å¤§æ¦‚ç‡æ˜¯ <code>80</code> ç«¯å£å·²ç»è¢«ç»‘å®šäº†ï¼Œæˆ–è€…æ˜¯ä¹‹å‰å·²ç»å¯åŠ¨äº† <code>Nginx</code> å¯¼è‡´ç«¯å£å†²çªã€‚å¯ä»¥æŸ¥çœ‹ <code>80</code> ç«¯å£çš„å ç”¨æƒ…å†µè¿›è¡Œè¿›ä¸€æ­¥æ“ä½œã€‚</td>
<td>ä½¿ç”¨ <code>kill</code> å‘½ä»¤æ€æ­»å ç”¨ç«¯å£çš„ç¨‹åºï¼Œç„¶åé‡æ–°è¿è¡Œ <code>sudo nginx</code> å‘½ä»¤ã€‚</td>
</tr>
</tbody></table>
<p>è®¿é—® <code>&lt;your ipaddr&gt;:8080</code> å‡ºç°ä»¥ä¸‹æ¬¢è¿ç•Œé¢åˆ™è¡¨ç¤º <code>Nginx</code> å¯åŠ¨æˆåŠŸã€‚</p>
<img src="./NginxQuickIN/Welcome2Nginx.png" style="zoom: 33%;" >

<h5 id="3-1-2-æŸ¥çœ‹-Nginx-çš„è¿›ç¨‹"><a href="#3-1-2-æŸ¥çœ‹-Nginx-çš„è¿›ç¨‹" class="headerlink" title="3.1.2 æŸ¥çœ‹ Nginx çš„è¿›ç¨‹"></a>3.1.2 æŸ¥çœ‹ <code>Nginx</code> çš„è¿›ç¨‹</h5><p>ä½¿ç”¨ <code>ps -ef|grep nginx</code> å¯ä»¥æŸ¥çœ‹ <code>Nginx</code> è¿›ç¨‹ã€‚è¿™ä¸ªå…¶å®å¹¶ä¸æ˜¯ <code>Nginx</code> çš„å‘½ä»¤ï¼Œè€Œæ˜¯ <code>Linux</code> è‡ªå¸¦çš„å‘½ä»¤ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ ps -ef|grep nginx</span><br><span class="line">root       14461       1  0 10:43 ?        00:00:00 nginx: master process nginx</span><br><span class="line">www-data   14462   14461  0 10:43 ?        00:00:00 nginx: worker process</span><br><span class="line">www-data   14463   14461  0 10:43 ?        00:00:00 nginx: worker process</span><br><span class="line">www-data   14464   14461  0 10:43 ?        00:00:00 nginx: worker process</span><br><span class="line">www-data   14465   14461  0 10:43 ?        00:00:00 nginx: worker process</span><br><span class="line">nilera     14542   11143  0 10:43 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¯ä»¥çœ‹åˆ° <code>Nginx</code> çš„è¿›ç¨‹åŒ…æ‹¬ <strong><code>Master</code> è¿›ç¨‹</strong> å’Œ <strong><code>Worker</code> è¿›ç¨‹</strong>ã€‚</p>
<ul>
<li><strong><code>Master</code> è¿›ç¨‹</strong>å°±æ˜¯<code>Nginx</code> çš„ä¸»è¿›ç¨‹ï¼Œä»–ä¸»è¦è´Ÿè´£è¯»å–å’ŒéªŒè¯é…ç½®æ–‡ä»¶ï¼Œå¹¶ç®¡ç† <strong><code>Worker</code>è¿›ç¨‹</strong>ï¼Œå°†å·¥ä½œåˆ†é…ç»™ <strong><code>Worker</code>è¿›ç¨‹</strong>ã€‚</li>
<li><strong><code>Worker</code> è¿›ç¨‹</strong>å°±æ˜¯<code>Nginx</code> çš„å·¥ä½œè¿›ç¨‹ï¼Œå…¶ä¸»è¦è´Ÿè´£å®é™…çš„è¯·æ±‚ï¼Œå®Œæˆå…·ä½“çš„å·¥ä½œã€‚</li>
<li><strong><code>Master</code>è¿›ç¨‹</strong>åªæœ‰ä¸€ä¸ªï¼Œè€Œ**<code>Worker</code>è¿›ç¨‹**å¯ä»¥æœ‰å¾ˆå¤šä¸ªï¼Œ<code>Worker</code> è¿›ç¨‹çš„æ•°é‡å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥è°ƒæ•´ã€‚</li>
</ul>
<p>æˆ–è€…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>lsof -i:80</code> æ¥æŸ¥çœ‹ <code>80</code> ç«¯å£çš„å ç”¨æƒ…å†µï¼Œéœ€è¦æ³¨æ„ï¼š<code>lsof</code> å‘½ä»¤å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰çš„ Linux å‘è¡Œç‰ˆï¼Œæœ‰äº›å‘è¡Œç‰ˆå¯èƒ½éœ€è¦å®‰è£…è¯¥å‘½ä»¤ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ sudo lsof -i:80</span><br><span class="line">[sudo] password <span class="keyword">for</span> nilera: </span><br><span class="line">COMMAND   PID     USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">nginx   14461     root    6u  IPv4 141914      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14461     root    7u  IPv6 141915      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14462 www-data    6u  IPv4 141914      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14462 www-data    7u  IPv6 141915      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14463 www-data    6u  IPv4 141914      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14463 www-data    7u  IPv6 141915      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14464 www-data    6u  IPv4 141914      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14464 www-data    7u  IPv6 141915      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14465 www-data    6u  IPv4 141914      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14465 www-data    7u  IPv6 141915      0t0  TCP *:http (LISTEN)</span><br></pre></td></tr></table></figure>

<h5 id="3-1-3-æœåŠ¡çš„åœæ­¢"><a href="#3-1-3-æœåŠ¡çš„åœæ­¢" class="headerlink" title="3.1.3 æœåŠ¡çš„åœæ­¢"></a>3.1.3 æœåŠ¡çš„åœæ­¢</h5><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>nginx -s &lt;signal&gt;</code> æ¥æ§åˆ¶ <code>Nginx</code> çš„åœæ­¢æˆ–é‡å¯ã€‚<code>&lt;signal&gt;</code> å¯ä»¥æ˜¯ <strong><code>quit</code>ä¼˜é›…é€€å‡º</strong>ã€**<code>stop</code>ç«‹å³åœæ­¢<strong>ã€</strong><code>reload</code>é‡è½½é…ç½®æ–‡ä»¶<strong>ã€</strong><code>reopen</code>é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶**ä¸­çš„ä¸€ä¸ªã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ sudo nginx -s quit</span><br><span class="line">nilera@nilera-virtual-machine:~$ ps -ef|grep nginx</span><br><span class="line">nilera     15527   11143  0 11:16 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure>

<h4 id="3-2-æŸ¥çœ‹-Nginx-çš„ç‰ˆæœ¬ã€è·¯å¾„ç­‰ä¿¡æ¯"><a href="#3-2-æŸ¥çœ‹-Nginx-çš„ç‰ˆæœ¬ã€è·¯å¾„ç­‰ä¿¡æ¯" class="headerlink" title="3.2 æŸ¥çœ‹ Nginx çš„ç‰ˆæœ¬ã€è·¯å¾„ç­‰ä¿¡æ¯"></a>3.2 æŸ¥çœ‹ <code>Nginx</code> çš„ç‰ˆæœ¬ã€è·¯å¾„ç­‰ä¿¡æ¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ nginx -V</span><br><span class="line">nginx version: nginx/1.18.0 (Ubuntu)</span><br><span class="line">built with OpenSSL 3.0.2 15 Mar 2022</span><br><span class="line">TLS SNI support enabled</span><br><span class="line">configure arguments: --with-cc-opt=<span class="string">&#x27;-g -O2 -ffile-prefix-map=/build/nginx-zctdR4/nginx-1.18.0=. -flto=auto -ffat-lto-objects -flto=auto -ffat-lto-objects -fstack-protector-strong -Wformat -Werror=format-security -fPIC -Wdate-time -D_FORTIFY_SOURCE=2&#x27;</span> --with-ld-opt=<span class="string">&#x27;-Wl,-Bsymbolic-functions -flto=auto -ffat-lto-objects -flto=auto -Wl,-z,relro -Wl,-z,now -fPIC&#x27;</span> --prefix=/usr/share/nginx --conf-path=/etc/nginx/nginx.conf --http-log-path=/var/log/nginx/access.log --error-log-path=/var/log/nginx/error.log --lock-path=/var/lock/nginx.lock --pid-path=/run/nginx.pid --modules-path=/usr/lib/nginx/modules --http-client-body-temp-path=/var/lib/nginx/body --http-fastcgi-temp-path=/var/lib/nginx/fastcgi --http-proxy-temp-path=/var/lib/nginx/proxy --http-scgi-temp-path=/var/lib/nginx/scgi --http-uwsgi-temp-path=/var/lib/nginx/uwsgi --with-compat --with-debug --with-pcre-jit --with-http_ssl_module --with-http_stub_status_module --with-http_realip_module --with-http_auth_request_module --with-http_v2_module --with-http_dav_module --with-http_slice_module --with-threads --add-dynamic-module=/build/nginx-zctdR4/nginx-1.18.0/debian/modules/http-geoip2 --with-http_addition_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_sub_module</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ <code>--conf-path</code> åŒ…å«äº† <code>Nginx</code> çš„é…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è·¯å¾„ä¸ºï¼š<code>--conf-path=/etc/nginx/nginx.conf</code>ã€‚</p>
<p>æˆ–è€…å¯ä»¥ä½¿ç”¨ <code>nginx -t</code> æ¥å¿«é€Ÿå®šä½åˆ° é…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚<code>nginx -t</code> åŒæ—¶ä¹Ÿå¯ä»¥ç”¨äºæ£€æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨é—®é¢˜ï¼Œå¦‚æœé…ç½®æ–‡ä»¶å‡ºç°é”™è¯¯ï¼Œæ‰§è¡Œ <code>nginx -t</code> ä¼šæç¤ºé”™è¯¯ä½ç½®å’Œé”™è¯¯ä¿¡æ¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ sudo nginx -t</span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf <span class="built_in">test</span> is successful</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>Ubuntu 22.04</code> ä¸­ï¼Œå®‰è£…çš„ <code>Nginx</code> ç‰ˆæœ¬ä¸º <code>nginx/1.18.0(Ubuntu)</code>ã€‚åœ¨è¯¥ç‰ˆæœ¬ä¸­çš„é…ç½®æ–‡ä»¶å’Œä¸€äº›æœ€æ–°çš„ç‰ˆæœ¬æœ‰ä¸€äº›åŒºåˆ«ï¼Œä½“ç°åœ¨å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>ä¸»é…ç½®æ–‡ä»¶ï¼š<code>/etc/nginx/nginx.conf</code></li>
<li>ç«™ç‚¹é…ç½®æ–‡ä»¶ç›®å½•ï¼š<code>/etc/nginx/sites-available</code> å’Œ <code>/etc/nginx/sites-enabled</code></li>
</ul>
<p>åœ¨è¯¥ç‰ˆæœ¬é€šå¸¸å°†ç«™ç‚¹é…ç½®æ–‡ä»¶æ”¾åœ¨ <code>sites-available</code> ç›®å½•ä¸­ï¼Œå¹¶é€šè¿‡åˆ›å»ºç¬¦å·é“¾æ¥åˆ° <code>sites-enabled</code> ç›®å½•æ¥å¯ç”¨å®ƒä»¬ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªç®€å•çš„ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/nginx/sites-available/my_site</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>nginx/1.25.1</code> ç‰ˆæœ¬ä¸­ï¼Œç«™ç‚¹çš„é…ç½®æ–‡ä»¶å’Œä¸»é…ç½®æ–‡ä»¶æ˜¯åœ¨å†™åœ¨ä¸€èµ·çš„ã€‚</p>
<h4 id="3-3-Nginx-çš„é…ç½®æ–‡ä»¶"><a href="#3-3-Nginx-çš„é…ç½®æ–‡ä»¶" class="headerlink" title="3.3 Nginx çš„é…ç½®æ–‡ä»¶"></a>3.3 <code>Nginx</code> çš„é…ç½®æ–‡ä»¶</h4><p><code>Nginx</code> çš„é…ç½®æ–‡ä»¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œ <code>Nginx</code> çš„ä¸€äº›è®¾ç½®ï¼Œå¦‚ <code>worker</code> è¿›ç¨‹æ•°ç­‰ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ­¥éª¤ä¿®æ”¹ <code>Nginx</code> çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>â‘  ç¼–è¾‘ <code>Nginx</code> é…ç½®æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>

<p>â‘¡ ä¿®æ”¹ç›¸åº”çš„é…ç½®é¡¹</p>
<p><code>Nginx</code> çš„é…ç½®é¡¹åŒ…æ‹¬å…¨å±€å—ã€<code>events</code> å—ã€<code>http</code> å—ã€‚</p>
<ul>
<li><p>å…¨å±€å—</p>
<p>ä¸»è¦æ˜¯ä¸€äº›å…¨å±€é…ç½®ï¼Œæ¯”å¦‚ <code>Worker</code> è¿›ç¨‹æ•°ã€æŒ‡å®šè¿è¡ŒæœåŠ¡çš„ç”¨æˆ·ç­‰ã€‚</p>
</li>
<li><p><code>events</code> å—</p>
<p>ä¸»è¦æ˜¯æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´ç½‘ç»œè¿æ¥çš„ä¸€äº›é…ç½®ç­‰ï¼Œæ¯”å¦‚æŒ‡å®šæ¯ä¸ª <code>Worker</code> è¿›ç¨‹å¯ä»¥åŒæ—¶æ¥æ”¶å¤šå°‘ä¸ªç½‘ç»œè¿æ¥ã€ç½‘ç»œI&#x2F;Oæ¨¡å‹ç­‰ã€‚</p>
</li>
<li><p><code>http</code> å—</p>
<p><code>http</code> å—æ˜¯ <code>Nginx</code> ä¿®æ”¹æœ€é¢‘ç¹çš„éƒ¨åˆ†ï¼Œå¦‚è™šæ‹Ÿä¸»æœºã€åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ç­‰ï¼Œéƒ½æ˜¯åœ¨ <code>http</code> å—ä¸­è¿›è¡Œé…ç½®çš„ã€‚</p>
<ul>
<li><p><code>server</code> å—</p>
<p><code>http</code> å—ä¸‹å…·æœ‰å¤šä¸ª <code>server</code> å—ï¼Œä¹Ÿå«è™šæ‹Ÿä¸»æœºã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æ–‡ä»¶ä¸‹é¢ <code>include servers/*</code>ï¼Œè¿™æ ·å°±å¯ä»¥å°† <code>servers</code> ç›®å½•ä¸‹æ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½åŒ…å«è¿›æ¥ï¼Œè¿™æ ·å°±å¯ä»¥å°†æ¯ä¸ªè™šæ‹Ÿä¸»æœºéƒ½æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚ä»è€Œè®©ä¸»é…ç½®æ–‡ä»¶çœ‹èµ·æ¥æ›´åŠ çš„æ¸…æ™°ã€‚</p>
<p>åœ¨ <code>1.18.0(Ubuntu)</code> ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä¸»é…ç½®æ–‡ä»¶ä¸­åŒ…å« <code>include /etc/nginx/sites-enabled/*;</code>ï¼Œè€Œåœ¨ <code>/etc/nginx/site-enabled</code> ä¸­ï¼Œå¯ä»¥çœ‹åˆ° <code>default</code> è½¯è¿æ¥åˆ° <code>/etc/nginx/sites-available/default</code> ä¸­ã€‚</p>
<p><code>include</code> å‘½ä»¤è¿˜å¯ä»¥åŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ <code>mime.types</code>ã€‚</p>
</li>
</ul>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ <code>Ubuntu</code> ç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">user www-data;</span><br><span class="line">worker_processes auto;				-- è¿™é‡Œå¯ä»¥ç”¨äºä¿®æ”¹ Work è¿›ç¨‹çš„è¿›ç¨‹æ•°</span><br><span class="line">pid /run/nginx.pid;</span><br><span class="line">include /etc/nginx/modules-enabled/*.conf;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">        worker_connections 768;</span><br><span class="line">        <span class="comment"># multi_accept on;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        <span class="comment"># Basic Settings</span></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">        sendfile on;</span><br><span class="line">        tcp_nopush on;</span><br><span class="line">        types_hash_max_size 2048;</span><br><span class="line">        <span class="comment"># server_tokens off;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># server_names_hash_bucket_size 64;</span></span><br><span class="line">        <span class="comment"># server_name_in_redirect off;</span></span><br><span class="line"></span><br><span class="line">        include /etc/nginx/mime.types;</span><br><span class="line">        default_type application/octet-stream;</span><br><span class="line"></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        <span class="comment"># SSL Settings</span></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">        ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; <span class="comment"># Dropping SSLv3, ref: POODLE</span></span><br><span class="line">        ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        <span class="comment"># Logging Settings</span></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">        access_log /var/log/nginx/access.log;</span><br><span class="line">        error_log /var/log/nginx/error.log;</span><br><span class="line"></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        <span class="comment"># Gzip Settings</span></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">        gzip on;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># gzip_vary on;</span></span><br><span class="line">        <span class="comment"># gzip_proxied any;</span></span><br><span class="line">        <span class="comment"># gzip_comp_level 6;</span></span><br><span class="line">        <span class="comment"># gzip_buffers 16 8k;</span></span><br><span class="line">        <span class="comment"># gzip_http_version 1.1;</span></span><br><span class="line">        <span class="comment"># gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        <span class="comment"># Virtual Host Configs</span></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">        include /etc/nginx/conf.d/*.conf;</span><br><span class="line">        include /etc/nginx/sites-enabled/*;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#mail &#123;</span></span><br><span class="line"><span class="comment">#       # See sample authentication script at:</span></span><br><span class="line"><span class="comment">#       # http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#       # auth_http localhost/auth.php;</span></span><br><span class="line"><span class="comment">#       # pop3_capabilities &quot;TOP&quot; &quot;USER&quot;;</span></span><br><span class="line"><span class="comment">#       # imap_capabilities &quot;IMAP4rev1&quot; &quot;UIDPLUS&quot;;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#       server &#123;</span></span><br><span class="line"><span class="comment">#               listen     localhost:110;</span></span><br><span class="line"><span class="comment">#               protocol   pop3;</span></span><br><span class="line"><span class="comment">#               proxy      on;</span></span><br><span class="line"><span class="comment">#       &#125;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#       server &#123;</span></span><br><span class="line"><span class="comment">#               listen     localhost:143;</span></span><br><span class="line"><span class="comment">#               protocol   imap;</span></span><br><span class="line"><span class="comment">#               proxy      on;</span></span><br><span class="line"><span class="comment">#       &#125;</span></span><br><span class="line"><span class="comment">#&#125;</span></span><br></pre></td></tr></table></figure>

<p>â‘¢ ä½¿ç”¨ <code>nginx -t</code> å‘½ä»¤æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨é—®é¢˜ã€‚</p>
<p>â‘£ ä½¿ç”¨ <code>nginx -s reload</code> ä¿®æ”¹é…ç½®æ–‡ä»¶åéœ€è¦é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ã€‚</p>
<h3 id="ğŸŒ-4-Nginx-å¸¸ç”¨æ“ä½œ"><a href="#ğŸŒ-4-Nginx-å¸¸ç”¨æ“ä½œ" class="headerlink" title="ğŸŒ 4. Nginx å¸¸ç”¨æ“ä½œ"></a>ğŸŒ 4. <code>Nginx</code> å¸¸ç”¨æ“ä½œ</h3><h4 id="4-1-é™æ€ç«™ç‚¹éƒ¨ç½²"><a href="#4-1-é™æ€ç«™ç‚¹éƒ¨ç½²" class="headerlink" title="4.1 é™æ€ç«™ç‚¹éƒ¨ç½²"></a>4.1 é™æ€ç«™ç‚¹éƒ¨ç½²</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Hexo</code> æ¥ç”Ÿæˆä¸€ä¸ªç®€å•çš„é™æ€åšå®¢ç½‘ç«™ï¼Œå¹¶å°†å…¶éƒ¨ç½²åˆ° <code>Nginx</code> ä¸­ã€‚</p>
<p><code>Hexo</code> æ˜¯ä¸€ä¸ªé™æ€åšå®¢ç«™ç‚¹ç”Ÿæˆå·¥å…·ï¼Œæ˜¯ä¸€ä¸ªåŸºäº <code>Node.js</code> çš„åšå®¢æ¡†æ¶ã€‚å®ƒå¯ä»¥å°† <code>Markdown</code> æ ¼å¼çš„æ–‡æ¡£è½¬åŒ–æˆé™æ€é¡µé¢ï¼Œéå¸¸é€‚åˆç”¨äºåšä¸ªäººæŠ€æœ¯åšå®¢ã€‚</p>
<p>ä¸‹é¢å…ˆäº†è§£ä»¥ä¸‹å¦‚ä½•å®‰è£…å’Œå¯åŠ¨ <code>Hexo</code>ã€‚</p>
<p>â‘  å‰ç½®è¦æ±‚ï¼šå®‰è£… <code>Node.js</code> å’Œ <code>Git</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ sudo apt update</span><br><span class="line">nilera@nilera-virtual-machine:~$ sudo apt install -y nodejs npm</span><br><span class="line"></span><br><span class="line">nilera@nilera-virtual-machine:~$ sudo apt install git</span><br></pre></td></tr></table></figure>

<p>â‘¡ æ£€æµ‹ <code>Node.js</code>ã€<code>npm</code> å’Œ <code>Git</code> çš„ç‰ˆæœ¬</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ nodejs -v</span><br><span class="line">v12.22.9</span><br><span class="line"></span><br><span class="line">nilera@nilera-virtual-machine:~$ npm -v</span><br><span class="line">8.5.1</span><br><span class="line"></span><br><span class="line">nilera@nilera-virtual-machine:~$ git -v</span><br><span class="line">git version 2.43.0</span><br></pre></td></tr></table></figure>

<p>â‘¢ å®‰è£… <code>Hexo</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<p>â‘£ å®‰è£… <code>Hexo</code> æœ‰å¯èƒ½ä¼šå‡ºç°å®‰è£…é€Ÿåº¦è¿‡æ…¢çš„æƒ…å†µï¼Œè¿™æ—¶æˆ‘ä»¬è¿›è¡Œ <code>npm</code> æ¢æºæ“ä½œã€‚</p>
<ul>
<li>æŸ¥çœ‹æº</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ npm config get registry</span><br><span class="line">https://registry.npmjs.org/</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ›´æ¢æ·˜å®æº</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œ<code>https://registry.npm.taobao.org/</code> å·²ç»äº <em>2022å¹´05æœˆ31æ—¥</em> åºŸå¼ƒï¼Œç°åœ¨éœ€è¦æ›´æ¢ä¸ºæ–°çš„æ·˜å®é•œåƒæº <code>https://registry.npmmirror.com/</code>ã€‚æ¢æºçš„é…ç½®ä¼šæŒä¹…åŒ–ä¿å­˜åˆ° <code>~/.npmrc</code> æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡æ‰‹åŠ¨ä¿®æ”¹è¯¥æ–‡ä»¶æ¥ä¿®æ”¹é…ç½®ã€‚</p>
<p>æ­¤å¤–æˆ‘ä»¬å¯ä»¥å®‰è£… <code>nrm</code> åŒ…æ¥ç®€åŒ–è¿™ä¸€æ“ä½œï¼Œ<code>nrm</code> å…¶å®å°±æ˜¯ <code>NPM Registry Manager</code>ï¼Œæ˜¯ä¸€ä¸ªç”¨äºç®¡ç† <code>NPM</code> æºçš„ç®€å•å‘½ä»¤è¡Œå·¥å…·ã€‚å…·ä½“æ“ä½œå¯ä»¥å‚è€ƒæ–‡ç« ï¼š<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/564574951"><code>NPM</code> å¦‚ä½•æ¢æº ?</a></p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org/</span><br><span class="line">nilera@nilera-virtual-machine:~$ npm config <span class="built_in">set</span> registry https://registry.npmmirror.com/</span><br></pre></td></tr></table></figure>

<ul>
<li>æ¢å¤å®˜æ–¹æº</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ npm config <span class="built_in">set</span> registry https://registry.npmjs.org</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ é™¤æ³¨å†Œè¡¨</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ npm config delete registry</span><br></pre></td></tr></table></figure>

<p>â‘¤ åˆå§‹åŒ–</p>
<p>æ‰§è¡Œå®Œ <code>hexo init blog-demo</code> åï¼Œä¼šåœ¨æ‰§è¡Œè¯¥ç›®å½•ä¸‹ç”Ÿæˆ <code>blog-demo</code> ç›®å½•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ hexo init blog-demo</span><br><span class="line">INFO  Cloning hexo-starter https://github.com/hexojs/hexo-starter.git</span><br><span class="line">INFO  Install dependencies</span><br><span class="line">INFO  Start blogging with Hexo!</span><br></pre></td></tr></table></figure>

<p>â‘¥ å®‰è£…ä¾èµ–</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ <span class="built_in">cd</span> blog-demo</span><br><span class="line">nilera@nilera-virtual-machine:~$ npm install</span><br></pre></td></tr></table></figure>

<p>â‘¦ ä½¿ç”¨ <code>hexo g</code> ç”Ÿæˆç½‘ç«™é™æ€é¡µé¢</p>
<p>è¯¥å‘½ä»¤çš„ä¸»è¦ä½œç”¨æ˜¯å°† <code>Markdown</code> æ ¼å¼çš„æ–‡ç« ï¼Œè½¬åŒ–æˆé™æ€é¡µé¢ï¼Œå¹¶æ”¾åˆ° <code>public</code> ç›®å½•ä¸­ã€‚ç¬¬ä¸€æ¬¡æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œä¼šç”Ÿæˆ <code>public</code> ç›®å½•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~/blog-demo$ hexo g</span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Files loaded <span class="keyword">in</span> 1.18 s</span><br><span class="line">INFO  Generated: archives/2024/index.html</span><br><span class="line">INFO  Generated: archives/index.html</span><br><span class="line">INFO  Generated: archives/2024/07/index.html</span><br><span class="line">INFO  Generated: index.html</span><br><span class="line">INFO  Generated: fancybox/jquery.fancybox.min.css</span><br><span class="line">INFO  Generated: js/script.js</span><br><span class="line">INFO  Generated: css/style.css</span><br><span class="line">INFO  Generated: css/images/banner.jpg</span><br><span class="line">INFO  Generated: 2024/07/28/hello-world/index.html</span><br><span class="line">INFO  Generated: fancybox/jquery.fancybox.min.js</span><br><span class="line">INFO  Generated: js/jquery-3.6.4.min.js</span><br><span class="line">INFO  11 files generated <span class="keyword">in</span> 7.46 s</span><br></pre></td></tr></table></figure>

<p>â‘¦ ä½¿ç”¨ <code>hexo s</code> æˆ– <code>hexo server</code> æœ¬åœ°è¿è¡Œï¼ˆå¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~/blog-demo$ hexo server</span><br><span class="line">nilera@nilera-virtual-machine:~/blog-demo$ hexo s</span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000/ . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>

<p>â‘§ å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ä¼šå°†é¡µé¢éƒ¨ç½²åˆ° <code>Nginx</code> ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦å°† <code>blog-demo</code> ä¸­çš„ <code>public</code> ç›®å½•å¤åˆ¶åˆ° <code>Nginx</code> ç”¨äºå­˜æ”¾é™æ€é¡µé¢çš„ç›®å½•ä¸‹å³å¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~/blog-demo$ sudo <span class="built_in">cp</span> -rf public/* /var/www/html/</span><br></pre></td></tr></table></figure>

<p>â‘¨ è®¿é—® <code>Nginx</code> é¡µé¢ï¼Œå³å¯è¿›è¡Œåšå®¢ç½‘ç«™çš„è®¿é—®ã€‚</p>
<h4 id="4-2-åå‘ä»£ç†"><a href="#4-2-åå‘ä»£ç†" class="headerlink" title="4.2 åå‘ä»£ç†"></a>4.2 åå‘ä»£ç†</h4><p>åå‘ä»£ç†æ˜¯ç›¸å¯¹äºæ­£å‘ä»£ç†æ¥è¯´çš„ï¼Œç®€å•æ¥è¯´ï¼Œæ­£å‘ä»£ç†å°±æ˜¯ä»£ç†å®¢æˆ·ç«¯ï¼Œåå‘ä»£ç†å°±æ˜¯ä»£ç†æœåŠ¡ç«¯ã€‚</p>
<img src="./NginxQuickIN/Proxy.png" style="zoom: 33%;" >

<p>ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬æƒ³è¦è®¿é—®ä¸€ä¸ªå›½å¤–çš„ç½‘ç«™ï¼ˆå¦‚ï¼šGoogleï¼‰æ—¶ï¼Œå¯èƒ½ç”±äºç½‘ç»œçš„åŸå› æ— æ³•è®¿é—®åˆ°ç›¸å…³å†…å®¹ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>VPN</code> è¿™ç§ä»£ç†æœåŠ¡å™¨ï¼Œè®©ä»£ç†æœåŠ¡å™¨ä½œä¸ºå®¢æˆ·ç«¯ï¼Œä»£ç†æˆ‘ä»¬å»è®¿é—®è¿™äº›ç½‘ç«™ï¼Œå†å°†è®¿é—®çš„ç»“æœè¿”å›ç»™æˆ‘ä»¬ã€‚è¿™å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„<strong>æ­£å‘ä»£ç†</strong>çš„ä¾‹å­ï¼Œè¿™é‡Œçš„ä»£ç†æœåŠ¡å™¨ä»£ç†çš„æ˜¯å®¢æˆ·ç«¯ï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹å®¢æˆ·ç«¯æ˜¯çŸ¥é“çš„ï¼Œä½†æ˜¯å¯¹äºæœåŠ¡ç«¯æ¥è¯´æ˜¯é€æ˜çš„ã€‚</p>
<p>è€Œ<strong>åå‘ä»£ç†æ˜¯ä»£ç†æœåŠ¡ç«¯</strong>çš„ï¼Œæ¯”å¦‚å½“æˆ‘ä»¬å‡†å¤‡è®¿é—®ä¸€ä¸ªç½‘ç«™ï¼ˆå¦‚ï¼šGoogleï¼‰çš„æ—¶å€™ï¼Œä»–åé¢å¯èƒ½æœ‰ç€æˆåƒä¸Šä¸‡å°æœåŠ¡å™¨ï¼Œä½†æ˜¯å¯¹å¤–æš´éœ²çš„åªæœ‰ä¸€ä¸ªåŸŸåï¼Œæˆ‘ä»¬ä¹Ÿåªèƒ½é€šè¿‡è¿™ä¸ªåŸŸåæ¥è¿›è¡Œè®¿é—®ï¼Œç„¶åæˆ‘ä»¬çš„è¯·æ±‚ä¼šè¢«è½¬å‘åˆ°åé¢çš„æœåŠ¡å™¨ä¸Šã€‚è¿™ç§æ–¹å¼éšè—äº†çœŸå®çš„æœåŠ¡å™¨<code>IP</code>åœ°å€ã€ç«¯å£ç­‰ä¿¡æ¯ã€‚è¿™å°±æ˜¯<strong>åå‘ä»£ç†</strong>çš„å…¸å‹ä¾‹å­ï¼Œè¿™é‡Œçš„ä»£ç†æœåŠ¡å™¨ä»£ç†çš„æ˜¯æœåŠ¡ç«¯ï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹æœåŠ¡ç«¯æ˜¯çŸ¥é“çš„ï¼Œä½†æ˜¯å¯¹äºå®¢æˆ·ç«¯æ¥è¯´æ˜¯é€æ˜çš„ã€‚</p>
<h4 id="4-3-è´Ÿè½½å‡è¡¡"><a href="#4-3-è´Ÿè½½å‡è¡¡" class="headerlink" title="4.3 è´Ÿè½½å‡è¡¡"></a>4.3 è´Ÿè½½å‡è¡¡</h4><h4 id="4-4-HTTPS-é…ç½®"><a href="#4-4-HTTPS-é…ç½®" class="headerlink" title="4.4 HTTPS é…ç½®"></a>4.4 <code>HTTPS</code> é…ç½®</h4><p><code>HTTPS</code> åè®®æ˜¯ <code>HTTP</code> åè®®çš„å®‰å…¨ç‰ˆæœ¬ï¼Œå®ƒé€šè¿‡å¯¹ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†æ¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ã€‚<code>HTTP</code> åè®®çš„é»˜è®¤ç«¯å£å·æ˜¯ <code>80</code> ï¼Œè€Œ <code>HTTPS</code> åè®®çš„é»˜è®¤ç«¯å£å·æ˜¯ <code>443</code>ã€‚</p>
<p><code>HTTPS</code> åè®®éœ€è¦ä½¿ç”¨åˆ° <code>SSL</code> è¯ä¹¦ï¼Œå†ä¸»æµçš„äº‘å¹³å°ä¸Šéƒ½å¯ä»¥å…è´¹ç”³è¯·åˆ° <code>SSL</code> è¯ä¹¦ã€‚è¯ä¹¦ç”³è¯·å®Œæˆä¹‹åï¼Œä¼šå¾—åˆ°å¯†é’¥æ–‡ä»¶å’Œè¯ä¹¦æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰äº‘å¹³å°ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>OpenSSL</code> å‘½ä»¤æ¥ç”Ÿæˆä¸€ä¸ªè‡ªç­¾åçš„ <code>SSL</code> è¯ä¹¦ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>â‘  ç”Ÿæˆç§é’¥æ–‡ä»¶ï¼ˆ<em>Private Key</em>ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -out private.key 2048</span><br></pre></td></tr></table></figure>

<p>â‘¡ æ ¹æ®ç§é’¥ç”Ÿæˆè¯ä¹¦ç­¾åè¯·æ±‚æ–‡ä»¶ï¼ˆ<em>Certificate Signing Request, CSR</em>ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -new -key private.key -out cert.csr</span><br></pre></td></tr></table></figure>

<p>â‘¢ ä½¿ç”¨ç§é’¥å¯¹è¯ä¹¦ç”³è¯·è¿›è¡Œç­¾åä»è€Œç”Ÿæˆè¯ä¹¦æ–‡ä»¶ï¼ˆ<em>pem</em>ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -req -<span class="keyword">in</span> cert.csr -out cacert.pem -signkey private.key</span><br></pre></td></tr></table></figure>

<h4 id="4-5-è™šæ‹Ÿä¸»æœº"><a href="#4-5-è™šæ‹Ÿä¸»æœº" class="headerlink" title="4.5 è™šæ‹Ÿä¸»æœº"></a>4.5 è™šæ‹Ÿä¸»æœº</h4></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-22T08:18:39.000Z" title="2024/7/22 16:18:39">2024-07-22</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-07-24T02:39:16.666Z" title="2024/7/24 10:39:16">2024-07-24</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">å¼€å‘å·¥å…·</a><span>Â /Â </span><a class="link-muted" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Docker/">Docker</a></span><span class="level-item">28 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦4263ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/22/DockerQuickIN/">DockerQuickIN</a></p><div class="content"><h2 id="Docker-å¿«é€Ÿå…¥é—¨"><a href="#Docker-å¿«é€Ÿå…¥é—¨" class="headerlink" title="Docker å¿«é€Ÿå…¥é—¨"></a>Docker å¿«é€Ÿå…¥é—¨</h2><p>[TOC]</p>
<p><strong>å®è—è§†é¢‘ï¼š</strong><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV14s4y1i7Vf">https://www.bilibili.com/video/BV14s4y1i7Vf</a></p>
<p>å¦‚æœä½ é‡åˆ°è¿‡ï¼š</p>
<ul>
<li>åº”ç”¨ç¨‹åºçš„éƒ¨ç½²å’Œç¯å¢ƒé…ç½®è¿‡äºå¤æ‚</li>
<li>åœ¨å¼€å‘ç¯å¢ƒå¥½ç”¨ï¼Œä½†æ˜¯åˆ°äº†æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒéƒ½ä¸å¥½ç”¨çš„æƒ…å†µ</li>
<li>ä½œä¸ºæ–°äººåŠ å…¥é¡¹ç›®ç»„ï¼Œéœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´æ¥é…ç½®å¼€å‘ç¯å¢ƒ</li>
<li>èŠ±è´¹ä¸€æ•´å¤©ç”šè‡³æ›´é•¿æ—¶é—´ï¼Œä¸€æ­¥ä¸€æ­¥æŒ‰ç…§é…ç½®éƒ¨ç½²æ–‡æ¡£æ¥é…ç½®ç¯å¢ƒï¼Œä½†æ˜¯æœ€ç»ˆå´å¡åœ¨ä¸­é—´æŸä¸ªæ­¥éª¤ä¸Šï¼Œå†ä¹Ÿæ— æ³•å‰è¿›</li>
</ul>
<p>é‚£ä¹ˆï¼Œ<code>Docker</code> å¯ä»¥å¸®æˆ‘ä»¬å®Œç¾è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜ã€‚</p>
<h3 id="ğŸ³-1-Docker-çš„åŸºæœ¬æ¦‚å¿µ"><a href="#ğŸ³-1-Docker-çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ğŸ³ 1. Docker çš„åŸºæœ¬æ¦‚å¿µ"></a>ğŸ³ 1. <code>Docker</code> çš„åŸºæœ¬æ¦‚å¿µ</h3><h4 id="1-1-Docker-çš„ç®€ä»‹"><a href="#1-1-Docker-çš„ç®€ä»‹" class="headerlink" title="1.1 Docker çš„ç®€ä»‹"></a>1.1 <code>Docker</code> çš„ç®€ä»‹</h4><p><code>Docker</code> æ˜¯ä¸€ä¸ªç”¨äº<strong>æ„å»ºï¼ˆBuildï¼‰</strong>ã€<strong>è¿è¡Œï¼ˆRunï¼‰</strong>ã€<strong>ä¼ é€ï¼ˆShareï¼‰</strong>åº”ç”¨ç¨‹åºçš„å¹³å°ã€‚</p>
<img src="./DockerQuickIN/Docker.png" style="zoom:50%;" >

<p>æœ‰äº† <code>Docker</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†åº”ç”¨ç¨‹åºå’Œè¿è¡Œä»–æ‰€éœ€è¦çš„å„ç§ä¾èµ–åŒ…ã€ç¬¬ä¸‰æ–¹è½¯ä»¶åº“ã€é…ç½®æ–‡ä»¶ç­‰æ‰“åŒ…åœ¨ä¸€èµ·ã€‚ä»¥ä¾¿åœ¨ä»»ä½•ç¯å¢ƒä¸­éƒ½èƒ½æ­£ç¡®çš„è¿è¡Œã€‚<code>Docker</code> å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼Œæ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½å¼€é”€æä½ã€‚</p>
<p><code>Docker</code> ä» <code>17.03</code> ç‰ˆæœ¬ä¹‹ååˆ†ä¸º ç¤¾åŒºç‰ˆ <code>CE(Community Edition)</code> å’Œ ä¼ä¸šç‰ˆ <code>EE(Enterprise Edition)</code>ã€‚</p>
<h4 id="1-2-ä¸ºä»€ä¹ˆ-è¦ä½¿ç”¨-Docker"><a href="#1-2-ä¸ºä»€ä¹ˆ-è¦ä½¿ç”¨-Docker" class="headerlink" title="1.2 ä¸ºä»€ä¹ˆ è¦ä½¿ç”¨ Docker"></a>1.2 ä¸ºä»€ä¹ˆ è¦ä½¿ç”¨ <code>Docker</code></h4><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ <code>Docker</code> å‘¢ï¼Ÿ</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šæˆ‘ä»¬å†™äº†ä¸€ä¸ªç½‘ç«™ï¼Œç”¨åˆ°äº†ç°åœ¨ä¸å«æµè¡Œçš„å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå‰ç«¯ä½¿ç”¨ <code>Vue</code> æ¡†æ¶æ¥æ„å»ºç½‘ç«™çš„ç•Œé¢ï¼Œåç«¯ä½¿ç”¨ <code>Java</code> çš„ <code>SpringBoot</code> æ¡†æ¶æ¥æä¾›å„ç§æœåŠ¡å’Œæ¥å£ï¼Œå¹¶ä¸”ä½¿ç”¨ <code>MySQL</code> æ•°æ®åº“æ¥å­˜å‚¨æ•°æ®ã€‚</p>
<img src="./DockerQuickIN/WebWithoutDocker.png" style="zoom:50%;" >

<p>å¦‚æœæ²¡æœ‰ <code>Docker</code>ï¼Œæˆ‘ä»¬çš„æ­¥éª¤å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>Step-01ï¼šå®‰è£… <code>NodeJS</code> ç¯å¢ƒã€‚</li>
<li>Step-02ï¼šå®‰è£…å„ç§ <code>npm</code> ä¾èµ–ã€‚</li>
<li>Step-03ï¼šå®‰è£… <code>Java</code> è¿è¡Œæ—¶ç¯å¢ƒã€‚</li>
<li>Step-04ï¼šå®‰è£…å„ç§ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ã€‚</li>
<li>Step-05ï¼šå®‰è£… <code>MySQL</code> æ•°æ®åº“ã€‚</li>
<li>Step-06ï¼šé…ç½®å„ç§ç¯å¢ƒå˜é‡ã€å¯åŠ¨è„šæœ¬ã€‚</li>
<li>Step-07ï¼šé…ç½® <code>Redis</code>ã€‚</li>
<li>Step-08ï¼šé…ç½® <code>Nginx</code> è´Ÿè½½å‡è¡¡ã€‚ </li>
<li>Step-09ï¼šå…¶ä»–é…ç½®é¡¹â€¦</li>
</ul>
<p>è¿™ä»…ä»…æ˜¯å¼€å‘ç¯å¢ƒæ‰€éœ€è¦è¿›è¡Œçš„æ“ä½œï¼Œå½“æˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„ç½‘ç«™éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒæˆ–ç”Ÿäº§ç¯å¢ƒä¸Šï¼Œé‚£ä¹ˆè¿™äº›æ‰€æœ‰çš„æ­¥éª¤éƒ½éœ€è¦é‡æ–°å†æ¥ä¸€éã€‚</p>
<p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰äº† <code>Docker</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä»–ä»¬æ‰“åŒ…æˆä¸€ä¸ªä¸ªé›†è£…ç®±ï¼Œåªè¦æˆ‘ä»¬åœ¨å¼€å‘ç¯å¢ƒä¸­è¿è¡ŒæˆåŠŸäº†ï¼Œé‚£ä¹ˆåœ¨æµ‹è¯•ç¯å¢ƒä¸­ä¸€å®šä¹Ÿæ˜¯å¯ä»¥è¿è¡ŒæˆåŠŸçš„ã€‚</p>
<img src="./DockerQuickIN/WebWithDocker.png">

<h4 id="1-3-Docker-å’Œ-è™šæ‹Ÿæœºçš„åŒºåˆ«"><a href="#1-3-Docker-å’Œ-è™šæ‹Ÿæœºçš„åŒºåˆ«" class="headerlink" title="1.3 Docker å’Œ è™šæ‹Ÿæœºçš„åŒºåˆ«"></a>1.3 <code>Docker</code> å’Œ è™šæ‹Ÿæœºçš„åŒºåˆ«</h4><p>æˆ‘ä»¬å¯èƒ½äº†è§£æˆ–ä½¿ç”¨è¿‡ä¸€äº›è™šæ‹Ÿæœºè½¯ä»¶ï¼Œå¦‚ï¼š<code>VMware</code>ã€<code>Virtalbox</code>ã€<code>Parallels Desktop</code>ï¼Œæˆ–è€… <code>Window</code> çš„ <code>WSL</code>ã€<code>Microsoft Hyper-V</code> ç­‰åŠŸèƒ½ã€‚</p>
<p>ä»–ä»¬éƒ½æ˜¯å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œå’Œå®é™…ä¸Šä½¿ç”¨æ“ä½œç³»ç»Ÿä¸€æ ·ï¼Œå¯ä»¥åœ¨å®é™…çš„æ“ä½œç³»ç»Ÿä¸­è¿è¡Œåº”ç”¨ç¨‹åºï¼Œè¿™æ˜¯é€šè¿‡ä¸€ç§å«åš<strong>è™šæ‹ŸåŒ–ï¼ˆHypervisorï¼‰</strong>çš„æŠ€æœ¯å®ç°çš„ã€‚è™šæ‹ŸåŒ–æŠ€æœ¯æ˜¯ä¸€ç§å°†ç‰©ç†èµ„æºè™šæ‹Ÿä¸ºå¤šä¸ªé€»è¾‘èµ„æºçš„æŠ€æœ¯ï¼Œä»–å¯ä»¥å°†ä¸€å°ç‰©ç†æœåŠ¡å™¨è™šæ‹Ÿæˆå¤šä¸ªé€»è¾‘æœåŠ¡å™¨ï¼Œæ¯ä¸ªé€»è¾‘æœåŠ¡å™¨éƒ½æœ‰è‡ªå·±çš„æ“ä½œç³»ç»Ÿã€CPUã€å†…å­˜ã€ç¡¬ç›˜å’Œç½‘ç»œæ¥å£ç­‰ã€‚ä¸åŒçš„é€»è¾‘æœåŠ¡å™¨ä¹‹é—´æ˜¯å®Œå…¨éš”ç¦»çš„ï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œã€‚</p>
<p>è™šæ‹Ÿæœºåœ¨ä¸€å®šç¨‹åº¦ä¸Šå®ç°äº†èµ„æºçš„æ•´åˆï¼Œå¯ä»¥å°†è¦ä¸€å°æœåŠ¡å™¨çš„è®¡ç®—èƒ½åŠ›ã€å­˜å‚¨èƒ½åŠ›ã€ç½‘ç»œèµ„æºåˆ†é…ç»™å¤šä¸ªé€»è¾‘æœåŠ¡å™¨ã€‚å®ç°å¤šå°æœåŠ¡å™¨çš„åŠŸèƒ½ã€‚ä½†æ˜¯å…¶ç¼ºç‚¹ä¹ŸåŒæ ·æ˜æ˜¾ï¼Œæ¯å°è™šæ‹Ÿæœºéœ€è¦å ç”¨å¤§é‡çš„èµ„æºï¼Œæ¯”å¦‚CPUã€å†…å­˜ã€ç¡¬ç›˜ã€ç½‘ç»œç­‰ï¼Œè€Œä¸”å¯åŠ¨é€Ÿåº¦éå¸¸æ…¢ã€‚ä½†æ˜¯å…¶å®æˆ‘ä»¬çš„æ¯å°æœåŠ¡å™¨ä¸Šåªéœ€è¦è¿è¡Œä¸€ä¸ªä¸»è¦å¯¹å¤–æä¾›æœåŠ¡çš„åº”ç”¨ç¨‹åºå°±å¯ä»¥äº†ã€‚å¹¶ä¸éœ€è¦ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿæ‰€æä¾›çš„æ‰€æœ‰åŠŸèƒ½ã€‚</p>
<img src="./DockerQuickIN/Hypervisor.png" style="zoom:67%;" >

<p>ä¹Ÿè®¸æˆ‘ä»¬éœ€è¦çš„åªæ˜¯ä¸€ä¸ªWebæœåŠ¡å™¨ï¼Œä½†æ˜¯ä½¿ç”¨è™šæ‹Ÿæœºå´éœ€è¦å¯åŠ¨ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿçš„å†…æ ¸ã€å„ç§ç³»ç»ŸæœåŠ¡ã€å„ç§å·¥å…·ç”šè‡³å›¾å½¢ç•Œé¢ç­‰ï¼Œè¿™äº›æˆ‘ä»¬å¹¶ä¸éœ€è¦çš„æœåŠ¡å ç”¨äº†å¤§é‡çš„èµ„æºï¼Œå¯¼è‡´äº†èµ„æºçš„æµªè´¹å’Œå¯åŠ¨é€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚</p>
<img src="./DockerQuickIN/VM.png" style="zoom:50%;" >

<p>äº†è§£äº†è™šæ‹Ÿæœºåï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ <code>Docker</code> æ˜¯å¦‚ä½•è§£å†³çš„ã€‚éœ€è¦æ³¨æ„ï¼Œ<code>Docker</code> ä¸­***å®¹å™¨(Container)<em><strong>çš„æ¦‚å¿µã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>Docker</code> å’Œ <strong>å®¹å™¨</strong>æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼Œä½†æ˜¯å› ä¸º <code>Docker</code> çš„æµè¡Œæ€§ï¼Œä»¥è‡³äºå¾ˆå¤šäººå°† <code>Docker</code> å’Œ <strong>å®¹å™¨</strong> æ··ä¸ºä¸€è°ˆï¼Œå®é™…ä¸Š <code>Docker</code>åªæ˜¯å®¹å™¨çš„ä¸€ç§å®ç°ï¼Œæ˜¯ä¸€ä¸ªå®¹å™¨åŒ–çš„è§£å†³æ–¹æ¡ˆå’Œå¹³å°ã€‚è€Œ</strong>å®¹å™¨æ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå’Œè™šæ‹Ÿæœºç±»ä¼¼</em>*ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒï¼Œå¯ä»¥åœ¨è¿™ä¸ªç¯å¢ƒä¸­è¿è¡Œåº”ç”¨ç¨‹åºã€‚å’Œè™šæ‹Ÿæœºä¸åŒçš„æ˜¯ï¼Œä»–å¹¶ä¸éœ€è¦åœ¨å®¹å™¨ä¸­è¿è¡Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯ä½¿ç”¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥å¯åŠ¨é€Ÿåº¦éå¸¸å¿«ï¼Œé€šå¸¸åªéœ€è¦å‡ ç§’é’Ÿã€‚åŒæ—¶ï¼Œå› ä¸ºéœ€è¦çš„èµ„æºæ›´å°‘ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ä¸€å°ç‰©ç†æœåŠ¡å™¨ä¸Šè¿è¡Œæ›´å¤šçš„å®¹å™¨ï¼Œä»¥ä¾¿äºæ›´åŠ å……åˆ†çš„åˆ©ç”¨æœåŠ¡å™¨çš„èµ„æºï¼Œå‡å°‘èµ„æºçš„é—²ç½®å’Œæµªè´¹ã€‚</p>
<img src="./DockerQuickIN/DockerContainer.png" style="zoom:50%;" >

<p>æ­£å› å¦‚æ­¤ï¼Œä¸€å°ç‰©ç†æœåŠ¡å™¨ä¸Šä¹Ÿè®¸å¯ä»¥è¿è¡Œå‡ ä¸ªè™šæ‹Ÿæœºï¼Œä½†æ˜¯å´å¯ä»¥è¿è¡Œä¸Šç™¾ä¸ªå®¹å™¨ã€‚</p>
<h4 id="1-4-Docker-çš„åŸºæœ¬åŸç†å’Œä¸»è¦æ¦‚å¿µ"><a href="#1-4-Docker-çš„åŸºæœ¬åŸç†å’Œä¸»è¦æ¦‚å¿µ" class="headerlink" title="1.4 Docker çš„åŸºæœ¬åŸç†å’Œä¸»è¦æ¦‚å¿µ"></a>1.4 <code>Docker</code> çš„åŸºæœ¬åŸç†å’Œä¸»è¦æ¦‚å¿µ</h4><img src="./DockerQuickIN/DockerConcept.png">

<p><strong>é•œåƒ Image</strong>ï¼šé•œåƒæ˜¯ä¸€ä¸ª<strong>åªè¯»</strong>çš„æ¨¡æ¿ï¼Œå®ƒå¯ä»¥ç”¨æ¥åˆ›å»ºå®¹å™¨ã€‚</p>
<p><strong>å®¹å™¨ Container</strong>ï¼šå®¹å™¨æ˜¯ <code>Docker</code> çš„<strong>è¿è¡Œå®ä¾‹</strong>ï¼Œä»–æä¾›äº†ä¸€ä¸ªç‹¬ç«‹çš„ã€å¯ç§»æ¤çš„ç¯å¢ƒï¼Œå¯ä»¥åœ¨è¿™ä¸ªç¯å¢ƒä¸­è¿è¡Œåº”ç”¨ç¨‹åºã€‚</p>
<p><strong>ä»“åº“ Registry</strong>ï¼š<code>Docker</code> çš„ä»“åº“æ˜¯ä¸€ä¸ªç”¨äºå­˜å‚¨ <code>Docker</code>é•œåƒçš„åœ°æ–¹ã€‚æœ€æµè¡Œã€æœ€å¸¸ç”¨çš„ä»“åº“å°±æ˜¯ <code>Docker Hub</code>ã€‚</p>
<p>ç±»ä¼¼äº <code>Java</code> å’Œ <code>C++</code>ï¼Œ<em><strong>é•œåƒ</strong></em>ç±»ä¼¼äº<em><strong>ç±»</strong></em>ï¼Œè€Œ<em><strong>å®¹å™¨</strong></em>åˆ™å°±æ˜¯<em><strong>ç±»çš„å®ä¾‹</strong></em>ï¼Œå¯ä»¥æœ‰ä¸€åˆ°å¤šä¸ªå®¹å™¨ã€‚</p>
<p><code>Docker</code> ä½¿ç”¨çš„æ˜¯ <code>Client-Server</code> æ¶æ„æ¨¡å¼ï¼Œ<code>Docker Client</code> å’Œ <code>Docker Daemon</code> ä¹‹é—´é€šè¿‡ <code>socket</code> æˆ– <code>RESTful API</code> è¿›è¡Œé€šä¿¡ã€‚<code>Docker Daemon</code> å°±æ˜¯ <code>Docker</code> æœåŠ¡ç«¯çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œä»–è´Ÿè´£ç®¡ç† <code>Docker</code> çš„å„ç§èµ„æºã€‚<code>Docker Client</code> è´Ÿè´£å‘ <code>Docker Daemon</code> å‘é€è¯·æ±‚ï¼Œ<code>Docker Daemon</code> æ¥æ”¶åˆ°è¯·æ±‚åè¿›è¡Œå¤„ç†ï¼Œç„¶åå°†è¦ç»“æœè¿”å›ç»™ <code>Docker Client</code>ã€‚<code>Docker Daemon</code> æ˜¯ä¸€ä¸ªåå°è¿›ç¨‹ï¼Œç”¨äºæ¥æ”¶å¹¶å¤„ç†æ¥è‡ª <code>Docker</code> å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç„¶åå°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å› æ­¤æˆ‘ä»¬åœ¨ç»ˆç«¯ä¸­è¾“å…¥çš„å„ç§ <code>Docker</code> å‘½ä»¤ï¼Œå…¶å®éƒ½æ˜¯é€šè¿‡ <code>Docker Client</code> å‘é€ç»™ <code>Docker Daemon</code> çš„ï¼Œ<code>Docker Daemon</code> è¿›è¡Œå¤„ç†ï¼Œæœ€åå°†å¤„ç†ç»“æœè¿”å›ç»™ <code>Docker Client</code>ï¼Œç„¶åå°±å¯ä»¥å†ç»ˆç«¯ä¸­çœ‹åˆ°æ‰§è¡Œç»“æœã€‚</p>
<h3 id="ğŸ³-2-Docker-çš„å®‰è£…é…ç½®"><a href="#ğŸ³-2-Docker-çš„å®‰è£…é…ç½®" class="headerlink" title="ğŸ³ 2. Docker çš„å®‰è£…é…ç½®"></a>ğŸ³ 2. <code>Docker</code> çš„å®‰è£…é…ç½®</h3><p><code>Docker</code> å®˜ç½‘ï¼ˆç›®å‰å›½å†…æ— æ³•æ­£å¸¸è®¿é—®ï¼‰ï¼š<a target="_blank" rel="noopener" href="https://www.docker.com/">https://www.docker.com/</a></p>
<p>å¯ä»¥æ‰¾ä¸€äº›é•œåƒç½‘ç«™æ¥è¿›è¡Œä¸‹è½½å®‰è£…ã€‚</p>
<p>ä¸‹è½½å®Œæˆåï¼Œéœ€è¦è¿è¡Œ <code>Docker</code>ï¼Œæ‰å¯ä»¥ä½¿ç”¨ <code>Docker</code> çš„ä¸€ç³»åˆ—å‘½ä»¤ã€‚</p>
<p><code>Windows</code> ç³»ç»Ÿä¸‹éœ€è¦å¼€å¯ <code>Hyper-V</code> åŠŸèƒ½ã€‚å¼€å¯æ–¹å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>åœ¨è®¾ç½®ä¸­æœç´¢ <strong>å¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½</strong>ã€‚</li>
<li>å‹¾é€‰ <code>Hyper-V</code> é€‰é¡¹ï¼ŒæŒ‰ç…§æç¤ºé‡å¯ç³»ç»Ÿå³å¯ã€‚</li>
</ul>
<p>å¯åŠ¨ä¹‹åï¼Œå³å¯åœ¨ç»ˆç«¯ä½¿ç”¨ <code>Docker</code> çš„å„ç§å‘½ä»¤äº†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€æ¡ç®€å•çš„å‘½ä»¤æ¥è¿›è¡Œæµ‹è¯•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\NilEra&gt;docker version</span><br><span class="line">Client:</span><br><span class="line"> Cloud integration: v1.0.28</span><br><span class="line"> Version:           20.10.17</span><br><span class="line"> API version:       1.41</span><br><span class="line"> Go version:        go1.17.11</span><br><span class="line"> Git commit:        100c701</span><br><span class="line"> Built:             Mon Jun  6 23:09:02 2022</span><br><span class="line"> OS/Arch:           windows/amd64</span><br><span class="line"> Context:           default</span><br><span class="line"> Experimental:      <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">Server: Docker Desktop 4.11.1 (84025)</span><br><span class="line"> Engine:</span><br><span class="line">  Version:          20.10.17</span><br><span class="line">  API version:      1.41 (minimum version 1.12)</span><br><span class="line">  Go version:       go1.17.11</span><br><span class="line">  Git commit:       a89b842</span><br><span class="line">  Built:            Mon Jun  6 23:01:23 2022</span><br><span class="line">  OS/Arch:          linux/amd64</span><br><span class="line">  Experimental:     <span class="literal">false</span></span><br><span class="line"> containerd:</span><br><span class="line">  Version:          1.6.6</span><br><span class="line">  GitCommit:        10c12954828e7c7c9b6e0ea9b0c02b01407d3ae1</span><br><span class="line"> runc:</span><br><span class="line">  Version:          1.1.2</span><br><span class="line">  GitCommit:        v1.1.2-0-ga916309</span><br><span class="line"> docker-init:</span><br><span class="line">  Version:          0.19.0</span><br><span class="line">  GitCommit:        de40ad0</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>Client</code> å’Œ <code>Server</code> çš„ä¿¡æ¯ï¼Œå¦‚æœåªèƒ½çœ‹åˆ° <code>Client</code>ï¼Œåˆ™è¡¨ç¤º <code>Docker</code> æ²¡æœ‰å¯åŠ¨ï¼Œéœ€è¦å¯åŠ¨ <code>Docker</code> ä¹‹åæ‰å¯ä»¥çœ‹åˆ° <code>Server</code>ã€‚</p>
<h3 id="ğŸ³-3-Docker-çš„å¸¸ç”¨å‘½ä»¤"><a href="#ğŸ³-3-Docker-çš„å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ğŸ³ 3. Docker çš„å¸¸ç”¨å‘½ä»¤"></a>ğŸ³ 3. <code>Docker</code> çš„å¸¸ç”¨å‘½ä»¤</h3><h4 id="3-1-Docker-Desktop-çš„ä½¿ç”¨"><a href="#3-1-Docker-Desktop-çš„ä½¿ç”¨" class="headerlink" title="3.1 Docker Desktop çš„ä½¿ç”¨"></a>3.1 <code>Docker Desktop</code> çš„ä½¿ç”¨</h4><h5 id="3-1-1-Docker-Containers-Images-å®¹å™¨å’Œé•œåƒ"><a href="#3-1-1-Docker-Containers-Images-å®¹å™¨å’Œé•œåƒ" class="headerlink" title="3.1.1 Docker Containers &amp; Images å®¹å™¨å’Œé•œåƒ"></a>3.1.1 <code>Docker Containers</code> &amp; <code>Images</code> å®¹å™¨å’Œé•œåƒ</h5><p><code>Docker Desktop</code> æ˜¯ <code>Docker</code> çš„å›¾å½¢åŒ–ç•Œé¢ï¼Œ<code>Docker Desktop</code> å°è£…äº†å®¹å™¨æ—¥å¸¸ä½¿ç”¨å’Œç®¡ç†çš„å„ç§å¸¸ç”¨åŠŸèƒ½ï¼Œæ‰“å¼€æ§åˆ¶å°é¢æ¿åï¼Œå¯ä»¥çœ‹åˆ° <strong><code>Containers</code> å®¹å™¨</strong>å’Œ**<code>Images</code>é•œåƒ**ï¼Œè¿™ä¸¤ä¸ªèœå•é¡¹åˆ†åˆ«ç”¨äºæŸ¥çœ‹æœ¬æœºçš„å®¹å™¨åˆ—è¡¨å’Œé•œåƒåˆ—è¡¨ã€‚</p>
<p>å¯¹äºèœå•é¡¹ä¸­çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€ç³»åˆ—æ“ä½œã€‚</p>
<img src="./DockerQuickIN/DockerDesktopImagesMenu.png">

<p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡» <code>RUN</code> æŒ‰é’®è¿è¡Œä¸€ä¸ªé•œåƒï¼Œç­‰åŒäºæ‰§è¡Œäº† <code>docker run</code> å‘½ä»¤ã€‚ç‚¹å‡»ä¸‰ä¸ªå°åœ†ç‚¹ï¼Œæœ‰å‡ ä¸ªé€‰é¡¹ <code>Inspect</code>ã€<code>Pull</code>ã€<code>Push to Hub</code>ã€<code>Remove</code>ï¼Œåˆ†åˆ«ç”¨äºæŸ¥çœ‹é•œåƒçš„è¯¦ç»†ä¿¡æ¯ã€æ‹‰å–é•œåƒã€æ¨é€é•œåƒã€ç§»é™¤é•œåƒã€‚</p>
<h5 id="3-1-2-Docker-Volumes-é€»è¾‘å·"><a href="#3-1-2-Docker-Volumes-é€»è¾‘å·" class="headerlink" title="3.1.2 Docker Volumes é€»è¾‘å·"></a>3.1.2 <code>Docker Volumes</code> é€»è¾‘å·</h5><p>æ­¤å¤–ï¼Œè¿˜æœ‰ <strong><code>Volumes</code> é€»è¾‘å·</strong> èœå•é¡¹ï¼Œåœ¨è¿™ä¸ªèœå•é¡¹åˆ—è¡¨ä¸­å¯ä»¥çœ‹åˆ°å®¹å™¨çš„é€»è¾‘å·ï¼Œé€»è¾‘å·æ˜¯ <code>Docker</code> ä¸­ç”¨æ¥å­˜å‚¨çš„ã€‚</p>
<p><code>Docker</code> å®¹å™¨æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯å®¹å™¨ä¸­çš„æ•°æ®æ˜¯ä¸ä¼šæŒä¹…åŒ–çš„ï¼Œå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œå®ƒé€šå¸¸ä»¥ä¸€ä¸ªå¹²å‡€çš„æ–‡ä»¶ç³»ç»Ÿå¼€å§‹ï¼Œå®¹å™¨å¯åŠ¨ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–‡ä»¶ä¸­åˆ›å»ºæ–‡ä»¶ã€ä¿®æ”¹æ–‡ä»¶ï¼Œä½†æ˜¯å½“å®¹å™¨åœæ­¢ä¹‹åï¼Œå®¹å™¨ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šä¸¢å¤±æ‰ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦å¯¹äº <code>Docker</code> ä¸­çš„æ•°æ®è¿›è¡Œå®¹å™¨çš„æŒä¹…åŒ–åº”è¯¥æ€ä¹ˆåšï¼Ÿ</p>
<p>é€»è¾‘å·å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œå®ƒå¯ä»¥å°†å®¹å™¨ä¸­çš„ç›®å½•æˆ–è€…æŒ‡å®šè·¯å¾„æ˜ å°„åˆ°å®¿ä¸»æœºçš„æŸä¸€ç›®å½•æˆ–è€…ä½ç½®ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥å°†æ•°æ®ä¿å­˜åˆ°å®¿ä¸»æœºçš„ç£ç›˜ä¸Šï¼Œå®ç°äº†æ•°æ®çš„æŒä¹…åŒ–ã€‚</p>
<h5 id="3-1-3-Docker-Dev-Environments-å¼€å‘ç¯å¢ƒ"><a href="#3-1-3-Docker-Dev-Environments-å¼€å‘ç¯å¢ƒ" class="headerlink" title="3.1.3 Docker Dev Environments å¼€å‘ç¯å¢ƒ"></a>3.1.3 <code>Docker Dev Environments</code> å¼€å‘ç¯å¢ƒ</h5><p>ç”¨äºç®¡ç†å¼€å‘ç¯å¢ƒï¼Œç®€å•æ¥è¯´å°±æ˜¯å¯ä»¥åˆ›å»ºä¸€ä¸ªå¼€å‘ç¯å¢ƒï¼Œç„¶åé€šè¿‡ä¸€äº›ä»£ç é…ç½®è¿™ä¸ªå¼€å‘ç¯å¢ƒï¼Œè¿™æ ·å°±å¯ä»¥å°†è¿™ä¸ªå¼€å‘ç¯å¢ƒå…±äº«ç»™é¡¹ç›®ä¸­çš„å…¶ä»–å¼€å‘äººå‘˜ï¼Œè®©æ¯ä¸ªäººéƒ½åœ¨ä¸€ä¸ªç›¸åŒçš„ç¯å¢ƒä¸‹è¿›è¡Œå¼€å‘ï¼Œé¿å…å› ä¸ºç¯å¢ƒçš„ä¸ä¸€è‡´å¯¼è‡´çš„å„ç§é—®é¢˜ã€‚</p>
<h3 id="ğŸ³-4-å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ª-Docker-é•œåƒ"><a href="#ğŸ³-4-å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ª-Docker-é•œåƒ" class="headerlink" title="ğŸ³ 4. å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ª Docker é•œåƒ"></a>ğŸ³ 4. å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ª <code>Docker</code> é•œåƒ</h3><h4 id="4-1-å®¹å™¨åŒ–å’Œ-Dockerfile"><a href="#4-1-å®¹å™¨åŒ–å’Œ-Dockerfile" class="headerlink" title="4.1 å®¹å™¨åŒ–å’Œ Dockerfile"></a>4.1 å®¹å™¨åŒ–å’Œ <code>Dockerfile</code></h4><p>**å®¹å™¨åŒ–(Containerization)**ï¼šå°±æ˜¯å°†åº”ç”¨ç¨‹åºæ‰“åŒ…æˆå®¹å™¨ï¼Œç„¶ååœ¨å®¹å™¨ä¸­è¿è¡Œåº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ã€‚</p>
<p>å®¹å™¨åŒ–çš„è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ª <code>Dockerfile</code>ï¼šæ¥å‘Šè¯‰ <code>Docker</code> æ„å»ºåº”ç”¨ç¨‹åºé•œåƒæ‰€éœ€è¦çš„æ­¥éª¤å’Œé…ç½®ã€‚</li>
<li>ä½¿ç”¨ <code>Dockerfile</code> æ„å»ºé•œåƒã€‚</li>
<li>ä½¿ç”¨é•œåƒåˆ›å»ºå’Œè¿è¡Œå®¹å™¨ã€‚</li>
</ol>
<p><code>Dockerfile</code> æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«äº†ä¸€æ¡æ¡æŒ‡ä»¤ï¼Œç”¨äºå‘Šè¯‰ <code>Docker</code> å¦‚ä½•æ„å»ºé•œåƒï¼Œè¿™ä¸ªé•œåƒä¸­åŒ…æ‹¬äº†æˆ‘ä»¬åº”ç”¨ç¨‹åºæ‰§è¡Œçš„æ‰€æœ‰å‘½ä»¤ï¼Œå¦‚å„ç§ä¾èµ–ã€é…ç½®ç¯å¢ƒå’Œè¿è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„æ‰€æœ‰å†…å®¹ï¼Œä¸€èˆ¬æ¥è¯´åŒ…æ‹¬ï¼šç²¾ç®€ç‰ˆçš„æ“ä½œç³»ç»Ÿï¼ˆå¦‚<code>Alpine</code>ï¼‰ã€åº”ç”¨ç¨‹åºçš„è¿è¡Œæ—¶ç¯å¢ƒï¼ˆå¦‚<code>NodeJS</code>ã€<code>Python</code>ã€<code>Java</code>ï¼‰ã€åº”ç”¨ç¨‹åºï¼ˆå¦‚æ‰“åŒ…å¥½çš„ <code>jar</code> åŒ…ï¼‰ã€åº”ç”¨ç¨‹åºçš„ç¬¬ä¸‰æ–¹ä¾èµ–åº“æˆ–åŒ…ã€åº”ç”¨ç¨‹åºçš„é…ç½®æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ç­‰ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¼šåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå« <code>Dockerfile</code> çš„æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å†™å…¥æ„å»ºé•œåƒæ‰€éœ€è¦çš„å„ç§æŒ‡ä»¤ä¹‹åï¼Œ<code>Docker</code> å°±ä¼šæ ¹æ®è¿™ä¸ª <code>Dockerfile</code> æ–‡ä»¶æ¥æ„å»ºä¸€ä¸ªé•œåƒï¼Œæœ‰äº†è¿™ä¸ªé•œåƒåï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è¿™ä¸ªé•œåƒæ¥åˆ›å»ºå®¹å™¨ï¼Œç„¶ååœ¨å®¹å™¨ä¸­è¿è¡Œåº”ç”¨ç¨‹åºã€‚</p>
<h4 id="4-2-ç¼–å†™-Dockerfile"><a href="#4-2-ç¼–å†™-Dockerfile" class="headerlink" title="4.2 ç¼–å†™ Dockerfile"></a>4.2 ç¼–å†™ <code>Dockerfile</code></h4><ol>
<li>æ–°å»ºä¸€ä¸ªåä¸º <code>HelloDocker</code> çš„æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨ <code>VSCode</code> æ‰“å¼€è¯¥æ–‡ä»¶å¤¹</li>
<li>åœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª <code>index.js</code> æ–‡ä»¶ï¼Œç®€å•çš„è¾“å…¥ä¸€äº›ä»£ç å†…å®¹ï¼Œæ¯”å¦‚è¾“å‡ºä¸€æ®µå†…å®¹åˆ°æ§åˆ¶å°</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello Docker!&quot;</span>);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>NodeJS</code> æ¥æµ‹è¯•è¿™ä¸ª <code>JavaScript</code> æ–‡ä»¶ï¼Œ<code>NodeJS</code> æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶ç¯å¢ƒï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¹‹å¤–çš„ç¯å¢ƒè¿è¡Œ <code>JavaScript</code> ä»£ç ã€‚<code>JavaScript</code> å’Œ <code>NodeJS</code> çš„å…³ç³»å°±åƒ <code>Java</code> å’Œ <code>JRE</code> çš„å…³ç³»ä¸€æ ·ï¼Œå¦‚æœæƒ³åœ¨æµè§ˆå™¨ä¹‹å¤–çš„ç¯å¢ƒä¸­è¿è¡Œ <code>JavaScript</code> ä»£ç å°±éœ€è¦ <code>NodeJS</code>ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿è¡Œ <code>index.js</code>ã€‚</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\HelloDocker&gt; node index.js</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬æƒ³è¦åœ¨å¦ä¸€ä¸ªç¯å¢ƒä¸­è¿è¡Œè¿™ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œéƒ½éœ€è¦æ‰§è¡Œé‚£äº›æ­¥éª¤å‘¢ï¼Ÿ</p>
<ul>
<li>å®‰è£…æ“ä½œç³»ç»Ÿ</li>
<li>å®‰è£… <code>JavaScript</code> çš„è¿è¡Œç¯å¢ƒ</li>
<li>å¤åˆ¶åº”ç”¨ç¨‹åºã€ä¾èµ–åŒ…ã€é…ç½®æ–‡ä»¶</li>
<li>æ‰§è¡Œå¯åŠ¨å‘½ä»¤è¿è¡Œç¨‹åº</li>
</ul>
<p>è€Œæœ‰äº† <code>Docker</code> åï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°çš„æ­¥éª¤å†™å…¥åˆ° <code>Dockerfile</code> ä¸­ï¼Œå‰©ä¸‹çš„å·¥ä½œäº¤ç»™ <code>Docker</code> è‡ªåŠ¨å®Œæˆã€‚</p>
</li>
<li><p>åˆ›å»º <code>Dockerfile</code> æ–‡ä»¶</p>
<p>åœ¨ <code>Dockerfile</code> ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæŒ‡å®šä¸€ä¸ªåŸºç¡€é•œåƒï¼Œé•œåƒæ˜¯æŒ‰å±‚æ¬¡ç»“æ„æ¥æ„å»ºçš„ï¼Œæ¯ä¸€å±‚éƒ½æ˜¯åŸºäºä¸Šä¸€å±‚çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆæŒ‡å®šä¸€ä¸ªåŸºç¡€é•œåƒï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p>
<p>æ³¨æ„ <code>Dockerfile</code> ä¸­ä¸éœ€è¦æ³¨é‡Šï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†ä¾¿äºç†è§£æ‰€ä»¥æ·»åŠ äº†æ³¨é‡Š</p>
</li>
</ol>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šåŸºç¡€é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> node:<span class="number">14</span>-alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶ æœ¬åœ°è·¯å¾„çš„ JS æ–‡ä»¶åˆ°é•œåƒçš„æ ¹ç›®å½•ä¸‹</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> index.js /</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ CMD å‘½ä»¤è¿è¡Œè¯¥ç¨‹åº CMD [&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg...&quot;], å…¶ä¸­ arg1 è¡¨ç¤ºå¯æ‰§è¡Œç¨‹åºçš„åå­—, arg2 åŠä»¥åçš„å‚æ•°è¡¨ç¤ºå¯æ‰§è¡Œç¨‹åºçš„å‚æ•°</span></span><br><span class="line"><span class="comment"># å¯ä»¥å†™æˆè¿™ç§å½¢å¼: CMD node /index.js</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;node&quot;</span>, <span class="string">&quot;/index.js&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<h4 id="4-3-åˆ›å»ºé•œåƒ"><a href="#4-3-åˆ›å»ºé•œåƒ" class="headerlink" title="4.3 åˆ›å»ºé•œåƒ"></a>4.3 åˆ›å»ºé•œåƒ</h4><ol start="6">
<li><p>æ„å»º <code>Docker</code> é•œåƒ</p>
<p>æ‰§è¡Œ <code>docker build</code> å‘½ä»¤ï¼Œ<code>hello-docker</code> æ˜¯é•œåƒåç§°ï¼›<code>.</code> è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œå³ <code>Dockerfile</code> æ‰€åœ¨ç›®å½•ã€‚</p>
</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\HelloDocker&gt; docker build <span class="literal">-t</span> hello<span class="literal">-docker</span> .</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>æ‰§è¡Œå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤<code>docker images</code> æˆ– <code>docker image ls</code> æŸ¥çœ‹æ‰€æœ‰é•œåƒã€‚</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\HelloDocker&gt; docker images</span><br><span class="line">REPOSITORY        TAG                              IMAGE ID       CREATED          SIZE</span><br><span class="line">hello<span class="literal">-docker</span>      latest                           <span class="number">31429</span>fa0e1e7   <span class="number">22</span> seconds ago   <span class="number">119</span>MB</span><br></pre></td></tr></table></figure>

<h4 id="4-4-å¯åŠ¨å®¹å™¨"><a href="#4-4-å¯åŠ¨å®¹å™¨" class="headerlink" title="4.4 å¯åŠ¨å®¹å™¨"></a>4.4 å¯åŠ¨å®¹å™¨</h4><ol start="8">
<li>ä½¿ç”¨ <code>docker run</code> å‘½ä»¤è¿è¡Œå®¹å™¨ã€‚</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\HelloDocker&gt; docker run hello<span class="literal">-docker</span></span><br><span class="line">Hello Docker!</span><br></pre></td></tr></table></figure>

<h4 id="4-5-åœ¨å…¶ä»–è®¾å¤‡ä¸Šæµ‹è¯•å®¹å™¨"><a href="#4-5-åœ¨å…¶ä»–è®¾å¤‡ä¸Šæµ‹è¯•å®¹å™¨" class="headerlink" title="4.5 åœ¨å…¶ä»–è®¾å¤‡ä¸Šæµ‹è¯•å®¹å™¨"></a>4.5 åœ¨å…¶ä»–è®¾å¤‡ä¸Šæµ‹è¯•å®¹å™¨</h4><ol start="9">
<li><p>ä¸ºäº†æµ‹è¯•æˆ‘ä»¬çš„å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†æˆ‘ä»¬çš„é•œåƒä¸Šä¼ åˆ° <code>Docker Hub</code> æˆ–è€… <code>Harbor</code> é•œåƒä»“åº“ä¸­ï¼Œä¸Šä¼ å®Œæˆä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://labs.play-with-docker.com/">Play with Docker</a> è¿›è¡Œæµ‹è¯•ã€‚</p>
<p>ä¸Šä¼ é•œåƒå¯ä»¥ä½¿ç”¨ <code>docker push</code> å‘½ä»¤ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¨é€é•œåƒå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼š<code>dockerï¼šdenied: requested access to the resource is denied</code>ï¼Œé‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶ï¼Œå¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://blog.csdn.net/fengpengfei_yes/article/details/113838579">è§£å†³dockerï¼šdenied: requested access to the resource is denied_docker login - CSDN</a>ã€‚</p>
<p>â‘  ç¡®ä¿è‡ªå·±ç™»å½•äº† <code>Docker</code></p>
<p>â‘¡ å°†é•œåƒæ‰“ <code>TAG</code>ï¼Œä½¿ç”¨ <code>docker tag hello-docker:latest nilerak/hello-docker:1.0.0</code></p>
<p>â‘¢ æ¨é€é•œåƒï¼Œä½¿ç”¨ <code>docker push nilerak/hello-docker:1.0.0</code></p>
</li>
<li><p>ä½¿ç”¨ <code>docker pull</code> å‘½ä»¤ä¸‹è½½é•œåƒæ–‡ä»¶ã€‚</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nilerak/hello-docker:1.0.0</span><br></pre></td></tr></table></figure>

<img src="./DockerQuickIN/DockerPull01.png" style="width:700px">

<img src="./DockerQuickIN/DockerPull02.png" style="width:700px">

<img src="./DockerQuickIN/DockerPull03.png"  style="width:700px">

<h3 id="ğŸ³-5-å¦‚ä½•è¿è¡Œä¸€ä¸ª-Docker-å®¹å™¨"><a href="#ğŸ³-5-å¦‚ä½•è¿è¡Œä¸€ä¸ª-Docker-å®¹å™¨" class="headerlink" title="ğŸ³ 5. å¦‚ä½•è¿è¡Œä¸€ä¸ª Docker å®¹å™¨"></a>ğŸ³ 5. å¦‚ä½•è¿è¡Œä¸€ä¸ª <code>Docker</code> å®¹å™¨</h3><h3 id="ğŸ³-6-Docker-Compose-å’Œ-Kubernetes"><a href="#ğŸ³-6-Docker-Compose-å’Œ-Kubernetes" class="headerlink" title="ğŸ³ 6. Docker Compose å’Œ Kubernetes"></a>ğŸ³ 6. <code>Docker Compose</code> å’Œ <code>Kubernetes</code></h3><h4 id="6-1-Docker-Compose"><a href="#6-1-Docker-Compose" class="headerlink" title="6.1 Docker Compose"></a>6.1 Docker Compose</h4><p>Docker Compose æ˜¯ Docker å®˜æ–¹çš„å¼€æºé¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ <code>Docker</code> åº”ç”¨ç¨‹åºçš„å·¥å…·ï¼Œä½¿ç”¨ <code>Yaml</code> æ–‡ä»¶é…ç½®åº”ç”¨ç¨‹åºçš„æœåŠ¡ï¼Œåªéœ€è¿è¡Œä¸€æ¡å‘½ä»¤å³å¯åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰çš„æœåŠ¡ã€‚</p>
<p>ä¾‹å¦‚æˆ‘ä»¬çš„é¡¹ç›®å¯èƒ½éœ€è¦å‰ç«¯ï¼ˆVueï¼‰ã€åç«¯ï¼ˆSpringBootï¼‰ã€æ•°æ®åº“ï¼ˆMySQLï¼‰ã€ç¼“å­˜ï¼ˆRedisï¼‰ã€è´Ÿè½½å‡è¡¡ï¼ˆNginxï¼‰ç­‰å¤šä¸ªæœåŠ¡å™¨ï¼Œè¿™äº›æœåŠ¡ç›¸äº’ç‹¬ç«‹ï¼Œä½†æ˜¯åˆå­˜åœ¨ä¸€å®šçš„å…³è”ï¼Œéœ€è¦ç›¸äº’é…åˆæ¥å·¥ä½œï¼Œå‰ç«¯éœ€è¦è¿æ¥åç«¯ã€åç«¯éœ€è¦è¿æ¥æ•°æ®åº“ã€‚è¿™äº›æœåŠ¡ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œå°±æ˜¯ <code>Docker Compose</code> è¦è§£å†³çš„é—®é¢˜ã€‚å®ƒé€šè¿‡ä¸€ä¸ªå•ç‹¬çš„ <code>docker-compose.yaml</code> æ–‡ä»¶æ¥å°†è¿™ä¸€ç»„äº’ç›¸å…³è”çš„å®¹å™¨ç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªé¡¹ç›®ï¼Œç„¶åä½¿ç”¨ä¸€æ¡å‘½ä»¤ <code>docker compose up</code> å³å¯å¯åŠ¨ã€åœæ­¢ã€é‡å»ºè¿™äº›æœåŠ¡ï¼Œè¿™æ ·å°±å¯ä»¥éå¸¸æ–¹ä¾¿çš„ç®¡ç†è¿™äº›æœåŠ¡äº†ã€‚</p>
<h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lqpf199681/article/details/110518692">Dockerè¶…è¯¦ç»†åŸºç¡€æ•™ç¨‹ - CSDNåšå®¢</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-06-23T04:27:44.000Z" title="2024/6/23 12:27:44">2024-06-23</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-06-24T08:40:14.154Z" title="2024/6/24 16:40:14">2024-06-24</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/CppDev/">CppDev</a><span>Â /Â </span><a class="link-muted" href="/categories/CppDev/Gaming/">Gaming</a></span><span class="level-item">5 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦756ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/23/CppGamingDEV-PVZ-BASE-EASYX/">CppGamingDEV_PVZ_BASE_EASYX</a></p><div class="content"><h2 id="ğŸ®-ä»é›¶å¼€å§‹è¿›è¡Œ-C-æ¸¸æˆå¼€å‘"><a href="#ğŸ®-ä»é›¶å¼€å§‹è¿›è¡Œ-C-æ¸¸æˆå¼€å‘" class="headerlink" title="ğŸ® ä»é›¶å¼€å§‹è¿›è¡Œ C++ æ¸¸æˆå¼€å‘"></a>ğŸ® ä»é›¶å¼€å§‹è¿›è¡Œ C++ æ¸¸æˆå¼€å‘</h2><p>[TOC]</p>
<h3 id="æ¸¸æˆåœºæ™¯æ¦‚å¿µ"><a href="#æ¸¸æˆåœºæ™¯æ¦‚å¿µ" class="headerlink" title="æ¸¸æˆåœºæ™¯æ¦‚å¿µ"></a>æ¸¸æˆåœºæ™¯æ¦‚å¿µ</h3><ul>
<li><strong>ä»€ä¹ˆæ˜¯åœºæ™¯?</strong><br>å¦‚æœå°†è¦æ¸¸æˆç¨‹åºæ¯”ä½œæ˜¯ä¸€åœºæœ‰ç©å®¶å‚ä¸çš„ç››å¤§æ¼”å‡ºï¼Œé‚£åœºæ™¯å°±æ˜¯æ¼”å‡ºè¿‡ç¨‹ä¸­çš„ä¸€å¹•ã€‚åœ¨ä¸åŒçš„å¹•ä¸­ï¼Œä¼šæœ‰ä¸åŒçš„å‰§æœ¬é€»è¾‘ï¼Œä¹Ÿå¯èƒ½ä¼šæœ‰ä¸åŒçš„è§’è‰²ç™»åœºï¼Œè¿™äº›è§’è‰²å³æ¸¸æˆå¼€å‘ä¸­å¸¸æåˆ°çš„ <code>GameObject</code> çš„æ¦‚å¿µã€‚<br>ä¸è®ºæ˜¯ç©å®¶ã€æ•Œäººè¿˜æ˜¯å­å¼¹ã€é“å…·ç­‰ï¼Œè¿™äº›ä»æ¦‚å¿µä¸Šè®²éƒ½æ˜¯ <code>GameObject</code> çš„èŒƒç•´ã€‚ä»–ä»¬æ¥å—ç€ä¸åŒçš„åœºæ™¯å‰§æœ¬çš„æŒ‡æŒ¥ï¼Œè¿›è¡Œç€ä¸åŒé€»è¾‘çš„æ¼”å‡ºã€‚<br>äº†è§£äº†è¿™äº›ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹ç¨‹åºçš„æµç¨‹è¿›è¡Œå®è§‚çš„åˆ’åˆ†ï¼Œæ¸¸æˆçš„ä¸»èœå•æ˜¯ä¸€ä¸ªåœºæ™¯ï¼Œç©å®¶è§’è‰²é€‰æ‹©ç•Œé¢ä¹Ÿæ˜¯ä¸€ä¸ªåœºæ™¯ï¼Œæ¸¸æˆå±€å†…çš„é€»è¾‘ä¹Ÿéœ€è¦æ”¾ç½®åœ¨ä¸€ä¸ªå•ç‹¬çš„åœºæ™¯ä¸­ã€‚<br>æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥å®šä¹‰ä¸€ä¸ª <code>Scene</code> åœºæ™¯åŸºç±»ï¼Œ<strong>ä¸»èœå•</strong>ã€<strong>è§’è‰²é€‰æ‹©</strong>ã€<strong>å±€å†…æ¸¸æˆ</strong> ä½œä¸ºæ–°ç±»åˆ†åˆ«ç»§æ‰¿ <code>Scene</code> ç±»ã€‚</li>
</ul>
<h3 id="æ¸¸æˆä¸»å¾ªç¯æ¡†æ¶æ¦‚å¿µ"><a href="#æ¸¸æˆä¸»å¾ªç¯æ¡†æ¶æ¦‚å¿µ" class="headerlink" title="æ¸¸æˆä¸»å¾ªç¯æ¡†æ¶æ¦‚å¿µ"></a>æ¸¸æˆä¸»å¾ªç¯æ¡†æ¶æ¦‚å¿µ</h3><ul>
<li><strong>ä»€ä¹ˆæ˜¯æ¸¸æˆä¸»å¾ªç¯æ¡†æ¶?</strong><br>æ¸¸æˆç¨‹åºçš„ä¸»ä½“æ˜¯ä¸€ä¸ªæ°¸ä¸åœæ­‡çš„æ­»å¾ªç¯ã€‚åœ¨æ¯æ¬¡å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬è¯»å–ç©å®¶çš„æ“ä½œä¿¡æ¯ï¼Œå¹¶æ ¹æ®è¿™äº›æ“ä½œï¼Œå¤„ç†ç©å®¶æ•°æ®æ›´æ–°ï¼Œåœ¨æœ€åçš„ç»˜å›¾é˜¶æ®µå°†æ¸¸æˆç”»é¢æ ¹æ®è¿™äº›æ›´æ–°åçš„æ•°æ®æ¸²æŸ“å‡ºæ¥ã€‚<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">åˆå§‹åŒ–();</span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    è¯»å–æ“ä½œ();</span><br><span class="line">    å¤„ç†æ•°æ®();</span><br><span class="line">    ç»˜åˆ¶ç”»é¢();</span><br><span class="line">&#125;</span><br><span class="line">æ–½æ”¾èµ„æº;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="C-å¤´æ–‡ä»¶"><a href="#C-å¤´æ–‡ä»¶" class="headerlink" title="C++ å¤´æ–‡ä»¶"></a>C++ å¤´æ–‡ä»¶</h3><ul>
<li>ä¸ºä»€ä¹ˆéœ€è¦å¤´æ–‡ä»¶å«å£«?<br>å¦‚æœä¸ä½¿ç”¨å¤´æ–‡ä»¶å«å£«ï¼Œå¯èƒ½ä¼šå¯¼è‡´å‡ºç°é‡å®šä¹‰çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¤´æ–‡ä»¶ <code>A.h</code> ï¼Œæœ‰ä¸€ä¸ªå¤´æ–‡ä»¶ <code>B.h</code>ï¼Œå¤´æ–‡ä»¶ <code>B.h</code> ä¸­ä½¿ç”¨äº† <code>A.h</code> çš„å†…å®¹ã€‚å½“æˆ‘ä»¬åœ¨ä¸»å‡½æ•°é‡Œé¢ä½¿ç”¨äº† <code>A.h</code> å’Œ <code>B.h</code> çš„æ—¶å€™ï¼Œä½¿ç”¨ <code>#include</code> æ—¶ä¼šå°†å¤´æ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨<strong>å¤åˆ¶</strong>åˆ° <code>#include</code> çš„éƒ¨åˆ†ã€‚è¿™æ ·çš„è¯å¦‚æœä¸åŠ å¤´æ–‡ä»¶å«å£«ï¼Œå°±ä¼šå¯¼è‡´é‡å®šä¹‰çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A.h</span></span><br><span class="line"><span class="type">int</span> a;</span><br><span class="line"></span><br><span class="line"><span class="comment">// B.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;A.h&quot;</span></span></span><br><span class="line"><span class="type">int</span> b;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;A.h&quot;</span>      <span class="comment">// int a;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;B.h&quot;</span>      <span class="comment">// int a;</span></span></span><br><span class="line">                    <span class="comment">// int b;</span></span><br><span class="line">                    <span class="comment">// å‡ºç°é‡å®šä¹‰é”™è¯¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é”™è¯¯ä¿¡æ¯å¦‚ä¸‹</span></span><br><span class="line">In file included from B.h:<span class="number">1</span>,</span><br><span class="line">             from main.cpp:<span class="number">2</span>:</span><br><span class="line">A.h:<span class="number">1</span>:<span class="number">5</span>: error: redefinition of <span class="string">&#x27;int a&#x27;</span></span><br><span class="line">    <span class="number">1</span> | <span class="type">int</span> a;</span><br><span class="line">      |     ^</span><br><span class="line">In file included from main.cpp:<span class="number">1</span>:</span><br><span class="line">A.h:<span class="number">1</span>:<span class="number">5</span>: note: <span class="string">&#x27;int a&#x27;</span> previously declared here</span><br><span class="line">    <span class="number">1</span> | <span class="type">int</span> a;</span><br><span class="line">      |     ^</span><br></pre></td></tr></table></figure>
åœ¨ <code>MSVC</code> ç¼–è¯‘å™¨ä¸­ï¼Œå¤´æ–‡ä»¶å«å£«å¦‚ä¸‹ï¼š  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br></pre></td></tr></table></figure>
åœ¨å…¶ä»–çš„ä¸€äº›ç¼–è¯‘å™¨ä¸­ï¼Œå¸¸å†™ä¸ºè¿™æ ·ï¼š  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __HEADER_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __HEADER_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="åœºæ™¯ç®¡ç†å™¨"><a href="#åœºæ™¯ç®¡ç†å™¨" class="headerlink" title="åœºæ™¯ç®¡ç†å™¨"></a>åœºæ™¯ç®¡ç†å™¨</h3><p>æ¸¸æˆç¨‹åºæ˜¯ä¸€ä¸ªå·¨å¤§çš„æ­»å¾ªç¯ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå·¨å¤§çš„çŠ¶æ€æœºã€‚ä¸åŒçš„æ¸¸æˆåœºæ™¯ä»£è¡¨ç€ä¸åŒçš„çŠ¶æ€ï¼Œç®¡ç†ç€è¿™äº›çŠ¶æ€çš„â€œçŠ¶æ€æœºâ€ï¼Œåœ¨æ¸¸æˆå¼€å‘ä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šçš„åå­—â€”â€”åœºæ™¯ç®¡ç†å™¨ã€‚</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-06-22T08:15:12.000Z" title="2024/6/22 16:15:12">2024-06-22</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-07-09T12:42:38.315Z" title="2024/7/9 20:42:38">2024-07-09</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/">å¤§æ•°æ®æŠ€æœ¯</a><span>Â /Â </span><a class="link-muted" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">æ•°æ®å¯è§†åŒ–</a></span><span class="level-item">1 å°æ—¶è¯»å®Œ (å¤§çº¦11518ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/22/DataVisualization-USE-R-ECHARTS/">DataVisualization_USE_R_ECHARTS</a></p><div class="content"><h2 id="ğŸ“º-æ•°æ®å¯è§†åŒ–åŸºç¡€ï¼ˆä½¿ç”¨Rå’ŒEChartsï¼‰"><a href="#ğŸ“º-æ•°æ®å¯è§†åŒ–åŸºç¡€ï¼ˆä½¿ç”¨Rå’ŒEChartsï¼‰" class="headerlink" title="ğŸ“º æ•°æ®å¯è§†åŒ–åŸºç¡€ï¼ˆä½¿ç”¨Rå’ŒEChartsï¼‰"></a>ğŸ“º æ•°æ®å¯è§†åŒ–åŸºç¡€ï¼ˆä½¿ç”¨<code>R</code>å’Œ<code>ECharts</code>ï¼‰</h2><p>æœ¬æ–‡ä¼šä» <strong><code>R</code></strong> å’Œ <strong><code>ECharts</code></strong> ä¸¤ä¸ªæ–¹é¢æ¥å±•å¼€æ•°æ®å¯è§†åŒ–æŠ€æœ¯çš„ä¸€äº›ä½¿ç”¨æ–¹æ³•ã€‚</p>
<p>[TOC]</p>
<h3 id="ğŸ“Š-1-æ•°æ®å¯è§†åŒ–æ¦‚è¿°"><a href="#ğŸ“Š-1-æ•°æ®å¯è§†åŒ–æ¦‚è¿°" class="headerlink" title="ğŸ“Š 1. æ•°æ®å¯è§†åŒ–æ¦‚è¿°"></a>ğŸ“Š 1. æ•°æ®å¯è§†åŒ–æ¦‚è¿°</h3><ul>
<li><p>æ•°æ®å¯è§†åŒ–æ¦‚å¿µ</p>
<ul>
<li>ç‹­ä¹‰æ¦‚å¿µï¼šæŒ‡çš„æ˜¯æ•°æ®ç”¨ç»Ÿè®¡å›¾è¡¨æ–¹å¼å‘ˆç°</li>
<li>å¹¿ä¹‰æ¦‚å¿µï¼šæ˜¯æ•°æ®å¯è§†åŒ–ã€ä¿¡æ¯å¯è§†åŒ–ä»¥åŠç§‘å­¦å¯è§†åŒ–ç­‰ç­‰å¤šä¸ªé¢†åŸŸçš„ç»Ÿç§°</li>
</ul>
</li>
<li><p>æ•°æ®å¯è§†åŒ–åˆ†ç±»</p>
<ul>
<li>æ•°æ®å¯è§†åŒ–</li>
<li>ä¿¡æ¯å¯è§†åŒ–</li>
<li>ç§‘å­¦å¯è§†åŒ–</li>
</ul>
</li>
<li><p>â­*** æ•°æ®å¯è§†åŒ–ä½œç”¨***</p>
<ul>
<li><strong>æ•°æ®è¡¨è¾¾</strong>ï¼šé€šè¿‡è®¡ç®—æœºå›¾å½¢å›¾å½¢æŠ€æœ¯æ¥æ›´åŠ å‹å¥½åœ°å±•ç¤ºæ•°æ®ä¿¡æ¯ï¼Œä»¥æ–¹ä¾¿äººä»¬ç†è§£å’Œåˆ†ææ•°æ®ã€‚</li>
<li><strong>æ•°æ®æ“ä½œ</strong>ï¼šä»¥è®¡ç®—æä¾›çš„ç•Œé¢ã€æ¥å£å’Œåè®®ç­‰æ¡ä»¶ä¸ºåŸºç¡€å®Œæˆäººä¸æ•°æ®çš„äº¤äº’éœ€æ±‚ã€‚</li>
<li><strong>æ•°æ®åˆ†æ</strong>ï¼šé€šè¿‡è®¡ç®—æœºè·å¾—å¤šç»´ã€å¤šæºã€å¼‚æ„å’Œæµ·é‡æ•°æ®æ‰€éšå«ä¿¡æ¯çš„æ ¸å¿ƒæ‰‹æ®µï¼Œå®ƒæ˜¯æ•°æ®å­˜å‚¨ã€æ•°æ®è½¬æ¢ã€æ•°æ®è®¡ç®—å’Œæ•°æ®å¯è§†åŒ–çš„ç»¼åˆåº”ç”¨ã€‚</li>
</ul>
</li>
<li><p>â­ <em><strong>æ•°æ®å¯è§†åŒ–çš„å·¥å…·</strong></em></p>
<ul>
<li><code>R</code>ã€<code>ECharts</code>ã€<code>D3</code> <strong>â€¦</strong></li>
<li><code>Python</code>ã€<code>pyecharts</code>ã€<code>Excel</code> <strong>â€¦</strong></li>
<li>ç¬¬ä¸‰æ–¹å•†ä¸šå·¥å…·ï¼š<code>FineBI</code>ã€<code>FineReport</code> <strong>â€¦</strong></li>
</ul>
</li>
<li><p>å­¦ä¹ æ•°æ®å¯è§†åŒ–éœ€è¦äº†è§£ï¼ˆå…·å¤‡ï¼‰ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li><p>å¯¹è‰²å½©çš„æ„ŸçŸ¥ï¼šäº†è§£åŸè‰²ã€é—´è‰²ã€å¤è‰²ç­‰ï¼Œå¹¶ä¸”äº†è§£è‰²å½©çš„è§†è§‰æ„Ÿå—ï¼ˆå¿ƒç†æ„Ÿå—ï¼‰ï¼Œå½“ç„¶ä¹Ÿå°±æ˜¯äº†è§£å³å¯ï¼Œè‰²å½©è¿™ç§ä¸œè¥¿å¤©èµ‹æ›´é‡è¦ä¸€äº›ï¼ŒçŸ¥é“ä¸‰åŸè‰²æ˜¯å•¥å°±è¡Œã€‚</p>
<ul>
<li><strong>åŸè‰²</strong>ï¼šçº¢ã€é»„ã€è“ã€‚</li>
<li>é—´è‰²ï¼šå¯å­˜åœ¨å¤šä¸ªé—´è‰²ï¼Œå½“åŸè‰²ä¹‹é—´ <code>1:1</code> åŒ¹é…æ—¶åˆ™ä¸ºï¼šæ©™ã€ç»¿ã€ç´«ã€‚</li>
<li>å¤è‰²ï¼šå¯å­˜åœ¨å¤šä¸ªå¤è‰²ï¼ˆä¸€å®šåŒ…å«ä¸‰åŸè‰²ï¼‰ï¼Œä¸¤ä¸ªé—´è‰²æˆ–ä¸€ç§åŸè‰²å’Œå…¶å¯¹åº”çš„é—´è‰²ï¼ˆé»„ + ç´«ã€è“ + æ©™ï¼‰ç›¸æ··åˆå¾—åˆ°å¤è‰²ã€‚</li>
<li>è‰²å½©æ„Ÿå—ï¼šè½»é‡æ„Ÿã€å†·æš–æ„Ÿã€å‰åæ„Ÿã€æ”¶ç¼©æ„Ÿ â€¦</li>
</ul>
</li>
<li><p>æ•°æ®å¯è§†åŒ–çš„åŸºæœ¬æµç¨‹</p>
<ul>
<li>æ•°æ®é‡‡é›†</li>
<li>æ•°æ®å¤„ç†</li>
<li>å¯è§†åŒ–æ˜ å°„</li>
<li>ç”¨æˆ·æ„ŸçŸ¥</li>
</ul>
</li>
<li><p>æ•°æ®å¯è§†åŒ–çš„ä¸€äº›è®¾è®¡æŠ€å·§</p>
<ul>
<li><p>è®¾è®¡åŸåˆ™ï¼šæ³¨é‡ç”¨æˆ·çš„è§†è§‰ä½“éªŒ</p>
</li>
<li><p>è®¾è®¡æŠ€å·§ï¼š</p>
<p>â‘  ï¼ˆé¢œè‰²ï¼‰å»ºç«‹è§†è§‰å±‚æ¬¡ï¼Œç”¨é†’ç›®çš„é¢œè‰²çªå‡ºæ•°æ®ï¼Œæ·¡åŒ–å…¶ä»–å…ƒç´ </p>
<p>â‘¡ ï¼ˆå†…å®¹ï¼‰é«˜äº®æ˜¾ç¤ºé‡ç‚¹å†…å®¹</p>
<p>â‘¢ ï¼ˆè·¨åº¦ï¼‰æå‡ä¸åŒåŒºåŸŸçš„è‰²é˜¶è·¨åº¦</p>
<p>â‘£ ï¼ˆåœºæ™¯ï¼‰å€ŸåŠ©åœºæ™¯æ¥è¡¨ç°æ•°æ®æŒ‡æ ‡</p>
<p>â‘¤ ï¼ˆè½¬æ¢ï¼‰å°†æŠ½è±¡çš„ä¸æ˜“ç†è§£çš„æ•°å­—è½¬æ¢ä¸ºå®¹æ˜“è¢«äººæ„ŸçŸ¥çš„å›¾è¡¨</p>
<p>â‘¥ ï¼ˆç®€æ´ï¼‰å°½é‡è®©å›¾è¡¨ç®€æ´</p>
</li>
</ul>
</li>
<li><p>æ•°æ®å¯è§†åŒ–çš„å›¾è¡¨ç±»å‹</p>
<p>åœ¨ç»Ÿè®¡å›¾è¡¨ä¸­æ¯ä¸€ç§ç±»å‹çš„å›¾è¡¨ä¸­éƒ½å¯åŒ…å«ä¸åŒçš„æ•°æ®å¯è§†åŒ–å›¾å½¢ï¼Œå¦‚ï¼šæŸ±çŠ¶å›¾ã€é¥¼å›¾ã€æ°”æ³¡å›¾ã€çƒ­åŠ›å›¾ã€è¶‹åŠ¿å›¾ã€ç›´æ–¹å›¾ã€é›·è¾¾å›¾ã€è‰²å—å›¾ã€æ¼æ–—å›¾ã€å’Œå¼¦å›¾ã€ä»ªè¡¨ç›˜ã€é¢ç§¯å›¾ã€æŠ˜çº¿å›¾ã€å¯†åº¦å›¾ ä»¥åŠ Kçº¿å›¾ç­‰ã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 id="ğŸ«-2-R-Rè¯­è¨€å¿«é€Ÿå…¥é—¨"><a href="#ğŸ«-2-R-Rè¯­è¨€å¿«é€Ÿå…¥é—¨" class="headerlink" title="ğŸ« 2. R - Rè¯­è¨€å¿«é€Ÿå…¥é—¨"></a>ğŸ« 2. <code>R</code> - <code>R</code>è¯­è¨€å¿«é€Ÿå…¥é—¨</h3><p>å‚è€ƒæ–‡çŒ®ï¼š<a target="_blank" rel="noopener" href="https://bookdown.org/wangminjie/R4DS/">æ•°æ®ç§‘å­¦ä¸­çš„ R è¯­è¨€ (bookdown.org)</a></p>
<h4 id="2-1-R-è¯­è¨€æ¦‚è¿°"><a href="#2-1-R-è¯­è¨€æ¦‚è¿°" class="headerlink" title="2.1 R è¯­è¨€æ¦‚è¿°"></a>2.1 R è¯­è¨€æ¦‚è¿°</h4><p>Rè¯­è¨€æ˜¯ä¸ºæ•°å­¦ç ”ç©¶å·¥ä½œè€…è®¾è®¡çš„ä¸€ç§æ•°å­¦ç¼–ç¨‹è¯­è¨€ï¼Œä¸»è¦ç”¨äºç»Ÿè®¡åˆ†æã€ç»˜å›¾ã€æ•°æ®æŒ–æ˜æ•°æ®å¯è§†åŒ–ã€‚</p>
<p>ç›®å‰ä¸»æµçš„æ•°æ®åˆ†æè¯­è¨€æœ‰ <code>R</code>ã€<code>Python</code>ã€<code>Matlab</code> ç­‰ã€‚</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"><code>R</code></th>
<th><code>Python</code></th>
<th><code>Matlab</code></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>è¯­è¨€å­¦ä¹ éš¾æ˜“ç¨‹åº¦</strong></td>
<td align="left">å…¥é—¨éš¾åº¦ä½</td>
<td>å…¥é—¨éš¾åº¦ä¸€èˆ¬</td>
<td>å…¥é—¨éš¾åº¦ä¸€èˆ¬</td>
</tr>
<tr>
<td align="left"><strong>ä½¿ç”¨åœºæ™¯</strong></td>
<td align="left">æ•°æ®åˆ†æã€æ•°æ®æŒ–æ˜ã€æœºå™¨å­¦ä¹ ã€æ•°æ®å¯è§†åŒ–ç­‰ã€‚</td>
<td>æ•°æ®åˆ†æã€æœºå™¨å­¦ä¹ ã€çŸ©é˜µè¿ç®—ã€ç§‘å­¦æ•°æ®å¯è§†åŒ–ã€æ•°å­—å›¾åƒå¤„ç†ã€Webåº”ç”¨ã€ç½‘ç»œçˆ¬è™«ã€ç³»ç»Ÿè¿ç»´ç­‰ã€‚</td>
<td>çŸ©é˜µè®¡ç®—ã€æ•°å€¼åˆ†æã€ç§‘å­¦æ•°æ®å¯è§†åŒ–ã€æœºå™¨å­¦ä¹ ã€ç¬¦å·è®¡ç®—ã€æ•°å­—å›¾åƒå¤„ç†ã€æ•°å­—ä¿¡å·å¤„ç†ã€ä»¿çœŸæ¨¡æ‹Ÿç­‰ã€‚</td>
</tr>
<tr>
<td align="left"><strong>ç¬¬ä¸‰æ–¹æ”¯æŒ</strong></td>
<td align="left">æ‹¥æœ‰å¤§é‡çš„ <code>Packages</code>ï¼Œèƒ½å¤Ÿè°ƒç”¨ <code>C</code>ã€<code>C++</code>ã€<code>Fortran</code>ã€<code>Java</code>ç­‰å…¶ä»–ç¨‹åºè¯­è¨€ã€‚</td>
<td>æ‹¥æœ‰å¤§é‡çš„ç¬¬ä¸‰æ–¹åº“ï¼Œèƒ½å¤Ÿç®€ä¾¿åœ°è°ƒç”¨<code>C</code>ã€<code>C++</code>ã€<code>Fortran</code>ã€<code>Java</code>ç­‰å…¶ä»–ç¨‹åºè¯­è¨€ã€‚</td>
<td>æ‹¥æœ‰å¤§é‡ä¸“ä¸šçš„å·¥å…·ç®±ï¼Œåœ¨æ–°ç‰ˆæœ¬ä¸­åŠ å…¥äº†å¯¹<code>C</code>ã€<code>C++</code>ï¼Œ<code>Java</code>çš„æ”¯æŒã€‚</td>
</tr>
<tr>
<td align="left"><strong>æµè¡Œé¢†åŸŸ</strong></td>
<td align="left">å·¥ä¸šç•Œ â‰ˆ å­¦æœ¯ç•Œ</td>
<td>å·¥ä¸šç•Œ ï¼ å­¦æœ¯ç•Œ</td>
<td>å·¥ä¸šç•Œ â‰¤ å­¦æœ¯ç•Œ</td>
</tr>
<tr>
<td align="left"><strong>è½¯ä»¶æˆæœ¬</strong></td>
<td align="left">å¼€æºå…è´¹</td>
<td>å¼€æºå…è´¹</td>
<td>å•†ä¸šæ”¶è´¹</td>
</tr>
</tbody></table>
<h4 id="2-2-R-è¯­è¨€ä¸­åŒ…çš„æ¦‚å¿µå’Œä½¿ç”¨"><a href="#2-2-R-è¯­è¨€ä¸­åŒ…çš„æ¦‚å¿µå’Œä½¿ç”¨" class="headerlink" title="2.2 R è¯­è¨€ä¸­åŒ…çš„æ¦‚å¿µå’Œä½¿ç”¨"></a>2.2 R è¯­è¨€ä¸­åŒ…çš„æ¦‚å¿µå’Œä½¿ç”¨</h4><ul>
<li><p>è½¯ä»¶åŒ…å’Œè½¯ä»¶åº“</p>
<ul>
<li><p>è½¯ä»¶åŒ…ï¼š<code>R</code> ä¸­çš„åŒ…æ˜¯ <code>R</code> å‡½æ•°ã€æ•°æ®ã€é¢„ç¼–è¯‘ä»£ç ä»¥ä¸€ç§å®šä¹‰å®Œå–„çš„æ ¼å¼ç»„æˆçš„é›†åˆã€‚</p>
</li>
<li><p>è½¯ä»¶åº“ï¼šè½¯ä»¶åº“æŒ‡çš„æ˜¯ä¸€ä¸ªåŒ…å«äº†è‹¥å¹²ä¸ªåŒ…çš„ç›®å½•ã€‚ä½ å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªç³»ç»Ÿçº§åˆ«çš„è½¯ä»¶åº“ï¼Œä¹Ÿå¯ä»¥ä¸ºæ¯ä¸ªç”¨æˆ·å•ç‹¬è®¾ç«‹ä¸€ä¸ªè½¯ä»¶åº“ã€‚</p>
</li>
<li><p><code>R</code> è‡ªå¸¦äº†ä¸€ç³»åˆ—é»˜è®¤åŒ…ï¼ˆåŒ…æ‹¬ <code>base</code>ã€<code>datasets</code>ã€<code>utils</code>ã€<code>grDevices</code>ã€<code>graphics</code>ã€<code>stats</code>ä»¥åŠ<code>methods</code>ï¼‰ï¼Œå®ƒä»¬æä¾›äº†ç§ç±»ç¹å¤šçš„é»˜è®¤å‡½æ•°å’Œæ•°æ®é›†ã€‚</p>
<ul>
<li><code>base</code>ï¼šåŒ…å«åŸºç¡€çš„ <code>R</code> å‡½æ•°</li>
<li><code>database</code>ï¼šè‡ªå¸¦çš„æ•°æ®åŒ…ï¼Œé‡Œé¢çš„æ•°æ®ç»“æ„åŒ…æ‹¬çŸ©é˜µã€å‘é‡ã€æ•°æ®æ¡†ç­‰</li>
<li><code>utils</code>ï¼šå·¥å…·å‡½æ•°åŒ…</li>
<li><code>grDevices</code>ï¼šåŸºç¡€ç»˜å›¾å·¥å…·åŒ…ï¼Œæä¾›è°ƒæ•´å›¾å½¢é¢œè‰²å’Œå­—ä½“çš„åŠŸèƒ½ï¼Œå¯ç”¨äºé…è‰²</li>
<li><code>graphics</code>ï¼šåŸºç¡€ç»˜å›¾å·¥å…·åŒ…</li>
<li><code>stats</code>ï¼šç»Ÿè®¡å‡½æ•°çš„æ‰©å±•åŒ…</li>
<li><code>methods</code>ï¼š<code>R</code> å¯¹è±¡å’Œå…¶ä»–ç¼–ç¨‹å·¥å…·å®šä¹‰æ–¹æ³•å’Œç±»æ¯”çš„æ‰©å±•åŒ…</li>
</ul>
</li>
</ul>
</li>
<li><p>åŒ…çš„ç›¸å…³æ“ä½œ</p>
<ul>
<li>æŸ¥çœ‹åŒ…çš„å®‰è£…è·¯å¾„ï¼š<code>.libPaths()</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> .libPaths<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;D:/R/R-4.3.3/library&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹å·²å®‰è£…çš„åŒ…ï¼š<code>library()</code></li>
<li>æŸ¥çœ‹ç¼–è¯‘ç¯å¢ƒä¸‹å·²è½½å…¥çš„åŒ…çš„åˆ—è¡¨ï¼š<code>search()</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> search<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;.GlobalEnv&quot;</span>        <span class="string">&quot;tools:rstudio&quot;</span>     <span class="string">&quot;package:stats&quot;</span>     <span class="string">&quot;package:graphics&quot;</span>  <span class="string">&quot;package:grDevices&quot;</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">6</span><span class="punctuation">]</span> <span class="string">&quot;package:utils&quot;</span>     <span class="string">&quot;package:datasets&quot;</span>  <span class="string">&quot;package:methods&quot;</span>   <span class="string">&quot;Autoloads&quot;</span>         <span class="string">&quot;package:base&quot;</span>   </span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä¸‹è½½åŒ…ï¼š</p>
<ul>
<li><p>é€šè¿‡ <strong>CRAN (The Comprehensive R Archive Network)</strong> ä¸‹è½½ã€‚<strong>CRAN</strong> æ˜¯ R è¯­è¨€çš„ç»¼åˆæ¡£æ¡ˆç½‘ç»œã€‚ç”¨æˆ·å¯ä»¥ä» CRAN ä¸Šä¸‹è½½å¹¶å®‰è£…å„ç§ç¬¬ä¸‰æ–¹åŒ…æ¥æ‰©å±• R è¯­è¨€çš„åŠŸèƒ½ã€‚</p>
<p>â‘  æŒ‡å®šåŒ…åè¿›è¡Œå®‰è£…ï¼š<code>install.packages(&quot;PackageName&quot;)</code></p>
<p>â‘¡ ä½¿ç”¨å›¾å½¢ç•Œé¢å®‰è£…ï¼š<code>install.packages()</code> </p>
</li>
<li><p>æ‰‹åŠ¨å®‰è£…ï¼š<a target="_blank" rel="noopener" href="https://cran.r-project.org/web/packages/XML/index.html">https://cran.r-project.org/web/packages/XML/index.html</a></p>
</li>
<li><p>ä½¿ç”¨ <code>RStudio</code> å®‰è£…</p>
</li>
</ul>
</li>
<li><p>åŒ…çš„å¸è½½ï¼š<code>remove.packages(&quot;PackageName&quot;)</code></p>
</li>
<li><p>åŒ…çš„è½½å…¥ï¼š<code>library(&quot;PackageName&quot;)</code></p>
</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> library<span class="punctuation">(</span><span class="string">&quot;XML&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> search<span class="punctuation">(</span><span class="punctuation">)</span>		<span class="comment"># å¯ä»¥çœ‹åˆ° &quot;package:XML&quot; å·²ç»è¢«åŠ è½½è¿›æ¥äº†</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;.GlobalEnv&quot;</span>        <span class="string">&quot;package:XML&quot;</span>       <span class="string">&quot;tools:rstudio&quot;</span>     <span class="string">&quot;package:stats&quot;</span>     <span class="string">&quot;package:graphics&quot;</span> </span><br><span class="line"> <span class="punctuation">[</span><span class="number">6</span><span class="punctuation">]</span> <span class="string">&quot;package:grDevices&quot;</span> <span class="string">&quot;package:utils&quot;</span>     <span class="string">&quot;package:datasets&quot;</span>  <span class="string">&quot;package:methods&quot;</span>   <span class="string">&quot;Autoloads&quot;</span>        </span><br><span class="line"><span class="punctuation">[</span><span class="number">11</span><span class="punctuation">]</span> <span class="string">&quot;package:base&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åŒ…çš„å–æ¶ˆè½½å…¥ï¼š<code>detach(&quot;package:PackageName&quot;, unload = True)</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> detach<span class="punctuation">(</span><span class="string">&quot;package:XML&quot;</span><span class="punctuation">,</span> unload <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> search<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;.GlobalEnv&quot;</span>        <span class="string">&quot;tools:rstudio&quot;</span>     <span class="string">&quot;package:stats&quot;</span>     <span class="string">&quot;package:graphics&quot;</span>  <span class="string">&quot;package:grDevices&quot;</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">6</span><span class="punctuation">]</span> <span class="string">&quot;package:utils&quot;</span>     <span class="string">&quot;package:datasets&quot;</span>  <span class="string">&quot;package:methods&quot;</span>   <span class="string">&quot;Autoloads&quot;</span>         <span class="string">&quot;package:base&quot;</span>     </span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-3-R-è¯­è¨€çš„å·¥ä½œç©ºé—´çš„æ¦‚å¿µå’Œä½¿ç”¨"><a href="#2-3-R-è¯­è¨€çš„å·¥ä½œç©ºé—´çš„æ¦‚å¿µå’Œä½¿ç”¨" class="headerlink" title="2.3  R è¯­è¨€çš„å·¥ä½œç©ºé—´çš„æ¦‚å¿µå’Œä½¿ç”¨"></a>2.3  R è¯­è¨€çš„å·¥ä½œç©ºé—´çš„æ¦‚å¿µå’Œä½¿ç”¨</h4><ul>
<li>æ¦‚å¿µï¼š<strong>å·¥ä½œç©ºé—´(Work Space)</strong> å°±æ˜¯å½“å‰ R çš„å·¥ä½œç¯å¢ƒï¼Œå®ƒå‚¨å­˜ç€æ‰€æœ‰ç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ï¼ˆå‘é‡ã€çŸ©é˜µã€å‡½æ•°ã€æ•°æ®æ¡†ã€åˆ—è¡¨ï¼‰ã€‚åœ¨ä¸€ä¸ª R ä¼šè¯ç»“æŸæ—¶ï¼Œç”¨æˆ·å¯ä»¥å°†å½“å‰å·¥ä½œç©ºé—´ä¿å­˜åˆ°ä¸€ä¸ªé•œåƒä¸­ï¼Œå¹¶åœ¨ä¸‹æ¬¡å¯åŠ¨ R æ—¶è‡ªåŠ¨è½½å…¥å®ƒã€‚</li>
<li>è®¾ç½®å·¥ä½œç›®å½•ï¼š<code>setwd()</code> æˆ–ä½¿ç”¨ <code>RStudio</code> å¯è§†åŒ–çª—å£è¿›è¡Œè®¾ç½®ï¼ˆ<em><strong>Session</strong></em> â†’ <em><strong>Set Working Directory</strong></em>ï¼‰</li>
<li>è·å–å·¥ä½œç›®å½•ï¼š<code>getwd()</code></li>
</ul>
<h4 id="2-4-R-è¯­è¨€çš„å…­å¤§åŸå­æ•°æ®ç±»å‹"><a href="#2-4-R-è¯­è¨€çš„å…­å¤§åŸå­æ•°æ®ç±»å‹" class="headerlink" title="2.4 R è¯­è¨€çš„å…­å¤§åŸå­æ•°æ®ç±»å‹"></a>2.4 R è¯­è¨€çš„å…­å¤§åŸå­æ•°æ®ç±»å‹</h4><ul>
<li><strong>æ•°å­—å‹(Numeric)</strong></li>
<li><strong>é€»è¾‘å‹(Logical)</strong></li>
<li><strong>æ•´å‹(Integer)</strong></li>
<li><strong>å­—ç¬¦å‹(Character)</strong></li>
<li><strong>å¤åˆå‹(Complex)</strong></li>
<li><strong>åŸå­å‹(Raw)</strong></li>
</ul>
<p>å¯¹äºä¸åŒåŸå­æ•°æ®ç±»å‹å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼å®šä¹‰ï¼š</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ•°å€¼å‹(Numeric)</span></span><br><span class="line"><span class="operator">&gt;</span> varNumeric <span class="operator">=</span> <span class="number">12.5</span></span><br><span class="line"><span class="operator">&gt;</span> varNumeric</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">12.5</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># é€»è¾‘å‹(Logical)</span></span><br><span class="line"><span class="operator">&gt;</span> varLogical <span class="operator">=</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> varLogical</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ•´å‹(Integer)</span></span><br><span class="line"><span class="operator">&gt;</span> varInteger <span class="operator">=</span> <span class="number">25L</span></span><br><span class="line"><span class="operator">&gt;</span> varInteger</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">25</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># å­—ç¬¦å‹(Character)</span></span><br><span class="line"><span class="operator">&gt;</span> varCharacter <span class="operator">=</span> <span class="string">&quot;Hello World&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> varCharacter</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># å¤åˆå‹(Complex)</span></span><br><span class="line"><span class="operator">&gt;</span> varComplex <span class="operator">=</span> <span class="number">2</span> <span class="operator">+</span> <span class="number">3i</span></span><br><span class="line"><span class="operator">&gt;</span> varComplex</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">2</span><span class="operator">+</span><span class="number">3i</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># åŸå­å‹(Raw)</span></span><br><span class="line"><span class="operator">&gt;</span> varRaw <span class="operator">=</span> charToRaw<span class="punctuation">(</span><span class="string">&#x27;Hello&#x27;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> varRaw</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">48</span> <span class="number">65</span> <span class="number">6</span><span class="built_in">c</span> <span class="number">6</span><span class="built_in">c</span> <span class="number">6</span>f</span><br></pre></td></tr></table></figure>

<h4 id="2-5-R-è¯­è¨€å˜é‡ä½¿ç”¨"><a href="#2-5-R-è¯­è¨€å˜é‡ä½¿ç”¨" class="headerlink" title="2.5 R è¯­è¨€å˜é‡ä½¿ç”¨"></a>2.5 R è¯­è¨€å˜é‡ä½¿ç”¨</h4><ul>
<li>å®šä¹‰å˜é‡å¹¶èµ‹å€¼ï¼šä½¿ç”¨ <code>&lt;-</code>ã€<code>=</code>ã€<code>-&gt;</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> var1 <span class="operator">=</span> <span class="number">12.5</span>		<span class="comment"># å®šä¹‰ var1, å¹¶èµ‹å€¼ä¸º 12.5</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>var1<span class="punctuation">)</span>		<span class="comment"># è¾“å‡º var1</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">12.5</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> var2 <span class="operator">&lt;-</span> 13		<span class="comment"># å®šä¹‰ var2, å¹¶èµ‹å€¼ä¸º 13(ç”±å³å‘å·¦)</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>var2<span class="punctuation">)</span>		<span class="comment"># è¾“å‡º var2</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">13</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="number">14</span> <span class="operator">-&gt;</span> var3		<span class="comment"># å®šä¹‰ var3, å¹¶èµ‹å€¼ä¸º 14(ç”±å·¦å‘å³)</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>var3<span class="punctuation">)</span>		<span class="comment"># è¾“å‡º var3</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">14</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> var2 <span class="operator">-&gt;</span> var3</span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>var3<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">13</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>å˜é‡çš„æ‰“å°ï¼š<code>print()</code> æˆ– <code>cat()</code></p>
<p><code>print()</code> å’Œ <code>cat()</code> éƒ½å¯ä»¥å‘æ§åˆ¶å°è¾“å‡ºæ–‡å­—ï¼ŒåŒºåˆ«åœ¨äº <code>print()</code> æœ‰è¿”å›å€¼ï¼Œå…¶ä¼šè¿”å›è¾“å‡ºçš„å†…å®¹ï¼Œæ— æ³•ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ï¼Œå½“ä½¿ç”¨è½¬ä¹‰å­—ç¬¦æ—¶ï¼Œä¼šç›´æ¥è¾“å‡ºè½¬ä¹‰å­—ç¬¦ï¼›è€Œ <code>cat()</code> æ²¡æœ‰è¿”å›å€¼ï¼Œå¯ä»¥ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ã€‚</p>
</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> varX <span class="operator">=</span> <span class="string">&quot;Hello World&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> varY <span class="operator">=</span> <span class="string">&quot;Hello World\n&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> printX <span class="operator">&lt;-</span> print<span class="punctuation">(</span>varX<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello World&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> catX   <span class="operator">&lt;-</span> cat<span class="punctuation">(</span>varX<span class="punctuation">,</span> <span class="string">&quot;\n&quot;</span><span class="punctuation">)</span>	<span class="comment"># å¦‚æœä¸æ·»åŠ è½¬ä¹‰å­—ç¬¦ä¼šæ— æ³•æ¢è¡Œ</span></span><br><span class="line">Hello World </span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> printY <span class="operator">&lt;-</span> print<span class="punctuation">(</span>varY<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello World\n&quot;</span>			<span class="comment"># ä½¿ç”¨ print() ç›´æ¥å°†è½¬ä¹‰å­—ç¬¦è¿›è¡Œäº†è¾“å‡º</span></span><br><span class="line"><span class="operator">&gt;</span> catY   <span class="operator">&lt;-</span> cat<span class="punctuation">(</span>varY<span class="punctuation">)</span></span><br><span class="line">Hello World					<span class="comment"># ä½¿ç”¨ cat() æ²¡æœ‰å°†è½¬ä¹‰å­—ç¬¦ç›´æ¥è¾“å‡º, è€Œæ˜¯è½¬åŒ–æˆäº†å“åº”çš„æ ¼å¼, å¦‚&quot;æ¢è¡Œ&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>printX<span class="punctuation">)</span>				<span class="comment"># print() æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello World&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>catX<span class="punctuation">)</span>				<span class="comment"># cat() æ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="literal">NULL</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å˜é‡çš„æŸ¥çœ‹ï¼š<code>ls()</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> ls<span class="punctuation">(</span><span class="punctuation">)</span>						<span class="comment"># è¾“å‡ºæ‰€æœ‰å˜é‡</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;catX&quot;</span>     <span class="string">&quot;catY&quot;</span>     <span class="string">&quot;cyl.f&quot;</span>    <span class="string">&quot;printX&quot;</span>   <span class="string">&quot;printY&quot;</span>   <span class="string">&quot;score&quot;</span>    <span class="string">&quot;tempdens&quot;</span> <span class="string">&quot;var1&quot;</span>     <span class="string">&quot;var2&quot;</span>     <span class="string">&quot;var3&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">11</span><span class="punctuation">]</span> <span class="string">&quot;varX&quot;</span>     <span class="string">&quot;varY&quot;</span>    </span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> ls<span class="punctuation">(</span>pattern <span class="operator">=</span> <span class="string">&quot;var&quot;</span><span class="punctuation">)</span> 		<span class="comment"># æ¨¡å¼åŒ¹é…éƒ¨åˆ†å˜é‡, åŒ…å« &quot;var&quot; çš„</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;var1&quot;</span> <span class="string">&quot;var2&quot;</span> <span class="string">&quot;var3&quot;</span> <span class="string">&quot;varX&quot;</span> <span class="string">&quot;varY&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> ls<span class="punctuation">(</span>pattern <span class="operator">=</span> <span class="string">&quot;*&quot;</span><span class="punctuation">)</span>			<span class="comment"># æ¨¡å¼åŒ¹é…éƒ¨åˆ†å˜é‡, ä½¿ç”¨é€šé…ç¬¦</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;catX&quot;</span>     <span class="string">&quot;catY&quot;</span>     <span class="string">&quot;cyl.f&quot;</span>    <span class="string">&quot;printX&quot;</span>   <span class="string">&quot;printY&quot;</span>   <span class="string">&quot;score&quot;</span>    <span class="string">&quot;tempdens&quot;</span> <span class="string">&quot;var1&quot;</span>     <span class="string">&quot;var2&quot;</span>     <span class="string">&quot;var3&quot;</span>    </span><br><span class="line"><span class="punctuation">[</span><span class="number">11</span><span class="punctuation">]</span> <span class="string">&quot;varX&quot;</span>     <span class="string">&quot;varY&quot;</span>    </span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> ls<span class="punctuation">(</span>pattern <span class="operator">=</span> <span class="string">&quot;2&quot;</span><span class="punctuation">)</span>			<span class="comment"># æ¨¡å¼åŒ¹é…éƒ¨åˆ†å˜é‡, åŒ…å« &quot;2&quot; çš„</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;var2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> ls<span class="punctuation">(</span>all.names <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">)</span>		<span class="comment"># </span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;.Random.seed&quot;</span> <span class="string">&quot;catX&quot;</span>         <span class="string">&quot;catY&quot;</span>         <span class="string">&quot;cyl.f&quot;</span>        <span class="string">&quot;printX&quot;</span>       <span class="string">&quot;printY&quot;</span>       <span class="string">&quot;score&quot;</span>       </span><br><span class="line"> <span class="punctuation">[</span><span class="number">8</span><span class="punctuation">]</span> <span class="string">&quot;tempdens&quot;</span>     <span class="string">&quot;var1&quot;</span>         <span class="string">&quot;var2&quot;</span>         <span class="string">&quot;var3&quot;</span>         <span class="string">&quot;varX&quot;</span>         <span class="string">&quot;varY&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å˜é‡çš„åˆ é™¤ï¼š<code>rm()</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> rm<span class="punctuation">(</span><span class="string">&quot;var1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;var2&quot;</span><span class="punctuation">)</span>				<span class="comment"># åˆ é™¤ &quot;var1&quot; å’Œ &quot;var2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> rm<span class="punctuation">(</span><span class="built_in">list</span> <span class="operator">=</span> ls<span class="punctuation">(</span>pattern <span class="operator">=</span> <span class="string">&quot;var&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span>	<span class="comment"># åˆ é™¤ åŒ¹é…åˆ° &quot;var&quot; çš„å˜é‡, list æ˜¯ä¸€ä¸ªå¯ä»¥æŒ‡å®šçš„å‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> rmlist <span class="operator">=</span> ls<span class="punctuation">(</span>pattern <span class="operator">=</span> <span class="string">&quot;X&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> rmlist</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;catX&quot;</span>   <span class="string">&quot;printX&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> rm<span class="punctuation">(</span><span class="built_in">list</span> <span class="operator">=</span> rmlist<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>[â­] å˜é‡çš„æ•°æ®ç±»å‹åˆ¤åˆ«å’Œè½¬æ¢</p>
<ul>
<li>åˆ¤åˆ«ï¼š<code>is.XXX()</code>ï¼Œè¿”å› <code>True/False</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ•°å€¼å‹(Numeric)</span></span><br><span class="line"><span class="operator">&gt;</span> varNumeric <span class="operator">=</span> <span class="number">12.5</span></span><br><span class="line"><span class="operator">&gt;</span> varNumeric</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">12.5</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.numeric</span><span class="punctuation">(</span>varNumeric<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.logical</span><span class="punctuation">(</span>varNumeric<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.integer</span><span class="punctuation">(</span>varNumeric<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.character</span><span class="punctuation">(</span>varNumeric<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.complex</span><span class="punctuation">(</span>varNumeric<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.raw</span><span class="punctuation">(</span>varNumeric<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># é€»è¾‘å‹(Logical)</span></span><br><span class="line"><span class="operator">&gt;</span> varLogical <span class="operator">=</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> varLogical</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.numeric</span><span class="punctuation">(</span>varLogical<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.logical</span><span class="punctuation">(</span>varLogical<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.integer</span><span class="punctuation">(</span>varLogical<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.character</span><span class="punctuation">(</span>varLogical<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.complex</span><span class="punctuation">(</span>varLogical<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.raw</span><span class="punctuation">(</span>varLogical<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è½¬æ¢ï¼š<code>as.XXX()</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># å˜é‡ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="operator">&gt;</span> varNumToChar <span class="operator">&lt;-</span> <span class="built_in">as.character</span><span class="punctuation">(</span>varNumeric<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> varNumToChar</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;12.5&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.numeric</span><span class="punctuation">(</span>varNumToChar<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.logical</span><span class="punctuation">(</span>varNumToChar<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.integer</span><span class="punctuation">(</span>varNumToChar<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.character</span><span class="punctuation">(</span>varNumToChar<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span>	<span class="operator">&lt;-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span> å¯ä»¥çœ‹åˆ°å·²ç»è½¬æ¢æˆäº†å­—ç¬¦å‹</span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.complex</span><span class="punctuation">(</span>varNumToChar<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.raw</span><span class="punctuation">(</span>varNumToChar<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>[â­] å˜é‡çš„æ•°æ®ç±»å‹æŸ¥çœ‹</p>
<ul>
<li><code>mode()</code>ï¼šæŸ¥çœ‹æ•°æ®å…ƒç´ ç±»å‹</li>
<li><code>typeof()</code>ï¼šæŸ¥çœ‹æ•°æ®å…ƒç´ ç±»å‹ï¼ŒåŸºæœ¬ç­‰åŒäº <code>mode()</code> ï¼Œæ¯” <code>mode()</code> æ›´ä¸ºè¯¦ç»†</li>
<li><code>class()</code>ï¼šæŸ¥çœ‹æ•°æ®ç»“æ„ï¼Œ<code>vector</code>ã€<code>matrix</code>ã€<code>array</code>ã€<code>dataframe</code>ã€<code>list</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æŸ¥çœ‹å˜é‡ç±»å‹</span></span><br><span class="line"><span class="operator">&gt;</span> mode<span class="punctuation">(</span>varNumeric<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;numeric&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> typeof<span class="punctuation">(</span>varNumeric<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;double&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>varNumeric<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;numeric&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> mode<span class="punctuation">(</span>varLogical<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;logical&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> typeof<span class="punctuation">(</span>varLogical<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;logical&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>varLogical<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;logical&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> mode<span class="punctuation">(</span>varInteger<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;numeric&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> typeof<span class="punctuation">(</span>varInteger<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;integer&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>varInteger<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;integer&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> mode<span class="punctuation">(</span>varCharacter<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;character&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> typeof<span class="punctuation">(</span>varCharacter<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;character&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>varCharacter<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;character&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> mode<span class="punctuation">(</span>varComplex<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;complex&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> typeof<span class="punctuation">(</span>varComplex<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;complex&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>varComplex<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;complex&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> mode<span class="punctuation">(</span>varRaw<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;raw&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> typeof<span class="punctuation">(</span>varRaw<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;raw&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>varRaw<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;raw&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>[â­] å­—ç¬¦ä¸²çš„åº”ç”¨</p>
<ul>
<li>Rè¯­è¨€ä¸­çš„æ–‡æœ¬ï¼Œæˆ–è€…åŸå­æ•°æ®ç±»å‹ä¸­ <code>Character</code>ã€‚åœ¨ R è¯­è¨€ä¸­çš„å•å¼•å·<code>&#39; &#39;</code> æˆ– åŒå¼•å·<code>&quot; &quot;</code> ä¸­å†™å…¥çš„ä»»ä½•å€¼éƒ½è¢«è§†ä¸ºå­—ç¬¦ä¸²ã€‚åœ¨å­—ç¬¦ä¸²æ„é€ ä¸­åº”ç”¨çš„è§„åˆ™ï¼š<ul>
<li>åœ¨å­—ç¬¦ä¸²çš„å¼€å¤´å’Œç»“å°¾çš„å¼•å·åº”è¯¥æ˜¯ä¸¤ä¸ªåŒå¼•å·æˆ–ä¸¤ä¸ªå•å¼•å·ã€‚å®ƒä»¬ä¸èƒ½è¢«æ··åˆã€‚</li>
<li>åŒå¼•å·å¯ä»¥æ’å…¥åˆ°ä»¥å•å¼•å·å¼€å¤´å’Œç»“å°¾çš„å­—ç¬¦ä¸²ä¸­</li>
<li>å•å¼•å·å¯ä»¥æ’å…¥ä»¥åŒå¼•å·å¼€å¤´å’Œç»“å°¾çš„å­—ç¬¦ä¸²ã€‚</li>
<li>åŒå¼•å·ä¸èƒ½æ’å…¥ä»¥åŒå¼•å·å¼€å¤´å’Œç»“å°¾çš„å­—ç¬¦ä¸²ã€‚</li>
<li>å•å¼•å·ä¸èƒ½æ’å…¥ä»¥å•å¼•å·å¼€å¤´å’Œç»“å°¾çš„å­—ç¬¦ä¸²ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-7-R-è¯­è¨€çš„è¿ç®—ç¬¦çš„æ¦‚å¿µå’Œä½¿ç”¨"><a href="#2-7-R-è¯­è¨€çš„è¿ç®—ç¬¦çš„æ¦‚å¿µå’Œä½¿ç”¨" class="headerlink" title="2.7 R è¯­è¨€çš„è¿ç®—ç¬¦çš„æ¦‚å¿µå’Œä½¿ç”¨"></a>2.7 R è¯­è¨€çš„è¿ç®—ç¬¦çš„æ¦‚å¿µå’Œä½¿ç”¨</h4><ul>
<li><p>è¿ç®—ç¬¦çš„æ¦‚å¿µ</p>
</li>
<li><p>ç®—æ•°è¿ç®—ç¬¦</p>
<ul>
<li><code>+</code>åŠ ã€<code>-</code>å‡ã€<code>*</code>ä¹˜ã€<code>/</code>é™¤</li>
<li><code>%%</code> æ•´é™¤å–ä½™</li>
<li><code>%/%</code> æ•´é™¤</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># ç›¸é™¤</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="number">6</span> <span class="operator">/</span> <span class="number">4</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1.5</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># %% æ•´é™¤å–ä½™</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="number">6</span> <span class="operator">%%</span> <span class="number">4</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># %/% æ•´é™¤</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="number">6</span> <span class="operator">%/%</span> <span class="number">4</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å…³ç³»è¿ç®—ç¬¦</p>
<ul>
<li><code>&lt;</code> å°äºã€<code>&gt;</code> å¤§äºã€<code>=</code> ç­‰äº</li>
<li><code>&lt;=</code>å°äºç­‰äºã€<code>&gt;=</code> å¤§äºç­‰äº</li>
<li><code>!=</code> ä¸ç­‰äº</li>
</ul>
</li>
<li><p>é€»è¾‘è¿ç®—ç¬¦</p>
<ul>
<li><code>&amp;</code></li>
<li><code>|</code></li>
<li><code>&amp;&amp;</code></li>
<li><code>||</code></li>
</ul>
<p><strong><code>&amp;&amp;</code>å’Œ<code>||</code>ä¸ºå€¼é€»è¾‘ï¼Œ<code>&amp;</code>å’Œ<code>|</code>ä¸ºä½é€»è¾‘</strong><br>è¯´äººè¯å°±æ˜¯ï¼Œ<code>&amp;&amp;</code> å’Œ <code>||</code>æ˜¯è®²ä¸¤ä¸ªæ“ä½œç›®çš„å€¼åšé€»è¾‘è¿ç®—ï¼Œæ— è®ºæ“ä½œå¯¹è±¡æ˜¯å‘é‡è¿˜æ˜¯æ ‡é‡ï¼Œè¿”å›å€¼éƒ½æ˜¯ä¸€ä¸ªé€»è¾‘å€¼ï¼Œï¼ˆNOWï¼‰<code>&amp;&amp;</code> å’Œ <code>||</code> è¿ç®—ç¬¦åªæ¥å—é•¿åº¦ä¸º 1 çš„é€»è¾‘å€¼ä½œä¸ºå‚æ•°ï¼›è€Œ <code>&amp;</code> å’Œ <code>|</code> æ˜¯è®²ä¸¤ä¸ªå¯¹è±¡æŒ‰ä½æ¯”è¾ƒï¼Œå…¶è¿”å›å€¼çš„é•¿åº¦ä¸å¯¹è±¡æ˜¯æ ‡é‡è¿˜æ˜¯å‘é‡æœ‰å…³ã€‚</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># é€»è¾‘è¿ç®—ç¬¦</span></span><br><span class="line"><span class="operator">&gt;</span> v <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">,</span>  <span class="number">2</span><span class="operator">+</span><span class="number">3i</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> t <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">4</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="literal">FALSE</span><span class="punctuation">,</span> <span class="number">2</span><span class="operator">+</span><span class="number">3i</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>v<span class="operator">&amp;</span>t<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span>  <span class="literal">TRUE</span>  <span class="literal">TRUE</span> <span class="literal">FALSE</span>  <span class="literal">TRUE</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> v <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">,</span> <span class="number">2</span><span class="operator">+</span><span class="number">2i</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> t <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">,</span> <span class="number">2</span><span class="operator">+</span><span class="number">3i</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>v <span class="operator">&amp;&amp;</span> t<span class="punctuation">)</span></span><br><span class="line">Error <span class="keyword">in</span> v <span class="operator">&amp;&amp;</span> t <span class="operator">:</span> <span class="string">&#x27;length = 4&#x27;</span> <span class="keyword">in</span> coercion to <span class="string">&#x27;logical(1)&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="literal">TRUE</span> <span class="operator">&amp;&amp;</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="literal">TRUE</span> <span class="operator">&amp;&amp;</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="literal">FALSE</span> <span class="operator">&amp;&amp;</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="literal">FALSE</span> <span class="operator">&amp;&amp;</span> <span class="literal">FALSE</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>èµ‹å€¼è¿ç®—ç¬¦</p>
<ul>
<li><code>&lt;-</code></li>
<li><code>=</code></li>
<li><code>-&gt;</code></li>
<li><code>&lt;&lt;-</code></li>
<li><code>-&gt;&gt;</code></li>
</ul>
<p><code>&lt;âˆ’</code> æˆ– <code>=</code> æˆ– <code>&lt;&lt;âˆ’</code> è¿ç®—ç¬¦ï¼š ç§°ä¸ºå·¦èµ‹å€¼ã€‚</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># èµ‹å€¼è¿ç®—ç¬¦</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># å·¦èµ‹å€¼</span></span><br><span class="line"><span class="operator">&gt;</span> v1 <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">,</span><span class="literal">TRUE</span><span class="punctuation">,</span><span class="number">2</span><span class="operator">+</span><span class="number">3i</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> v2 <span class="operator">&lt;&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">,</span><span class="literal">TRUE</span><span class="punctuation">,</span><span class="number">2</span><span class="operator">+</span><span class="number">3i</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> v3 <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">,</span><span class="literal">TRUE</span><span class="punctuation">,</span><span class="number">2</span><span class="operator">+</span><span class="number">3i</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>v1<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">3</span><span class="operator">+</span><span class="number">0i</span> <span class="number">1</span><span class="operator">+</span><span class="number">0i</span> <span class="number">1</span><span class="operator">+</span><span class="number">0i</span> <span class="number">2</span><span class="operator">+</span><span class="number">3i</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>v2<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">3</span><span class="operator">+</span><span class="number">0i</span> <span class="number">1</span><span class="operator">+</span><span class="number">0i</span> <span class="number">1</span><span class="operator">+</span><span class="number">0i</span> <span class="number">2</span><span class="operator">+</span><span class="number">3i</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>v3<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">3</span><span class="operator">+</span><span class="number">0i</span> <span class="number">1</span><span class="operator">+</span><span class="number">0i</span> <span class="number">1</span><span class="operator">+</span><span class="number">0i</span> <span class="number">2</span><span class="operator">+</span><span class="number">3i</span></span><br></pre></td></tr></table></figure>

<p><code>-&gt;</code> æˆ– <code>-&gt;&gt;</code> è¿ç®—ç¬¦ï¼šç§°ä¸ºå³èµ‹å€¼ã€‚</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># å³èµ‹å€¼</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">,</span><span class="literal">TRUE</span><span class="punctuation">,</span><span class="number">2</span><span class="operator">+</span><span class="number">3i</span><span class="punctuation">)</span> <span class="operator">-&gt;</span> v1</span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">,</span><span class="literal">TRUE</span><span class="punctuation">,</span><span class="number">2</span><span class="operator">+</span><span class="number">3i</span><span class="punctuation">)</span> <span class="operator">-&gt;&gt;</span> v2 </span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>v1<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">3</span><span class="operator">+</span><span class="number">0i</span> <span class="number">1</span><span class="operator">+</span><span class="number">0i</span> <span class="number">1</span><span class="operator">+</span><span class="number">0i</span> <span class="number">2</span><span class="operator">+</span><span class="number">3i</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>v2<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">3</span><span class="operator">+</span><span class="number">0i</span> <span class="number">1</span><span class="operator">+</span><span class="number">0i</span> <span class="number">1</span><span class="operator">+</span><span class="number">0i</span> <span class="number">2</span><span class="operator">+</span><span class="number">3i</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¶ä»–è¿ç®—ç¬¦</p>
<ul>
<li><code>:</code> ä¸ºå‘é‡åˆ›å»ºæ•°å­—åºåˆ—ã€‚</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> v <span class="operator">&lt;-</span> 2<span class="operator">:</span><span class="number">8</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>v<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>%in%</code> ç”¨äºç¡®å®šå…ƒç´ æ˜¯å¦å±äºå‘é‡ã€‚</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> v1 <span class="operator">&lt;-</span> 8</span><br><span class="line"><span class="operator">&gt;</span> v2 <span class="operator">&lt;-</span> 12</span><br><span class="line"><span class="operator">&gt;</span> t <span class="operator">&lt;-</span> 1<span class="operator">:</span><span class="number">10</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>v1 <span class="operator">%in%</span> t<span class="punctuation">)</span>	<span class="comment">#  8 æ˜¯å¦å† 1~10 ä¸­</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>v2 <span class="operator">%in%</span> t<span class="punctuation">)</span>	<span class="comment"># 12 æ˜¯å¦å† 1~10 ä¸­</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>%*%</code> ç”¨äºæ±‚ä¸¤ä¸ªå‘é‡çš„å†…ç§¯ï¼Œä¹Ÿç§°ä¸ºç‚¹ä¹˜</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> M <span class="operator">=</span> matrix<span class="punctuation">(</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span><span class="number">6</span><span class="punctuation">,</span><span class="number">5</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">,</span><span class="number">10</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">)</span><span class="punctuation">,</span> nrow <span class="operator">=</span> <span class="number">2</span><span class="punctuation">,</span> ncol <span class="operator">=</span> <span class="number">3</span><span class="punctuation">,</span> byrow <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># M</span></span><br><span class="line"><span class="number">2</span><span class="punctuation">,</span>  <span class="number">6</span><span class="punctuation">,</span> <span class="number">5</span></span><br><span class="line"><span class="number">1</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># t(M)</span></span><br><span class="line"><span class="number">2</span><span class="punctuation">,</span>  <span class="number">1</span></span><br><span class="line"><span class="number">6</span><span class="punctuation">,</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span><span class="punctuation">,</span>  <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># M %*% t(M)</span></span><br><span class="line"><span class="number">2</span><span class="operator">*</span><span class="number">2</span> <span class="operator">+</span>  <span class="number">6</span><span class="operator">*</span><span class="number">6</span> <span class="operator">+</span> <span class="number">5</span><span class="operator">*</span><span class="number">5</span><span class="punctuation">,</span> <span class="number">1</span><span class="operator">*</span><span class="number">2</span> <span class="operator">+</span> <span class="number">10</span><span class="operator">*</span> <span class="number">6</span> <span class="operator">+</span> <span class="number">4</span><span class="operator">*</span><span class="number">5</span></span><br><span class="line"><span class="number">2</span><span class="operator">*</span><span class="number">1</span> <span class="operator">+</span> <span class="number">10</span><span class="operator">*</span><span class="number">6</span> <span class="operator">+</span> <span class="number">4</span><span class="operator">*</span><span class="number">5</span><span class="punctuation">,</span> <span class="number">1</span><span class="operator">*</span><span class="number">1</span> <span class="operator">+</span> <span class="number">10</span><span class="operator">*</span><span class="number">10</span> <span class="operator">+</span> <span class="number">4</span><span class="operator">*</span><span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> t <span class="operator">=</span> M <span class="operator">%*%</span> t<span class="punctuation">(</span>M<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>t<span class="punctuation">)</span></span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">65</span>   <span class="number">82</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">82</span>  <span class="number">117</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment">#===================================================================#</span></span><br><span class="line"><span class="operator">&gt;</span> M <span class="operator">=</span> matrix<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">6</span><span class="punctuation">,</span> <span class="number">5</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">)</span><span class="punctuation">,</span> nrow <span class="operator">=</span> <span class="number">2</span><span class="punctuation">,</span>ncol <span class="operator">=</span> <span class="number">3</span><span class="punctuation">,</span> byrow <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> N <span class="operator">=</span> matrix<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">,</span> <span class="number">5</span><span class="punctuation">,</span> <span class="number">6</span><span class="punctuation">)</span><span class="punctuation">,</span> nrow <span class="operator">=</span> <span class="number">3</span><span class="punctuation">,</span> ncol <span class="operator">=</span> <span class="number">2</span><span class="punctuation">,</span> byrow <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> t <span class="operator">=</span> M <span class="operator">%*%</span> N</span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>t<span class="punctuation">)</span></span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">45</span>   <span class="number">58</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">51</span>   <span class="number">66</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-8-R-è¯­è¨€çš„å…­å¤§æ•°æ®å¯¹è±¡"><a href="#2-8-R-è¯­è¨€çš„å…­å¤§æ•°æ®å¯¹è±¡" class="headerlink" title="2.8 R è¯­è¨€çš„å…­å¤§æ•°æ®å¯¹è±¡"></a>2.8 R è¯­è¨€çš„å…­å¤§æ•°æ®å¯¹è±¡</h4><p>R è¯­è¨€æœ‰å…­ç§åŸºæœ¬çš„æ•°æ®ç»“æ„ï¼ˆæ•°æ®å¯¹è±¡ï¼‰ï¼šå‘é‡<code>vector</code>ã€åˆ—è¡¨<code>list</code>ã€çŸ©é˜µ<code>matrix</code>ã€æ•°ç»„<code>array</code>ã€æ•°æ®æ¡†<code>data.frame</code> å’Œ å› å­<code>factor</code> ç±»å‹ã€‚</p>
<h5 id="2-8-1-å‘é‡-vector"><a href="#2-8-1-å‘é‡-vector" class="headerlink" title="2.8.1 å‘é‡ vector"></a>2.8.1 å‘é‡ <code>vector</code></h5><ul>
<li><p>æ¦‚å¿µï¼šå‘é‡æ˜¯æœ€åŸºæœ¬çš„ R è¯­è¨€æ•°æ®å¯¹è±¡ï¼Œå‘é‡çš„å…ƒç´ æ”¯æŒå…­ç§åŸå­æ•°æ®ç±»å‹ï¼Œå³é€»è¾‘ï¼Œæ•´æ•°ï¼ŒåŒç²¾åº¦ï¼Œå¤åˆï¼Œå­—ç¬¦å’ŒåŸå‹ã€‚</p>
</li>
<li><p>ç‰¹å¾ï¼šä¸€ä¸ªå‘é‡çš„æ‰€æœ‰å…ƒç´ éƒ½å¿…é¡»å±äº<strong>ç›¸åŒçš„ç±»å‹</strong>ã€‚å¦‚æœä¸æ˜¯ï¼ŒRå°†å¼ºåˆ¶æ‰§è¡Œç±»å‹è½¬æ¢ã€‚</p>
</li>
<li><p>åˆ›å»ºå‘é‡ï¼š<code>c()</code>ã€<code>seq()</code>ã€<code>rep()</code></p>
<ul>
<li><code>c()</code> è¿™é‡Œçš„<code>c</code>å°±æ˜¯ <em>combine</em> æˆ– <em>concatenate</em> çš„æ„æ€ï¼Œå®ƒè¦æ±‚å…ƒç´ ä¹‹é—´ç”¨<strong>è‹±æ–‡çš„é€—å·</strong>åˆ†éš”ï¼Œä¸”å…ƒç´ çš„æ•°æ®ç±»å‹æ˜¯ç»Ÿä¸€çš„ï¼Œæ¯”å¦‚éƒ½æ˜¯æ•°å€¼ã€‚<code>c()</code> å‡½æ•°æŠŠä¸€ç»„æ•°æ®èšåˆåˆ°äº†ä¸€èµ·ï¼Œå°±æ„æˆäº†ä¸€ä¸ª<strong>å‘é‡</strong>ã€‚</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># åˆ›å»ºå‘é‡</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># ä½¿ç”¨ c()</span></span><br><span class="line"><span class="operator">&gt;</span> low      <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> high     <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">4</span><span class="punctuation">,</span> <span class="number">5</span><span class="punctuation">,</span> <span class="number">6</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> sequence <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span>low<span class="punctuation">,</span> high<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> sequence</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># ç»™å˜é‡å‘½å</span></span><br><span class="line"><span class="operator">&gt;</span> x <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&#x27;a&#x27;</span> <span class="operator">=</span> <span class="number">5</span><span class="punctuation">,</span> <span class="string">&#x27;b&#x27;</span> <span class="operator">=</span> <span class="number">6</span><span class="punctuation">,</span> <span class="string">&#x27;c&#x27;</span> <span class="operator">=</span> <span class="number">7</span><span class="punctuation">,</span> <span class="string">&#x27;d&#x27;</span> <span class="operator">=</span> <span class="number">8</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> x</span><br><span class="line">a b <span class="built_in">c</span> d </span><br><span class="line"><span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> </span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> x <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">5</span><span class="punctuation">,</span> <span class="number">6</span><span class="punctuation">,</span> <span class="number">7</span><span class="punctuation">,</span> <span class="number">8</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">names</span><span class="punctuation">(</span>x<span class="punctuation">)</span> <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&#x27;a&#x27;</span><span class="punctuation">,</span> <span class="string">&#x27;b&#x27;</span><span class="punctuation">,</span> <span class="string">&#x27;c&#x27;</span><span class="punctuation">,</span> <span class="string">&#x27;d&#x27;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> x</span><br><span class="line">a b <span class="built_in">c</span> d </span><br><span class="line"><span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> </span><br></pre></td></tr></table></figure>

<p>å¦‚æœå‘é‡å…ƒç´ å¾ˆå¤šï¼Œç”¨æ‰‹å·¥ä¸€ä¸ªä¸ªå»è¾“å…¥ï¼Œé‚£å°±æˆäº†ä½“åŠ›æ´»ï¼Œä¸ç°å®ã€‚<strong>åœ¨ç‰¹å®šæƒ…å†µä¸‹</strong>ï¼Œæœ‰å‡ ç§å·æ‡’æ–¹æ³•:</p>
<ul>
<li><code>seq()</code> å‡½æ•°å¯ä»¥ç”Ÿæˆç­‰å·®æ•°åˆ—ï¼Œ<code>from</code> å‚æ•°æŒ‡å®šæ•°åˆ—çš„èµ·å§‹å€¼ï¼Œ<code>to</code> å‚æ•°æŒ‡å®šæ•°åˆ—çš„ç»ˆæ­¢å€¼ï¼Œ<code>by</code> å‚æ•°æŒ‡å®šæ•°å€¼çš„é—´è·ã€‚</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># ä½¿ç”¨ seq()</span></span><br><span class="line"><span class="operator">&gt;</span> s1 <span class="operator">&lt;-</span> seq<span class="punctuation">(</span>from <span class="operator">=</span> <span class="number">0</span><span class="punctuation">,</span> to <span class="operator">=</span> <span class="number">10</span><span class="punctuation">,</span> by <span class="operator">=</span> <span class="number">0.5</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> s1</span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span>  <span class="number">0.0</span>  <span class="number">0.5</span>  <span class="number">1.0</span>  <span class="number">1.5</span>  <span class="number">2.0</span>  <span class="number">2.5</span>  <span class="number">3.0</span>  <span class="number">3.5</span>  <span class="number">4.0</span>  <span class="number">4.5</span>  <span class="number">5.0</span>  <span class="number">5.5</span>  <span class="number">6.0</span>  <span class="number">6.5</span>  <span class="number">7.0</span>  <span class="number">7.5</span>  <span class="number">8.0</span>  <span class="number">8.5</span>  <span class="number">9.0</span>  <span class="number">9.5</span> <span class="number">10.0</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>rep()</code> æ˜¯ <em>repeat</em>ï¼ˆé‡å¤ï¼‰çš„æ„æ€ï¼Œå¯ä»¥ç”¨äºäº§ç”Ÿé‡å¤å‡ºç°çš„æ•°å­—åºåˆ—ï¼š<code>x</code> ç”¨äºé‡å¤çš„å‘é‡ï¼Œ<code>times</code> å‚æ•°å¯ä»¥æŒ‡å®šè¦ç”Ÿæˆçš„ä¸ªæ•°ï¼Œ<code>each</code> å‚æ•°å¯ä»¥æŒ‡å®šæ¯ä¸ªå…ƒç´ é‡å¤çš„æ¬¡æ•°ã€‚</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> s2 <span class="operator">&lt;-</span> <span class="built_in">rep</span><span class="punctuation">(</span>x <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span> times <span class="operator">=</span> <span class="number">3</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> s2</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> s3 <span class="operator">&lt;-</span> <span class="built_in">rep</span><span class="punctuation">(</span>x <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span> each <span class="operator">=</span> <span class="number">3</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> s3</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> s4 <span class="operator">&lt;-</span> <span class="built_in">rep</span><span class="punctuation">(</span>x <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span> time <span class="operator">=</span> <span class="number">3</span><span class="punctuation">,</span> each <span class="operator">=</span> <span class="number">3</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> s4</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘é‡å…ƒç´ è®¿é—®</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># å®šä¹‰ä¸€ä¸ªå‘é‡</span></span><br><span class="line"><span class="operator">&gt;</span> t <span class="operator">&lt;-</span> seq<span class="punctuation">(</span>from <span class="operator">=</span> <span class="number">10</span><span class="punctuation">,</span> to <span class="operator">=</span> <span class="number">20</span><span class="punctuation">,</span> by <span class="operator">=</span> <span class="number">0.4</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> t</span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">10.0</span> <span class="number">10.4</span> <span class="number">10.8</span> <span class="number">11.2</span> <span class="number">11.6</span> <span class="number">12.0</span> <span class="number">12.4</span> <span class="number">12.8</span> <span class="number">13.2</span> <span class="number">13.6</span> <span class="number">14.0</span> <span class="number">14.4</span> <span class="number">14.8</span> <span class="number">15.2</span> <span class="number">15.6</span> <span class="number">16.0</span> <span class="number">16.4</span> <span class="number">16.8</span> <span class="number">17.2</span> <span class="number">17.6</span> <span class="number">18.0</span> <span class="number">18.4</span> <span class="number">18.8</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">24</span><span class="punctuation">]</span> <span class="number">19.2</span> <span class="number">19.6</span> <span class="number">20.0</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>t[index]</code>ï¼šä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œè®¿é—®ï¼Œ<code>index</code> é»˜è®¤ä» 1 å¼€å§‹ã€‚</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ–¹å¼ 1</span></span><br><span class="line"><span class="operator">&gt;</span> t<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">10</span></span><br><span class="line"><span class="operator">&gt;</span> t<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">10.4</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>t[Logic Index]</code>ï¼š <code>TRUE</code> è¡¨ç¤ºè¯»å–ï¼Œ<code>FALSE</code> ä¸ºä¸è¯»å–ã€‚</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ–¹å¼ 2</span></span><br><span class="line"><span class="operator">&gt;</span> t<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="literal">TRUE</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">,</span> <span class="literal">FALSE</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">10.0</span> <span class="number">10.4</span> <span class="number">11.2</span> <span class="number">11.6</span> <span class="number">12.0</span> <span class="number">12.8</span> <span class="number">13.2</span> <span class="number">13.6</span> <span class="number">14.4</span> <span class="number">14.8</span> <span class="number">15.2</span> <span class="number">16.0</span> <span class="number">16.4</span> <span class="number">16.8</span> <span class="number">17.6</span> <span class="number">18.0</span> <span class="number">18.4</span> <span class="number">19.2</span> <span class="number">19.6</span> <span class="number">20.0</span></span><br><span class="line"><span class="operator">&gt;</span> t<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">10.0</span> <span class="number">10.4</span> <span class="number">10.8</span> <span class="number">10.0</span></span><br><span class="line"><span class="operator">&gt;</span> t<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">6</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">12</span> <span class="number">10</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>t[name]</code>ï¼šé€šè¿‡ <code>name</code> è¿›è¡Œè®¿é—®ã€‚</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ–¹å¼ 3</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">names</span><span class="punctuation">(</span>t<span class="punctuation">)</span> <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;v1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;v2&quot;</span><span class="punctuation">,</span> <span class="string">&quot;v3&quot;</span><span class="punctuation">,</span> <span class="string">&quot;v4&quot;</span><span class="punctuation">,</span> <span class="string">&quot;v5&quot;</span><span class="punctuation">,</span> <span class="string">&quot;v6&quot;</span><span class="punctuation">,</span> <span class="string">&quot;v7&quot;</span><span class="punctuation">,</span> <span class="string">&quot;v8&quot;</span><span class="punctuation">,</span> <span class="string">&quot;v9&quot;</span><span class="punctuation">,</span> <span class="string">&quot;v10&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> t</span><br><span class="line">  v1   v2   v3   v4   v5   v6   v7   v8   v9  v10 <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> </span><br><span class="line"><span class="number">10.0</span> <span class="number">10.4</span> <span class="number">10.8</span> <span class="number">11.2</span> <span class="number">11.6</span> <span class="number">12.0</span> <span class="number">12.4</span> <span class="number">12.8</span> <span class="number">13.2</span> <span class="number">13.6</span> <span class="number">14.0</span> <span class="number">14.4</span> <span class="number">14.8</span> <span class="number">15.2</span> <span class="number">15.6</span> <span class="number">16.0</span> <span class="number">16.4</span> <span class="number">16.8</span> <span class="number">17.2</span> <span class="number">17.6</span> <span class="number">18.0</span> <span class="number">18.4</span> <span class="number">18.8</span> </span><br><span class="line"><span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> </span><br><span class="line"><span class="number">19.2</span> <span class="number">19.6</span> <span class="number">20.0</span> </span><br><span class="line"><span class="operator">&gt;</span> t<span class="punctuation">[</span><span class="string">&quot;v1&quot;</span><span class="punctuation">]</span></span><br><span class="line">v1 </span><br><span class="line"><span class="number">10</span> </span><br></pre></td></tr></table></figure>

<ul>
<li><code>t[-index]</code>ï¼šç´¢å¼•ä¸ºè´Ÿæ•°ï¼Œåˆ™ä¼šåˆ é™¤è¯¥ä½ç½®çš„å…ƒç´ ã€‚</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ–¹å¼ 4</span></span><br><span class="line"><span class="operator">&gt;</span> t</span><br><span class="line">  v1   v2   v3   v4   v5   v6   v7   v8   v9  v10 <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> </span><br><span class="line"><span class="number">10.0</span> <span class="number">10.4</span> <span class="number">10.8</span> <span class="number">11.2</span> <span class="number">11.6</span> <span class="number">12.0</span> <span class="number">12.4</span> <span class="number">12.8</span> <span class="number">13.2</span> <span class="number">13.6</span> <span class="number">14.0</span> <span class="number">14.4</span> <span class="number">14.8</span> <span class="number">15.2</span> <span class="number">15.6</span> <span class="number">16.0</span> <span class="number">16.4</span> <span class="number">16.8</span> <span class="number">17.2</span> <span class="number">17.6</span> <span class="number">18.0</span> <span class="number">18.4</span> <span class="number">18.8</span> </span><br><span class="line"><span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> </span><br><span class="line"><span class="number">19.2</span> <span class="number">19.6</span> <span class="number">20.0</span> </span><br><span class="line"><span class="operator">&gt;</span> t<span class="punctuation">[</span><span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span></span><br><span class="line">  v2   v3   v4   v5   v6   v7   v8   v9  v10 <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> </span><br><span class="line"><span class="number">10.4</span> <span class="number">10.8</span> <span class="number">11.2</span> <span class="number">11.6</span> <span class="number">12.0</span> <span class="number">12.4</span> <span class="number">12.8</span> <span class="number">13.2</span> <span class="number">13.6</span> <span class="number">14.0</span> <span class="number">14.4</span> <span class="number">14.8</span> <span class="number">15.2</span> <span class="number">15.6</span> <span class="number">16.0</span> <span class="number">16.4</span> <span class="number">16.8</span> <span class="number">17.2</span> <span class="number">17.6</span> <span class="number">18.0</span> <span class="number">18.4</span> <span class="number">18.8</span> <span class="number">19.2</span> </span><br><span class="line"><span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> </span><br><span class="line"><span class="number">19.6</span> <span class="number">20.0</span> </span><br><span class="line"><span class="operator">&gt;</span> t<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="operator">-</span><span class="number">2</span><span class="operator">:</span> <span class="operator">-</span><span class="number">4</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line">  v1   v5   v6   v7   v8   v9  v10 <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span> </span><br><span class="line"><span class="number">10.0</span> <span class="number">11.6</span> <span class="number">12.0</span> <span class="number">12.4</span> <span class="number">12.8</span> <span class="number">13.2</span> <span class="number">13.6</span> <span class="number">14.0</span> <span class="number">14.4</span> <span class="number">14.8</span> <span class="number">15.2</span> <span class="number">15.6</span> <span class="number">16.0</span> <span class="number">16.4</span> <span class="number">16.8</span> <span class="number">17.2</span> <span class="number">17.6</span> <span class="number">18.0</span> <span class="number">18.4</span> <span class="number">18.8</span> <span class="number">19.2</span> <span class="number">19.6</span> <span class="number">20.0</span> </span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘é‡å…ƒç´ è¿ç®—</p>
<ul>
<li>é•¿åº¦ç›¸åŒçš„å‘é‡</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># é•¿åº¦ä¸åŒçš„å‘é‡</span></span><br><span class="line"><span class="operator">&gt;</span> v3 <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">10</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> v4 <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">10</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> add.result <span class="operator">=</span> v1 <span class="operator">+</span> v3</span><br><span class="line"><span class="operator">&gt;</span> add.result <span class="operator">=</span> v1 <span class="operator">+</span> v4</span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># å‘é‡çš„è¿ç®—</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># é•¿åº¦ç›¸åŒçš„å‘é‡</span></span><br><span class="line"><span class="operator">&gt;</span> v1 <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">,</span>  <span class="number">5</span><span class="punctuation">,</span>  <span class="number">6</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> v2 <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">6</span><span class="punctuation">,</span> <span class="number">7</span><span class="punctuation">,</span> <span class="number">8</span><span class="punctuation">,</span> <span class="number">9</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">11</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> add.result <span class="operator">=</span> v1 <span class="operator">+</span> v2</span><br><span class="line"><span class="operator">&gt;</span> sub.result <span class="operator">=</span> v1 <span class="operator">-</span> v2</span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> add.result</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span>  <span class="number">7</span>  <span class="number">9</span> <span class="number">11</span> <span class="number">13</span> <span class="number">15</span> <span class="number">17</span></span><br><span class="line"><span class="operator">&gt;</span> sub.result</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="operator">-</span><span class="number">5</span> <span class="operator">-</span><span class="number">5</span> <span class="operator">-</span><span class="number">5</span> <span class="operator">-</span><span class="number">5</span> <span class="operator">-</span><span class="number">5</span> <span class="operator">-</span><span class="number">5</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>é•¿åº¦ä¸åŒçš„å‘é‡</p>
<p>å¦‚æœé•¿åº¦ä¸åŒï¼Œè¾ƒçŸ­çš„å‘é‡ä¼šå¾ªç¯è¡¥å……åˆ°ä¸è¾ƒé•¿çš„å‘é‡é•¿åº¦ç›¸åŒï¼Œåœ¨è¿›è¡Œè¿ç®—ã€‚ä½†æ˜¯å‰ææ˜¯ï¼šé•¿çš„å‘é‡çš„é•¿åº¦å¿…é¡»ä¸ºçŸ­çš„å‘é‡çš„æ•´æ•°å€ã€‚</p>
</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># é•¿åº¦ä¸åŒçš„å‘é‡</span></span><br><span class="line"><span class="operator">&gt;</span> v3 <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">10</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> v4 <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">10</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> add.result <span class="operator">=</span> v1 <span class="operator">+</span> v3</span><br><span class="line"><span class="operator">&gt;</span> add.result</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">11</span> <span class="number">22</span> <span class="number">13</span> <span class="number">24</span> <span class="number">15</span> <span class="number">26</span></span><br><span class="line"><span class="operator">&gt;</span> add.result <span class="operator">=</span> v1 <span class="operator">+</span> v4</span><br><span class="line"><span class="operator">&gt;</span> add.result</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">11</span> <span class="number">22</span> <span class="number">13</span> <span class="number">24</span> <span class="number">15</span> <span class="number">26</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="2-8-2-åˆ—è¡¨-list"><a href="#2-8-2-åˆ—è¡¨-list" class="headerlink" title="2.8.2 åˆ—è¡¨ list"></a>2.8.2 åˆ—è¡¨ <code>list</code></h5><ul>
<li>æ¦‚å¿µï¼šåˆ—è¡¨æ˜¯ R è¯­è¨€çš„å¯¹è±¡é›†åˆï¼Œå¯ä»¥ç”¨æ¥ä¿å­˜<strong>ä¸åŒç±»å‹</strong>çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²ã€å‘é‡ã€å¦ä¸€ä¸ªåˆ—è¡¨ç­‰ï¼Œå½“ç„¶è¿˜å¯ä»¥åŒ…å«çŸ©é˜µå’Œå‡½æ•°ã€‚Rè¯­è¨€åˆ›å»ºåˆ—è¡¨ä½¿ç”¨ <code>list()</code> å‡½æ•°ã€‚</li>
<li>åˆ—è¡¨çš„åˆ›å»º</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># åˆ—è¡¨çš„åˆ›å»º</span></span><br><span class="line"><span class="operator">&gt;</span> list_data <span class="operator">=</span> <span class="built_in">list</span><span class="punctuation">(</span><span class="string">&quot;Hello&quot;</span><span class="punctuation">,</span> <span class="string">&quot;World&quot;</span><span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">,</span> <span class="number">51.23</span><span class="punctuation">,</span> <span class="number">119L</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> list_data</span><br><span class="line"><span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span>  <span class="number">1</span> <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">4</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">5</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">51.23</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">6</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">119</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ—è¡¨å…ƒç´ çš„é‡å‘½å(<code>names</code> å‡½æ•°)</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># åˆ—è¡¨çš„é‡å‘½å</span></span><br><span class="line"><span class="operator">&gt;</span> list_data <span class="operator">&lt;-</span> <span class="built_in">list</span><span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Hello&quot;</span><span class="punctuation">,</span> <span class="string">&quot;World&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> matrix<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">,</span> <span class="number">5</span><span class="punctuation">,</span> <span class="number">6</span><span class="punctuation">)</span><span class="punctuation">,</span> nrow<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="built_in">list</span><span class="punctuation">(</span><span class="string">&quot;Happy&quot;</span><span class="punctuation">,</span> <span class="number">1314L</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> list_data</span><br><span class="line"><span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello&quot;</span> <span class="string">&quot;World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">1</span>    <span class="number">3</span>    <span class="number">5</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">2</span>    <span class="number">4</span>    <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Happy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1314</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">names</span><span class="punctuation">(</span>list_data<span class="punctuation">)</span> <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;HelloString&quot;</span><span class="punctuation">,</span> <span class="string">&quot;MatrixElem&quot;</span><span class="punctuation">,</span> <span class="string">&quot;ListElem&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> list_data</span><br><span class="line"><span class="operator">$</span>HelloString</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello&quot;</span> <span class="string">&quot;World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>MatrixElem</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">1</span>    <span class="number">3</span>    <span class="number">5</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">2</span>    <span class="number">4</span>    <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem</span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Happy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1314</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ—è¡¨å…ƒç´ çš„è®¿é—®â€”â€”å¢åˆ æ”¹æŸ¥</p>
<ul>
<li>æŸ¥</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># (æŸ¥)</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ ¹æ®ç´¢å¼•è®¿é—®</span></span><br><span class="line"><span class="operator">&gt;</span> list_data<span class="punctuation">[</span><span class="number">0</span><span class="punctuation">]</span></span><br><span class="line">named <span class="built_in">list</span><span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> list_data<span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">$</span>ListElem</span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Happy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1314</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ ¹æ®å…ƒç´ åç§°è®¿é—®</span></span><br><span class="line"><span class="operator">&gt;</span> list_data<span class="operator">$</span>HelloString</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello&quot;</span> <span class="string">&quot;World&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> list_data<span class="operator">$</span>ListElem</span><br><span class="line"><span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Happy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1314</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> list_data<span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span><span class="operator">&lt;-</span><span class="string">&quot;Hello&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> list_data</span><br><span class="line"><span class="operator">$</span>HelloString</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello&quot;</span> <span class="string">&quot;World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>MatrixElem</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">1</span>    <span class="number">3</span>    <span class="number">5</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">2</span>    <span class="number">4</span>    <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem</span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Happy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1314</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">4</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¢</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># (å¢)</span></span><br><span class="line"><span class="operator">&gt;</span> list_data<span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span><span class="operator">&lt;-</span><span class="string">&quot;Hello&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> list_data</span><br><span class="line"><span class="operator">$</span>HelloString</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello&quot;</span> <span class="string">&quot;World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>MatrixElem</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">1</span>    <span class="number">3</span>    <span class="number">5</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">2</span>    <span class="number">4</span>    <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem</span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Happy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1314</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">4</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ”¹</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># (æ”¹)</span></span><br><span class="line"><span class="operator">&gt;</span> list_data<span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="number">12</span></span><br><span class="line"><span class="operator">&gt;</span> list_data</span><br><span class="line"><span class="operator">$</span>HelloString</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello&quot;</span> <span class="string">&quot;World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>MatrixElem</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">1</span>    <span class="number">3</span>    <span class="number">5</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">2</span>    <span class="number">4</span>    <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem</span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Happy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1314</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">4</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">12</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ </li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># (åˆ )</span></span><br><span class="line"><span class="operator">&gt;</span> list_data<span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="literal">NULL</span></span><br><span class="line"><span class="operator">&gt;</span> list_data</span><br><span class="line"><span class="operator">$</span>HelloString</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Hello&quot;</span> <span class="string">&quot;World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>MatrixElem</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">1</span>    <span class="number">3</span>    <span class="number">5</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">2</span>    <span class="number">4</span>    <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem</span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;Happy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">$</span>ListElem<span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1314</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ—è¡¨çš„åˆå¹¶ï¼šä½¿ç”¨ <code>c</code> å¯ä»¥å°†å¤šä¸ªåˆ—è¡¨åˆå¹¶ä¸ºä¸€ä¸ªåˆ—è¡¨</p>
</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># åˆå¹¶åˆ—è¡¨</span></span><br><span class="line"><span class="operator">&gt;</span> list1 <span class="operator">&lt;-</span> <span class="built_in">list</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> list2 <span class="operator">&lt;-</span> <span class="built_in">list</span><span class="punctuation">(</span><span class="string">&quot;A&quot;</span><span class="punctuation">,</span> <span class="string">&quot;B&quot;</span><span class="punctuation">,</span> <span class="string">&quot;C&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>list1<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;list&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>list2<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;list&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> merged.list <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span>list1<span class="punctuation">,</span> list2<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> merged.list</span><br><span class="line"><span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">4</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;A&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">5</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;B&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">6</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;C&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>merged.list<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;list&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ—è¡¨å’Œå‘é‡ä¹‹é—´çš„è½¬æ¢</li>
</ul>
  <figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># åˆ—è¡¨è½¬æ¢ä¸ºå‘é‡</span></span><br><span class="line"><span class="operator">&gt;</span> list1 <span class="operator">&lt;-</span> <span class="built_in">list</span><span class="punctuation">(</span><span class="number">1</span> <span class="operator">:</span>  <span class="number">5</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> list2 <span class="operator">&lt;-</span> <span class="built_in">list</span><span class="punctuation">(</span><span class="number">10</span><span class="operator">:</span> <span class="number">14</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> list3 <span class="operator">&lt;-</span> <span class="built_in">list</span><span class="punctuation">(</span><span class="string">&quot;hello&quot;</span><span class="punctuation">,</span> matrix<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">)</span><span class="punctuation">,</span> nrow<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> list1</span><br><span class="line"><span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> list2</span><br><span class="line"><span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> list3</span><br><span class="line"><span class="punctuation">[[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">1</span>    <span class="number">3</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">2</span>    <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> v1 <span class="operator">&lt;-</span> unlist<span class="punctuation">(</span>list1<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> v2 <span class="operator">&lt;-</span> unlist<span class="punctuation">(</span>list2<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> v3 <span class="operator">&lt;-</span> unlist<span class="punctuation">(</span>list3<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>v1<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;integer&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>v2<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;integer&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>v3<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;character&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> v3</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;hello&quot;</span> <span class="string">&quot;1&quot;</span>     <span class="string">&quot;2&quot;</span>     <span class="string">&quot;3&quot;</span>     <span class="string">&quot;4&quot;</span>     <span class="string">&quot;3&quot;</span>    </span><br></pre></td></tr></table></figure>

<h5 id="2-8-3-çŸ©é˜µ-matrix"><a href="#2-8-3-çŸ©é˜µ-matrix" class="headerlink" title="2.8.3 çŸ©é˜µ matrix"></a>2.8.3 çŸ©é˜µ <code>matrix</code></h5><ul>
<li>æ¦‚å¿µï¼š<code>R</code> è¯­è¨€ä¸ºçº¿æ€§ä»£æ•°çš„ç ”ç©¶æä¾›äº†çŸ©é˜µç±»å‹ï¼Œè¿™ç§æ•°æ®ç»“æ„å¾ˆç±»ä¼¼äºå…¶å®ƒè¯­è¨€ä¸­çš„äºŒç»´æ•°ç»„ã€‚</li>
<li>çŸ©é˜µçš„åˆ›å»º</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># çŸ©é˜µçš„åˆ›å»º</span></span><br><span class="line"><span class="operator">&gt;</span> m1 <span class="operator">=</span> matrix<span class="punctuation">(</span>data<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span> <span class="number">14</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> m1</span><br><span class="line">      <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">3</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">4</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">5</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">6</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">5</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">7</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">6</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">8</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">7</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">9</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">8</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">10</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">9</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">11</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">10</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">12</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">11</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">13</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">12</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> m2 <span class="operator">=</span> matrix<span class="punctuation">(</span>data<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span> <span class="number">14</span><span class="punctuation">)</span><span class="punctuation">,</span> nrow<span class="operator">=</span><span class="number">4</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> m2</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">3</span>    <span class="number">7</span>   <span class="number">11</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">4</span>    <span class="number">8</span>   <span class="number">12</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">5</span>    <span class="number">9</span>   <span class="number">13</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">6</span>   <span class="number">10</span>   <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> m2 <span class="operator">=</span> matrix<span class="punctuation">(</span>data<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span> <span class="number">14</span><span class="punctuation">)</span><span class="punctuation">,</span> ncol<span class="operator">=</span><span class="number">4</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> m2</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">3</span>    <span class="number">6</span>    <span class="number">9</span>   <span class="number">12</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">4</span>    <span class="number">7</span>   <span class="number">10</span>   <span class="number">13</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">5</span>    <span class="number">8</span>   <span class="number">11</span>   <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> m3 <span class="operator">&lt;-</span> matrix<span class="punctuation">(</span>data<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span> <span class="number">14</span><span class="punctuation">)</span><span class="punctuation">,</span> nrow<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span> byrow<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">)</span>		<span class="comment"># é»˜è®¤ä¸º TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> m3</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">3</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">14</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">3</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">14</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> rownames <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;row1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;row2&quot;</span><span class="punctuation">,</span> <span class="string">&quot;row3&quot;</span><span class="punctuation">,</span> <span class="string">&quot;row4&quot;</span><span class="punctuation">)</span> </span><br><span class="line"><span class="operator">&gt;</span> colnames <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;col1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;col2&quot;</span><span class="punctuation">,</span> <span class="string">&quot;col3&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> m4 <span class="operator">&lt;-</span> matrix<span class="punctuation">(</span>data<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span> <span class="number">14</span><span class="punctuation">)</span><span class="punctuation">,</span> nrow<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span> byrow<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">,</span> <span class="built_in">dimnames</span><span class="operator">=</span><span class="built_in">list</span><span class="punctuation">(</span>rownames<span class="punctuation">,</span> colnames<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> m4</span><br><span class="line">     col1 col2 col3</span><br><span class="line">row1    <span class="number">3</span>    <span class="number">4</span>    <span class="number">5</span></span><br><span class="line">row2    <span class="number">6</span>    <span class="number">7</span>    <span class="number">8</span></span><br><span class="line">row3    <span class="number">9</span>   <span class="number">10</span>   <span class="number">11</span></span><br><span class="line">row4   <span class="number">12</span>   <span class="number">13</span>   <span class="number">14</span></span><br></pre></td></tr></table></figure>

<ul>
<li>çŸ©é˜µè½¬ç½®</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># çŸ©é˜µè½¬ç½® t()</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># R è¯­è¨€çŸ©é˜µæä¾›äº† t() å‡½æ•°, å¯ä»¥å®ç°çŸ©é˜µçš„è¡Œåˆ—è½¬æ¢</span></span><br><span class="line"><span class="operator">&gt;</span> t<span class="punctuation">(</span>m4<span class="punctuation">)</span></span><br><span class="line">     row1 row2 row3 row4</span><br><span class="line">col1    <span class="number">3</span>    <span class="number">6</span>    <span class="number">9</span>   <span class="number">12</span></span><br><span class="line">col2    <span class="number">4</span>    <span class="number">7</span>   <span class="number">10</span>   <span class="number">13</span></span><br><span class="line">col3    <span class="number">5</span>    <span class="number">8</span>   <span class="number">11</span>   <span class="number">14</span></span><br></pre></td></tr></table></figure>

<ul>
<li>çŸ©é˜µå…ƒç´ è®¿é—®</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> m4<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;row1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;row4&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;col1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;col3&quot;</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line">     col1 col3</span><br><span class="line">row1    <span class="number">3</span>    <span class="number">5</span></span><br><span class="line">row4   <span class="number">12</span>   <span class="number">14</span></span><br></pre></td></tr></table></figure>

<ul>
<li>çŸ©é˜µç›¸å…³æ“ä½œ</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># çŸ©é˜µå…ƒç´ æ“ä½œ</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># çŸ©é˜µè®¡ç®—</span></span><br><span class="line"><span class="operator">&gt;</span> m1 <span class="operator">&lt;-</span> matrix<span class="punctuation">(</span>data<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="operator">:</span> <span class="number">14</span><span class="punctuation">)</span><span class="punctuation">,</span> nrow<span class="operator">=</span><span class="number">4</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> m1</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">3</span>    <span class="number">7</span>   <span class="number">11</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">4</span>    <span class="number">8</span>   <span class="number">12</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">5</span>    <span class="number">9</span>   <span class="number">13</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">6</span>   <span class="number">10</span>   <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> m2 <span class="operator">&lt;-</span> matrix<span class="punctuation">(</span>data<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span> <span class="number">12</span><span class="punctuation">)</span><span class="punctuation">,</span> nrow<span class="operator">=</span><span class="number">4</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> m2</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">1</span>    <span class="number">5</span>    <span class="number">9</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">2</span>    <span class="number">6</span>   <span class="number">10</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">3</span>    <span class="number">7</span>   <span class="number">11</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">4</span>    <span class="number">8</span>   <span class="number">12</span></span><br><span class="line"><span class="operator">&gt;</span> m1 <span class="operator">+</span> m2</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">4</span>   <span class="number">12</span>   <span class="number">20</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">6</span>   <span class="number">14</span>   <span class="number">22</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">8</span>   <span class="number">16</span>   <span class="number">24</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">10</span>   <span class="number">18</span>   <span class="number">26</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># çŸ©é˜µè½¬æ¢ </span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># çŸ©é˜µ -&gt; å‘é‡</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.matrix</span><span class="punctuation">(</span>m1<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>m1<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;matrix&quot;</span> <span class="string">&quot;array&quot;</span> </span><br><span class="line"><span class="operator">&gt;</span> v1 <span class="operator">&lt;-</span> as.vector<span class="punctuation">(</span>m1<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> v1</span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">class</span><span class="punctuation">(</span>v1<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;integer&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># çŸ©é˜µç»„åˆ</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># cbind() æŠŠå…¶è‡ªå˜é‡æ¨ªå‘æ‹¼æˆä¸€ä¸ªå¤§çŸ©é˜µ, æ¨ªå‘ç»„åˆ, è¡Œæ•°ä¸€è‡´</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># rbind() æŠŠå…¶è‡ªå˜é‡çºµå‘æ‹¼æˆä¸€ä¸ªå¤§çŸ©é˜µ, çºµå‘ç»„åˆ, åˆ—æ•°ä¸€è‡´</span></span><br><span class="line"><span class="operator">&gt;</span> v1 <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">,</span> <span class="number">5</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> v2 <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">6</span><span class="punctuation">,</span> <span class="number">7</span><span class="punctuation">,</span> <span class="number">8</span><span class="punctuation">,</span> <span class="number">9</span><span class="punctuation">,</span><span class="number">10</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> y1 <span class="operator">=</span> cbind<span class="punctuation">(</span>v1<span class="punctuation">,</span> v2<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> y2 <span class="operator">=</span> rbind<span class="punctuation">(</span>v1<span class="punctuation">,</span> v2<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> y1</span><br><span class="line">     v1 v2</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>  <span class="number">1</span>  <span class="number">6</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>  <span class="number">2</span>  <span class="number">7</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span>  <span class="number">3</span>  <span class="number">8</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span>  <span class="number">4</span>  <span class="number">9</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">5</span><span class="punctuation">,</span><span class="punctuation">]</span>  <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="operator">&gt;</span> y2</span><br><span class="line">   <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">5</span><span class="punctuation">]</span></span><br><span class="line">v1    <span class="number">1</span>    <span class="number">2</span>    <span class="number">3</span>    <span class="number">4</span>    <span class="number">5</span></span><br><span class="line">v2    <span class="number">6</span>    <span class="number">7</span>    <span class="number">8</span>    <span class="number">9</span>   <span class="number">10</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br></pre></td></tr></table></figure>

<h5 id="2-8-4-æ•°ç»„-array"><a href="#2-8-4-æ•°ç»„-array" class="headerlink" title="2.8.4 æ•°ç»„ array"></a>2.8.4 æ•°ç»„ <code>array</code></h5><ul>
<li>æ¦‚å¿µï¼šæ•°ç»„ä¹Ÿæ˜¯ <code>R</code> è¯­è¨€çš„å¯¹è±¡ï¼Œ<code>R</code> è¯­è¨€å¯ä»¥åˆ›å»ºä¸€ç»´æˆ–å¤šç»´æ•°ç»„ã€‚</li>
<li>æ•°ç»„çš„åˆ›å»º</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># åˆ›å»ºæ•°ç»„</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># ä¸€ç»´æ•°ç»„</span></span><br><span class="line"><span class="operator">&gt;</span> v1 <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">5</span><span class="punctuation">,</span> <span class="number">9</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> a1 <span class="operator">&lt;-</span> array<span class="punctuation">(</span>v1<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> a1</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">5</span> <span class="number">9</span> <span class="number">1</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.array</span><span class="punctuation">(</span>a1<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> a <span class="operator">&lt;-</span> array<span class="punctuation">(</span><span class="number">10</span><span class="operator">:</span> <span class="number">15</span><span class="punctuation">,</span> <span class="built_in">dim</span><span class="operator">=</span><span class="number">9</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> a</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span></span><br><span class="line"><span class="operator">&gt;</span> a <span class="operator">&lt;-</span> array<span class="punctuation">(</span><span class="number">10</span><span class="operator">:</span> <span class="number">15</span><span class="punctuation">,</span> <span class="built_in">dim</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> a</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">10</span> <span class="number">11</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># äºŒç»´æ•°ç»„</span></span><br><span class="line"><span class="operator">&gt;</span> a <span class="operator">&lt;-</span> array<span class="punctuation">(</span><span class="number">10</span><span class="operator">:</span> <span class="number">15</span><span class="punctuation">,</span> <span class="built_in">dim</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span>   <span class="comment"># 10, 11, 12, 13, 14, 15</span></span><br><span class="line"><span class="operator">&gt;</span> a</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">10</span>   <span class="number">12</span>   <span class="number">14</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">11</span>   <span class="number">13</span>   <span class="number">15</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">is.array</span><span class="punctuation">(</span>a<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># ä¸‰ç»´æ•°ç»„</span></span><br><span class="line"><span class="operator">&gt;</span> a <span class="operator">&lt;-</span> array<span class="punctuation">(</span><span class="number">10</span><span class="operator">:</span> <span class="number">15</span><span class="punctuation">,</span> <span class="built_in">dim</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> a</span><br><span class="line"><span class="punctuation">,</span> <span class="punctuation">,</span> <span class="number">1</span></span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">10</span>   <span class="number">12</span>   <span class="number">14</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">11</span>   <span class="number">13</span>   <span class="number">15</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">,</span> <span class="punctuation">,</span> <span class="number">2</span></span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">10</span>   <span class="number">12</span>   <span class="number">14</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>   <span class="number">11</span>   <span class="number">13</span>   <span class="number">15</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> column.names <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;COL1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;COL2&quot;</span><span class="punctuation">,</span> <span class="string">&quot;COL3&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> row.names <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;ROW1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;ROW2&quot;</span><span class="punctuation">,</span> <span class="string">&quot;ROW3&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> matrix.names <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Matrix1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Matrix2&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> vector1 <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">5</span><span class="punctuation">,</span> <span class="number">9</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> vector2 <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">10</span><span class="punctuation">,</span> <span class="number">11</span><span class="punctuation">,</span> <span class="number">12</span><span class="punctuation">,</span> <span class="number">13</span><span class="punctuation">,</span> <span class="number">14</span><span class="punctuation">,</span> <span class="number">15</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> a <span class="operator">&lt;-</span> array<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>vector1<span class="punctuation">,</span> vector2<span class="punctuation">)</span><span class="punctuation">,</span> <span class="built_in">dim</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="built_in">dimnames</span> <span class="operator">=</span> <span class="built_in">list</span><span class="punctuation">(</span>row.names<span class="punctuation">,</span> column.names<span class="punctuation">,</span> matrix.names<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> a</span><br><span class="line"><span class="punctuation">,</span> <span class="punctuation">,</span> Matrix1</span><br><span class="line">     COL1 COL2 COL3</span><br><span class="line">ROW1    <span class="number">5</span>   <span class="number">10</span>   <span class="number">13</span></span><br><span class="line">ROW2    <span class="number">9</span>   <span class="number">11</span>   <span class="number">14</span></span><br><span class="line">ROW3    <span class="number">3</span>   <span class="number">12</span>   <span class="number">15</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">,</span> <span class="punctuation">,</span> Matrix2</span><br><span class="line">     COL1 COL2 COL3</span><br><span class="line">ROW1    <span class="number">5</span>   <span class="number">10</span>   <span class="number">13</span></span><br><span class="line">ROW2    <span class="number">9</span>   <span class="number">11</span>   <span class="number">14</span></span><br><span class="line">ROW3    <span class="number">3</span>   <span class="number">12</span>   <span class="number">15</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ•°ç»„å…ƒç´ è®¿é—®</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ•°ç»„è®¿é—®</span></span><br><span class="line"><span class="operator">&gt;</span> a<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span>    <span class="comment"># ä¸€ç»´æ•°ç»„çš„è®¿é—®</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">5</span></span><br><span class="line"><span class="operator">&gt;</span> a<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span> <span class="number">6</span><span class="punctuation">]</span> <span class="comment"># ä¸€ç»´æ•°ç»„çš„è®¿é—®â€”â€”å‘é‡è®¿é—®</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span>  <span class="number">5</span>  <span class="number">9</span>  <span class="number">3</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> dim2_a <span class="operator">&lt;-</span> array<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>vector1<span class="punctuation">,</span> vector2<span class="punctuation">)</span><span class="punctuation">,</span> <span class="built_in">dim</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> dim2_a</span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">5</span>   <span class="number">10</span>   <span class="number">13</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">9</span>   <span class="number">11</span>   <span class="number">14</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">3</span>   <span class="number">12</span>   <span class="number">15</span></span><br><span class="line"><span class="operator">&gt;</span> dim2_a<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span> <span class="number">1</span><span class="punctuation">]</span>       <span class="comment"># äºŒç»´æ•°ç»„çš„è®¿é—®, è®¿é—®çš„å¿…é¡»æ˜¯äºŒç»´æ•°ç»„</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">5</span></span><br><span class="line"><span class="operator">&gt;</span> dim2_a<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">1</span><span class="operator">:</span> <span class="number">2</span><span class="punctuation">]</span> <span class="comment"># äºŒç»´æ•°ç»„çš„è®¿é—®â€”â€”çŸ©é˜µè®¿é—®</span></span><br><span class="line">     <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span> <span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">5</span>   <span class="number">10</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span>    <span class="number">9</span>   <span class="number">11</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> a<span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">]</span>    <span class="comment"># ä¸‰ç»´æ•°ç»„</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">15</span></span><br></pre></td></tr></table></figure>

<h5 id="2-8-5-æ•°æ®æ¡†-data-frame"><a href="#2-8-5-æ•°æ®æ¡†-data-frame" class="headerlink" title="2.8.5 æ•°æ®æ¡† data.frame"></a>2.8.5 æ•°æ®æ¡† <code>data.frame</code></h5><ul>
<li><p>æ¦‚å¿µï¼šæ•°æ®æ¡† <code>DataFrame</code> å¯ä»¥ç†è§£æˆæˆ‘ä»¬å¸¸è¯´çš„<strong>è¡¨æ ¼</strong>ï¼Œæ•°æ®æ¡†æ˜¯ <code>R</code> è¯­è¨€çš„æ•°æ®ç»“æ„ï¼Œæ˜¯ç‰¹æ®Šçš„äºŒç»´åˆ—è¡¨ã€‚æ•°æ®æ¡†æ¯ä¸€åˆ—éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„åˆ—åï¼Œé•¿åº¦éƒ½æ˜¯ç›¸ç­‰çš„ï¼ŒåŒä¸€åˆ—çš„æ•°æ®ç±»å‹éœ€è¦ä¸€è‡´ï¼Œä¸åŒåˆ—çš„æ•°æ®ç±»å‹å¯ä»¥ä¸ä¸€æ ·ã€‚æ•°æ®æ¡†çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>åˆ—åç§°åº”ä¸ºéç©ºã€‚</li>
<li>è¡Œåç§°åº”è¯¥æ˜¯å”¯ä¸€çš„ã€‚</li>
<li>å­˜å‚¨åœ¨æ•°æ®æ¡†ä¸­çš„æ•°æ®å¯ä»¥æ˜¯æ•°å­—ï¼Œå­—ç¬¦å‹ç­‰ã€‚</li>
<li>æ¯ä¸ªåˆ—åº”åŒ…å«ç›¸åŒæ•°é‡çš„æ•°æ®é¡¹ã€‚</li>
</ul>
</li>
<li><p>æ•°æ®æ¡†çš„åˆ›å»º</p>
</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ•°æ®æ¡†</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># åˆ›å»ºæ•°æ®æ¡†å¯¹è±¡</span></span><br><span class="line"><span class="operator">&gt;</span> df1 <span class="operator">&lt;-</span> data.frame<span class="punctuation">(</span></span><br><span class="line"><span class="operator">+</span>   <span class="comment"># tag = value</span></span><br><span class="line"><span class="operator">+</span>   å§“å <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;å¼ ä¸‰&quot;</span><span class="punctuation">,</span> <span class="string">&quot;æå››&quot;</span><span class="punctuation">,</span> <span class="string">&quot;ç‹äº”&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   å·¥å· <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;001&quot;</span><span class="punctuation">,</span> <span class="string">&quot;002&quot;</span><span class="punctuation">,</span> <span class="string">&quot;003&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   æœˆè–ª <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1000</span><span class="punctuation">,</span> <span class="number">2000</span><span class="punctuation">,</span> <span class="number">3000</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> df1</span><br><span class="line">  å§“å å·¥å· æœˆè–ª</span><br><span class="line"><span class="number">1</span> å¼ ä¸‰  <span class="number">001</span> <span class="number">1000</span></span><br><span class="line"><span class="number">2</span> æå››  <span class="number">002</span> <span class="number">2000</span></span><br><span class="line"><span class="number">3</span> ç‹äº”  <span class="number">003</span> <span class="number">3000</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹æ•°æ®æ¡†ç»“æ„</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æŸ¥çœ‹æ•°æ®æ¡†ç»“æ„(Structure)</span></span><br><span class="line"><span class="operator">&gt;</span> str<span class="punctuation">(</span>df1<span class="punctuation">)</span></span><br><span class="line"><span class="string">&#x27;data.frame&#x27;</span><span class="operator">:</span>	<span class="number">3</span> obs. of  <span class="number">3</span> variables<span class="operator">:</span></span><br><span class="line"> <span class="operator">$</span> å§“å<span class="operator">:</span> chr  <span class="string">&quot;å¼ ä¸‰&quot;</span> <span class="string">&quot;æå››&quot;</span> <span class="string">&quot;ç‹äº”&quot;</span></span><br><span class="line"> <span class="operator">$</span> å·¥å·<span class="operator">:</span> chr  <span class="string">&quot;001&quot;</span> <span class="string">&quot;002&quot;</span> <span class="string">&quot;003&quot;</span></span><br><span class="line"> <span class="operator">$</span> æœˆè–ª<span class="operator">:</span> num  <span class="number">1000</span> <span class="number">2000</span> <span class="number">3000</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># æŸ¥çœ‹æ•°æ®æ¡†æè¿°æ€§ç»Ÿè®¡é‡</span></span><br><span class="line"><span class="operator">&gt;</span> summary<span class="punctuation">(</span>df1<span class="punctuation">)</span></span><br><span class="line">     å§“å               å·¥å·                æœˆè–ª     </span><br><span class="line"> Length<span class="operator">:</span><span class="number">3</span>           Length<span class="operator">:</span><span class="number">3</span>           Min.   <span class="operator">:</span><span class="number">1000</span>  </span><br><span class="line"> Class <span class="operator">:</span>character   Class <span class="operator">:</span>character   <span class="number">1</span>st Qu.<span class="operator">:</span><span class="number">1500</span>  </span><br><span class="line"> Mode  <span class="operator">:</span>character   Mode  <span class="operator">:</span>character   Median <span class="operator">:</span><span class="number">2000</span>  </span><br><span class="line">                                       Mean   <span class="operator">:</span><span class="number">2000</span>  </span><br><span class="line">                                       <span class="number">3</span>rd Qu.<span class="operator">:</span><span class="number">2500</span>  </span><br><span class="line">                                       Max.   <span class="operator">:</span><span class="number">3000</span>  </span><br></pre></td></tr></table></figure>

<ul>
<li>æ•°æ®æ¡†è®¿é—®ã€æ–°å¢åˆ—</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æå–æ•°æ®æ¡†ä¸­çš„åˆ—</span></span><br><span class="line"><span class="operator">&gt;</span> df1<span class="operator">$</span>å§“å</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;å¼ ä¸‰&quot;</span> <span class="string">&quot;æå››&quot;</span> <span class="string">&quot;ç‹äº”&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> df2 <span class="operator">&lt;-</span> data.frame<span class="punctuation">(</span>df1<span class="operator">$</span>å§“å<span class="punctuation">,</span> df1<span class="operator">$</span>æœˆè–ª<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> df2</span><br><span class="line">  df1.å§“å df1.æœˆè–ª</span><br><span class="line"><span class="number">1</span>     å¼ ä¸‰     <span class="number">1000</span></span><br><span class="line"><span class="number">2</span>     æå››     <span class="number">2000</span></span><br><span class="line"><span class="number">3</span>     ç‹äº”     <span class="number">3000</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># æå–æ•°æ®æ¡†ä¸­çš„è¡Œ</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># æå–å‰ä¸¤è¡Œ</span></span><br><span class="line"><span class="operator">&gt;</span> result <span class="operator">&lt;-</span> df1<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">2</span><span class="punctuation">,</span> <span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> result</span><br><span class="line">  å§“å å·¥å· æœˆè–ª</span><br><span class="line"><span class="number">1</span> å¼ ä¸‰  <span class="number">001</span> <span class="number">1000</span></span><br><span class="line"><span class="number">2</span> æå››  <span class="number">002</span> <span class="number">2000</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># æå–å‰ä¸¤è¡Œ, å‰ä¸¤åˆ—</span></span><br><span class="line"><span class="operator">&gt;</span> result <span class="operator">&lt;-</span> df1<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">1</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> result</span><br><span class="line">  å§“å å·¥å· æœˆè–ª</span><br><span class="line"><span class="number">1</span> å¼ ä¸‰  <span class="number">001</span> <span class="number">1000</span></span><br><span class="line"><span class="number">2</span> æå››  <span class="number">002</span> <span class="number">2000</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># æå–ç¬¬1ã€3è¡Œ, ç¬¬1ã€2åˆ—çš„æ•°æ®</span></span><br><span class="line"><span class="operator">&gt;</span> result <span class="operator">&lt;-</span> df1<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> result</span><br><span class="line">  å§“å å·¥å·</span><br><span class="line"><span class="number">1</span> å¼ ä¸‰  <span class="number">001</span></span><br><span class="line"><span class="number">3</span> ç‹äº”  <span class="number">003</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ–°å¢åˆ—</span></span><br><span class="line"><span class="operator">&gt;</span> df1<span class="operator">$</span>éƒ¨é—¨ <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;è¿è¥&quot;</span><span class="punctuation">,</span> <span class="string">&quot;æŠ€æœ¯&quot;</span><span class="punctuation">,</span> <span class="string">&quot;è¿è¥&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> df1</span><br><span class="line">  å§“å å·¥å· æœˆè–ª éƒ¨é—¨</span><br><span class="line"><span class="number">1</span> å¼ ä¸‰  <span class="number">001</span> <span class="number">1000</span> è¿è¥</span><br><span class="line"><span class="number">2</span> æå››  <span class="number">002</span> <span class="number">2000</span> æŠ€æœ¯</span><br><span class="line"><span class="number">3</span> ç‹äº”  <span class="number">003</span> <span class="number">3000</span> è¿è¥</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•°æ®æ¡†åˆå¹¶</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ•°æ®æ¡†åˆå¹¶</span></span><br><span class="line"><span class="comment"># cbind()/rbind()</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ•°æ®æ¡†ç­›é€‰</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ•°æ®æ¡†ç­›é€‰</span></span><br><span class="line"><span class="operator">&gt;</span> student <span class="operator">&lt;-</span> data.frame<span class="punctuation">(</span></span><br><span class="line"><span class="operator">+</span>   sno <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   sname <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;zhangsan&quot;</span><span class="punctuation">,</span> <span class="string">&quot;lisi&quot;</span><span class="punctuation">,</span> <span class="string">&quot;wangwu&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   sage <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">10</span><span class="punctuation">,</span> <span class="number">12</span><span class="punctuation">,</span> <span class="number">14</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> student</span><br><span class="line">  sno    sname sage</span><br><span class="line"><span class="number">1</span>   <span class="number">1</span> zhangsan   <span class="number">10</span></span><br><span class="line"><span class="number">2</span>   <span class="number">2</span>     lisi   <span class="number">12</span></span><br><span class="line"><span class="number">3</span>   <span class="number">3</span>   wangwu   <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> student<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span>      <span class="comment"># ç¬¬ä¸€ä¸ªå­—æ®µ</span></span><br><span class="line">  sno</span><br><span class="line"><span class="number">1</span>   <span class="number">1</span></span><br><span class="line"><span class="number">2</span>   <span class="number">2</span></span><br><span class="line"><span class="number">3</span>   <span class="number">3</span></span><br><span class="line"><span class="operator">&gt;</span> student<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">]</span>   <span class="comment"># ç¬¬ä¸€è¡Œ, ç¬¬äºŒåˆ—</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> student<span class="operator">$</span>sage<span class="operator">&gt;</span><span class="number">12</span> <span class="comment"># FALSE FALSE TRUE</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">FALSE</span> <span class="literal">FALSE</span>  <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># [...] é‡Œé¢ä¸€ä¸ªå‚æ•°å–å­—æ®µ, ä¸¤ä¸ªå‚æ•°å–è¡Œåˆ—</span></span><br><span class="line"><span class="operator">&gt;</span> student<span class="punctuation">[</span>student<span class="operator">$</span>sage<span class="operator">&gt;</span><span class="number">11</span><span class="punctuation">]</span>          <span class="comment"># æ‰§è¡Œåˆ¤æ–­, å¾—åˆ°ç»“æœ c(FALSE, TRUE, TRUE)</span></span><br><span class="line">     sname sage</span><br><span class="line"><span class="number">1</span> zhangsan   <span class="number">10</span></span><br><span class="line"><span class="number">2</span>     lisi   <span class="number">12</span></span><br><span class="line"><span class="number">3</span>   wangwu   <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> student<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="literal">FALSE</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">)</span><span class="punctuation">]</span>     <span class="comment"># ä½¿ç”¨ c(FALSE, TRUE, TRUE) è¿›è¡Œè¿ç®—</span></span><br><span class="line">     sname sage</span><br><span class="line"><span class="number">1</span> zhangsan   <span class="number">10</span></span><br><span class="line"><span class="number">2</span>     lisi   <span class="number">12</span></span><br><span class="line"><span class="number">3</span>   wangwu   <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> student<span class="punctuation">[</span>student<span class="operator">$</span>sage<span class="operator">&gt;</span><span class="number">11</span><span class="punctuation">,</span> <span class="punctuation">]</span>        <span class="comment"># é€‰æ‹©å¹´é¾„å¤§äº 11 çš„, å¹¶å–æ‰€æœ‰å­—æ®µ</span></span><br><span class="line">  sno  sname sage</span><br><span class="line"><span class="number">2</span>   <span class="number">2</span>   lisi   <span class="number">12</span></span><br><span class="line"><span class="number">3</span>   <span class="number">3</span> wangwu   <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> student<span class="punctuation">[</span><span class="built_in">c</span><span class="punctuation">(</span><span class="literal">FALSE</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">,</span> <span class="literal">TRUE</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="punctuation">]</span>   <span class="comment"># é€‰æ‹©å¹´é¾„å¤§äº 11 çš„è¡Œ, å¹¶å–æ‰€æœ‰å­—æ®µ</span></span><br><span class="line">  sno  sname sage</span><br><span class="line"><span class="number">2</span>   <span class="number">2</span>   lisi   <span class="number">12</span></span><br><span class="line"><span class="number">3</span>   <span class="number">3</span> wangwu   <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> student<span class="punctuation">[</span>student<span class="operator">$</span>sage<span class="operator">&gt;</span><span class="number">11</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">]</span>       <span class="comment"># é€‰æ‹©å¹´é¾„å¤§äº 11 çš„, å¹¶å–ç¬¬ 2 ä¸ªå­—æ®µ</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;lisi&quot;</span>   <span class="string">&quot;wangwu&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> student<span class="punctuation">[</span>student<span class="operator">$</span>sage<span class="operator">&gt;</span><span class="number">11</span><span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="comment"># é€‰æ‹©å¹´é¾„å¤§äº 11 çš„, å¹¶å–ç¬¬ 1ã€2 ä¸ªå­—æ®µ </span></span><br><span class="line">  sno  sname</span><br><span class="line"><span class="number">2</span>   <span class="number">2</span>   lisi</span><br><span class="line"><span class="number">3</span>   <span class="number">3</span> wangwu</span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> subset<span class="punctuation">(</span>student<span class="punctuation">,</span> select <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;sname&quot;</span><span class="punctuation">,</span> <span class="string">&quot;sage&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span>                        <span class="comment"># å¯ä»¥ç†è§£ä¸º: SELECT sname, sage FROM student;</span></span><br><span class="line">     sname sage</span><br><span class="line"><span class="number">1</span> zhangsan   <span class="number">10</span></span><br><span class="line"><span class="number">2</span>     lisi   <span class="number">12</span></span><br><span class="line"><span class="number">3</span>   wangwu   <span class="number">14</span></span><br><span class="line"><span class="operator">&gt;</span> subset<span class="punctuation">(</span>student<span class="punctuation">,</span> select <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;sname&quot;</span><span class="punctuation">,</span> <span class="string">&quot;sage&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> sage<span class="operator">&gt;</span><span class="number">11</span> <span class="operator">&amp;</span> sno <span class="operator">==</span> <span class="number">2</span><span class="punctuation">)</span>    <span class="comment"># å¯ä»¥ç†è§£é—®: SELECT sname, sage FROM student WHERE sage&gt;11 AND sno=2;</span></span><br><span class="line">  sname sage</span><br><span class="line"><span class="number">2</span>  lisi   <span class="number">12</span></span><br></pre></td></tr></table></figure>

<h5 id="2-8-6-å› å­-factor"><a href="#2-8-6-å› å­-factor" class="headerlink" title="2.8.6 å› å­ factor"></a>2.8.6 å› å­ <code>factor</code></h5><ul>
<li>æ¦‚å¿µï¼šå› å­ç”¨äºå­˜å‚¨ä¸åŒç±»åˆ«çš„æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚ï¼šäººçš„æ€§åˆ«æœ‰ <em>ç”·</em> å’Œ <em>å¥³</em> ä¸¤ä¸ªç±»åˆ«ï¼Œå¹´é¾„æ¥åˆ†å¯ä»¥æœ‰ <em>æœªæˆå¹´äºº</em> å’Œ <em>æˆå¹´äºº</em> ã€‚</li>
<li>å› å­åˆ›å»º</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># å› å­åˆ›å»º</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># ä¾‹ 1:ç”· 2:å¥³</span></span><br><span class="line"><span class="operator">&gt;</span> x <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> factor<span class="punctuation">(</span>x<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">1</span> <span class="number">3</span></span><br><span class="line">Levels<span class="operator">:</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="operator">&gt;</span> factor<span class="punctuation">(</span>x<span class="punctuation">,</span> levels <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1</span>    <span class="number">2</span>    <span class="number">1</span>    <span class="number">2</span>    <span class="number">2</span>    <span class="number">1</span>    <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span></span><br><span class="line">Levels<span class="operator">:</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="operator">&gt;</span> factor<span class="punctuation">(</span>x<span class="punctuation">,</span> levels <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">,</span> labels <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;ç”·&quot;</span><span class="punctuation">,</span> <span class="string">&quot;å¥³&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> ç”·   å¥³   ç”·   å¥³   å¥³   ç”·   <span class="operator">&lt;</span><span class="literal">NA</span><span class="operator">&gt;</span></span><br><span class="line">Levels<span class="operator">:</span> ç”· å¥³</span><br></pre></td></tr></table></figure>

<h4 id="2-9-R-è¯­è¨€åˆ¤æ–­ã€æ§åˆ¶ã€å¾ªç¯"><a href="#2-9-R-è¯­è¨€åˆ¤æ–­ã€æ§åˆ¶ã€å¾ªç¯" class="headerlink" title="2.9 R è¯­è¨€åˆ¤æ–­ã€æ§åˆ¶ã€å¾ªç¯"></a>2.9 R è¯­è¨€åˆ¤æ–­ã€æ§åˆ¶ã€å¾ªç¯</h4><h5 id="2-9-1-åˆ¤æ–­è¯­å¥"><a href="#2-9-1-åˆ¤æ–­è¯­å¥" class="headerlink" title="2.9.1 åˆ¤æ–­è¯­å¥"></a>2.9.1 åˆ¤æ–­è¯­å¥</h5><ul>
<li><code>if</code> è¯­å¥</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># æ§åˆ¶è¯­å¥</span></span><br><span class="line"><span class="operator">&gt;</span> x <span class="operator">&lt;-</span> <span class="literal">TRUE</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">if</span> <span class="punctuation">(</span>x<span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span><span class="string">&quot;x ä¸ºçœŸ&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;x ä¸ºçœŸ&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">if</span> <span class="punctuation">(</span><span class="built_in">is.logical</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span><span class="string">&quot;x æ˜¯é€»è¾‘å‹æ•°æ®&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;x æ˜¯é€»è¾‘å‹æ•°æ®&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>if...else...</code> è¯­å¥ å’Œ <code>if...else if...</code> è¯­å¥</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> x <span class="operator">&lt;-</span> 10L</span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">if</span> <span class="punctuation">(</span><span class="built_in">is.logical</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span><span class="string">&quot;x æ˜¯é€»è¾‘å‹æ•°æ®&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span> <span class="keyword">else</span> <span class="keyword">if</span><span class="punctuation">(</span><span class="built_in">is.numeric</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span><span class="string">&quot;x æ˜¯æ•°å€¼å‹æ•°æ®&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span> <span class="keyword">else</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span><span class="string">&quot;x ä¸æ˜¯é€»è¾‘å‹æ•°æ®, ä¹Ÿä¸æ˜¯æ•°å€¼å‹æ•°æ®&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;x æ˜¯æ•°å€¼å‹æ•°æ®&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> y <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;a&quot;</span><span class="punctuation">,</span> <span class="string">&quot;b&quot;</span><span class="punctuation">,</span> <span class="string">&quot;c&quot;</span><span class="punctuation">,</span> <span class="string">&quot;e&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">if</span><span class="punctuation">(</span><span class="string">&quot;e&quot;</span> <span class="operator">%in%</span> y<span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span><span class="string">&quot;y ä¸­åŒ…å« `e`&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span> <span class="keyword">else</span> <span class="keyword">if</span> <span class="punctuation">(</span><span class="string">&quot;a&quot;</span> <span class="operator">%in%</span> y<span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span><span class="string">&quot;y ä¸­åŒ…å« `a`&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span> <span class="keyword">else</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span><span class="string">&quot;ä¸å­˜åœ¨&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;y ä¸­åŒ…å« `e`&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>switch</code> è¯­å¥</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># switchè¯­å¥</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># x &lt;- switch (object,</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment">#   case = action</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># )</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># expression(object) æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼, å¯ä»¥æ˜¯æ•´æ•°æˆ–å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># å¦‚æœæ˜¯æ•´æ•°, åˆ™è¿”å›å¯¹åº” case çš„ä½ç½®å€¼, å¦‚æœæ•´æ•°ä¸åœ¨èŒƒå›´å†…åˆ™è¿”å› NULL</span></span><br><span class="line"><span class="operator">&gt;</span> x <span class="operator">&lt;-</span> <span class="built_in">switch</span> <span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;a&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;b&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;c&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;d&quot;</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> x</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> x <span class="operator">&lt;-</span> <span class="built_in">switch</span> <span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;a&quot;</span> <span class="operator">=</span> <span class="string">&quot;a1&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;b&quot;</span> <span class="operator">=</span> <span class="string">&quot;b1&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;c&quot;</span> <span class="operator">=</span> <span class="string">&quot;c1&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;d&quot;</span> <span class="operator">=</span> <span class="string">&quot;d1&quot;</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> x</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;a1&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># expression å¦‚æœæ˜¯å­—ç¬¦ä¸², åˆ™å¯¹åº”çš„æ˜¯ case ä¸­å˜é‡åå¯¹åº”çš„å€¼, æ²¡æœ‰åŒ¹é…åˆ™æ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="operator">&gt;</span> x <span class="operator">&lt;-</span> <span class="built_in">switch</span> <span class="punctuation">(</span><span class="string">&quot;c&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;a&quot;</span> <span class="operator">=</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;b&quot;</span> <span class="operator">=</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>   <span class="string">&quot;c&quot;</span> <span class="operator">=</span> <span class="string">&quot;cn&quot;</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> x</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;cn&quot;</span></span><br></pre></td></tr></table></figure>

<h5 id="2-9-2-å¾ªç¯è¯­å¥"><a href="#2-9-2-å¾ªç¯è¯­å¥" class="headerlink" title="2.9.2 å¾ªç¯è¯­å¥"></a>2.9.2 å¾ªç¯è¯­å¥</h5><ul>
<li><code>repeat + if(...) &#123; break &#125;</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># å¾ªç¯è¯­å¥</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># repeat + if(...) &#123; break &#125;</span></span><br><span class="line"><span class="operator">&gt;</span> v <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Google&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Micrsoft&quot;</span><span class="punctuation">,</span> <span class="string">&quot;OpenAI&quot;</span><span class="punctuation">,</span> <span class="string">&quot;LinkIn&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> cnt <span class="operator">&lt;-</span> 3</span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">repeat</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span>v<span class="punctuation">[</span>cnt<span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span>   cnt <span class="operator">&lt;-</span> cnt <span class="operator">+</span> <span class="number">1</span></span><br><span class="line"><span class="operator">+</span>   <span class="keyword">if</span><span class="punctuation">(</span>cnt <span class="operator">&gt;</span> <span class="number">6</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span> <span class="keyword">break</span>; <span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;OpenAI&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;LinkIn&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">NA</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">NA</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>while()</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># while å¾ªç¯</span></span><br><span class="line"><span class="operator">&gt;</span> v <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Google&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Micrsoft&quot;</span><span class="punctuation">,</span> <span class="string">&quot;OpenAI&quot;</span><span class="punctuation">,</span> <span class="string">&quot;LinkIn&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> cnt <span class="operator">&lt;-</span> 3</span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">while</span><span class="punctuation">(</span>cnt <span class="operator">&lt;=</span> <span class="number">5</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span>v<span class="punctuation">[</span>cnt<span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span>   cnt <span class="operator">&lt;-</span> cnt <span class="operator">+</span> <span class="number">1</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;OpenAI&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;LinkIn&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="literal">NA</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>for()</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># for å¾ªç¯</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">letters</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;a&quot;</span> <span class="string">&quot;b&quot;</span> <span class="string">&quot;c&quot;</span> <span class="string">&quot;d&quot;</span> <span class="string">&quot;e&quot;</span> <span class="string">&quot;f&quot;</span> <span class="string">&quot;g&quot;</span> <span class="string">&quot;h&quot;</span> <span class="string">&quot;i&quot;</span> <span class="string">&quot;j&quot;</span> <span class="string">&quot;k&quot;</span> <span class="string">&quot;l&quot;</span> <span class="string">&quot;m&quot;</span> <span class="string">&quot;n&quot;</span> <span class="string">&quot;o&quot;</span> <span class="string">&quot;p&quot;</span> <span class="string">&quot;q&quot;</span> <span class="string">&quot;r&quot;</span> <span class="string">&quot;s&quot;</span> <span class="string">&quot;t&quot;</span> <span class="string">&quot;u&quot;</span> <span class="string">&quot;v&quot;</span> <span class="string">&quot;w&quot;</span> <span class="string">&quot;x&quot;</span> <span class="string">&quot;y&quot;</span> <span class="string">&quot;z&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">LETTERS</span></span><br><span class="line"> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;A&quot;</span> <span class="string">&quot;B&quot;</span> <span class="string">&quot;C&quot;</span> <span class="string">&quot;D&quot;</span> <span class="string">&quot;E&quot;</span> <span class="string">&quot;F&quot;</span> <span class="string">&quot;G&quot;</span> <span class="string">&quot;H&quot;</span> <span class="string">&quot;I&quot;</span> <span class="string">&quot;J&quot;</span> <span class="string">&quot;K&quot;</span> <span class="string">&quot;L&quot;</span> <span class="string">&quot;M&quot;</span> <span class="string">&quot;N&quot;</span> <span class="string">&quot;O&quot;</span> <span class="string">&quot;P&quot;</span> <span class="string">&quot;Q&quot;</span> <span class="string">&quot;R&quot;</span> <span class="string">&quot;S&quot;</span> <span class="string">&quot;T&quot;</span> <span class="string">&quot;U&quot;</span> <span class="string">&quot;V&quot;</span> <span class="string">&quot;W&quot;</span> <span class="string">&quot;X&quot;</span> <span class="string">&quot;Y&quot;</span> <span class="string">&quot;Z&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">LETTERS</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span> <span class="number">6</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;A&quot;</span> <span class="string">&quot;B&quot;</span> <span class="string">&quot;C&quot;</span> <span class="string">&quot;D&quot;</span> <span class="string">&quot;E&quot;</span> <span class="string">&quot;F&quot;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">for</span> <span class="punctuation">(</span>i <span class="keyword">in</span> <span class="built_in">LETTERS</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span> <span class="number">6</span><span class="punctuation">]</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span>i<span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;A&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;B&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;C&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;D&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;E&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;F&quot;</span></span><br></pre></td></tr></table></figure>

<h5 id="2-9-3-æ§åˆ¶è¯­å¥"><a href="#2-9-3-æ§åˆ¶è¯­å¥" class="headerlink" title="2.9.3 æ§åˆ¶è¯­å¥"></a>2.9.3 æ§åˆ¶è¯­å¥</h5><ul>
<li><code>break</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># breakè¯­å¥</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">for</span> <span class="punctuation">(</span>i <span class="keyword">in</span> <span class="built_in">LETTERS</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span> <span class="number">6</span><span class="punctuation">]</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   <span class="keyword">if</span> <span class="punctuation">(</span>i <span class="operator">==</span> <span class="string">&quot;D&quot;</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>     <span class="keyword">break</span>;</span><br><span class="line"><span class="operator">+</span>   <span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span>i<span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;A&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;B&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;C&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>next</code></li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># nextè¯­å¥</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">for</span> <span class="punctuation">(</span>i <span class="keyword">in</span> <span class="built_in">LETTERS</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span> <span class="number">6</span><span class="punctuation">]</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   <span class="keyword">if</span> <span class="punctuation">(</span>i <span class="operator">==</span> <span class="string">&quot;D&quot;</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>     <span class="keyword">next</span>;</span><br><span class="line"><span class="operator">+</span>   <span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">+</span>   print<span class="punctuation">(</span>i<span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;A&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;B&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;C&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;E&quot;</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="string">&quot;F&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-10-R-è¯­è¨€å‡½æ•°"><a href="#2-10-R-è¯­è¨€å‡½æ•°" class="headerlink" title="2.10 R è¯­è¨€å‡½æ•°"></a>2.10 R è¯­è¨€å‡½æ•°</h4><p>æ¦‚å¿µï¼šå‡½æ•°æ˜¯ä¸€ç»„ä¸€èµ·æ‰§è¡Œä¸€ä¸ªä»»åŠ¡çš„è¯­å¥ã€‚</p>
<h5 id="2-10-1-å†…ç½®å‡½æ•°ï¼š"><a href="#2-10-1-å†…ç½®å‡½æ•°ï¼š" class="headerlink" title="2.10.1 å†…ç½®å‡½æ•°ï¼š"></a>2.10.1 å†…ç½®å‡½æ•°ï¼š</h5><ul>
<li><code>print()</code></li>
<li><code>cat()</code></li>
<li><code>list()</code></li>
<li><code>array()</code></li>
</ul>
<h5 id="2-10-2-è‡ªå®šä¹‰å‡½æ•°"><a href="#2-10-2-è‡ªå®šä¹‰å‡½æ•°" class="headerlink" title="2.10.2 è‡ªå®šä¹‰å‡½æ•°"></a>2.10.2 è‡ªå®šä¹‰å‡½æ•°</h5><p><code>R</code> è¯­è¨€å‡½æ•°é€šå¸¸ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>å‡½æ•°å</li>
<li>å‚æ•°</li>
<li>å‡½æ•°ä½“</li>
<li>è¿”å›å€¼</li>
</ul>
<p>å…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function_name <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>arg_1<span class="punctuation">,</span> arg_2<span class="punctuation">,</span> ...<span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment"># å‡½æ•°ä½“</span></span><br><span class="line">    <span class="comment"># æ‰§è¡Œçš„ä»£ç å—</span></span><br><span class="line">    <span class="built_in">return</span><span class="punctuation">(</span>output<span class="punctuation">)</span>	<span class="comment"># è¿”å›å€¼</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ç”±ä¸€äº›ä¾‹å­æ¥æ¼”ç¤ºï¼š</p>
<p>åªæ¼”ç¤ºå‡ ç§æƒ…å†µï¼Œå…¶ä»–æƒ…å†µï¼ˆå¦‚æœ‰å‚å‡½æ•°ã€æœ‰é»˜è®¤å‚æ•°å€¼çš„å‡½æ•°éƒ½å’Œå…¶ä»–è¯­è¨€ç±»ä¼¼ï¼‰ã€‚</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># R è¯­è¨€å‡½æ•°</span></span><br><span class="line"><span class="operator">&gt;</span> new.function <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>   <span class="comment"># å‡½æ•°ä½“</span></span><br><span class="line"><span class="operator">+</span>   <span class="keyword">for</span><span class="punctuation">(</span>i <span class="keyword">in</span> <span class="number">1</span><span class="operator">:</span> <span class="number">6</span><span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line"><span class="operator">+</span>     print<span class="punctuation">(</span>i<span class="operator">^</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">+</span>   <span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">+</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> new.function<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">1</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">4</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">9</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">16</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">25</span></span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> <span class="number">36</span></span><br></pre></td></tr></table></figure>

<h4 id="2-11-Rè¯­è¨€è¯»å†™æ•°æ®æ–‡ä»¶ã€æ•°æ®åº“"><a href="#2-11-Rè¯­è¨€è¯»å†™æ•°æ®æ–‡ä»¶ã€æ•°æ®åº“" class="headerlink" title="2.11 Rè¯­è¨€è¯»å†™æ•°æ®æ–‡ä»¶ã€æ•°æ®åº“"></a>2.11 Rè¯­è¨€è¯»å†™æ•°æ®æ–‡ä»¶ã€æ•°æ®åº“</h4><h5 id="2-11-1-è¯»å†™æ•°æ®æ–‡ä»¶"><a href="#2-11-1-è¯»å†™æ•°æ®æ–‡ä»¶" class="headerlink" title="2.11.1 è¯»å†™æ•°æ®æ–‡ä»¶"></a>2.11.1 è¯»å†™æ•°æ®æ–‡ä»¶</h5><table>
<thead>
<tr>
<th>è¯»å†™ç±»å‹</th>
<th>è¯»å†™æ–¹æ³•</th>
<th align="center">å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>ä»é”®ç›˜è¾“å…¥æ•°æ®</td>
<td><code>edit()</code></td>
<td align="center">ä½¿ç”¨æ–¹æ³•è§ä¸‹æ–¹ä»£ç </td>
</tr>
<tr>
<td>è¯»å†™ <code>.txt</code> æ ¼å¼æ–‡ä»¶</td>
<td>è¯» <code>read.table</code> <br />å†™ <code>write.table</code></td>
<td align="center">-</td>
</tr>
<tr>
<td>è¯»å†™ <code>.csv</code> æ ¼å¼æ–‡ä»¶</td>
<td>è¯» <code>read.csv()</code><br />å†™ <code>write.csv()</code></td>
<td align="center">-</td>
</tr>
<tr>
<td>è¯»å†™ <code>.xlsx</code> æ ¼å¼æ–‡ä»¶</td>
<td>è¯» <code>read.xlsx()</code><br />å†™ <code>write.xlsx()</code></td>
<td align="center">ä½¿ç”¨ä¹‹å‰éœ€è¦ä¸‹è½½å¹¶åŠ è½½ Rè¯­è¨€çš„ <code>xlsx</code> åŒ…</td>
</tr>
</tbody></table>
<ol>
<li>ä»é”®ç›˜ä¸­è¾“å…¥æ•°æ®</li>
</ol>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># ä»é”®ç›˜è¯»å…¥æ•°æ®, edit() å’Œ fix() å¯ä»¥å¯è§†åŒ–çš„è¾“å…¥æ•°æ®</span></span><br><span class="line"><span class="operator">&gt;</span> mydata <span class="operator">&lt;-</span> data.frame<span class="punctuation">(</span>age<span class="operator">=</span>numeric<span class="punctuation">(</span><span class="number">0</span><span class="punctuation">)</span><span class="punctuation">,</span> gender<span class="operator">=</span>character<span class="punctuation">(</span><span class="number">0</span><span class="punctuation">)</span><span class="punctuation">,</span> weight<span class="operator">=</span>numeric<span class="punctuation">(</span><span class="number">0</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> mydata</span><br><span class="line"><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> age    gender weight</span><br><span class="line"><span class="operator">&lt;</span><span class="number">0</span> è¡Œ<span class="operator">&gt;</span> <span class="punctuation">(</span>æˆ–<span class="number">0</span><span class="operator">-</span>é•¿åº¦çš„row.names<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> edit<span class="punctuation">(</span>mydata<span class="punctuation">)</span></span><br><span class="line">  age gender weight</span><br><span class="line"><span class="number">1</span>  <span class="number">12</span>      <span class="number">2</span>    <span class="number">120</span></span><br><span class="line"><span class="number">2</span>  <span class="number">13</span>      <span class="number">2</span>     <span class="literal">NA</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> fix<span class="punctuation">(</span>mydata<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>è¯»å†™ <code>.txt</code> æ ¼å¼æ–‡ä»¶</li>
</ol>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">stutxt <span class="operator">&lt;-</span> read.table<span class="punctuation">(</span><span class="string">&quot;/path/to/file.txt&quot;</span><span class="punctuation">,</span> header<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">,</span> sep<span class="operator">=</span><span class="string">&quot;,&quot;</span><span class="punctuation">)</span></span><br><span class="line">stutxt</span><br><span class="line"><span class="built_in">class</span><span class="punctuation">(</span>stutxt<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">write.table<span class="punctuation">(</span>stutxt<span class="punctuation">,</span> <span class="string">&quot;/path/to/write.txt&quot;</span><span class="punctuation">,</span> sep<span class="operator">=</span><span class="string">&quot;,&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>è¯»å†™ <code>.csv</code> æ ¼å¼æ–‡ä»¶</li>
</ol>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">csvfile <span class="operator">&lt;-</span> read.csv<span class="punctuation">(</span><span class="string">&quot;/path/to/file.csv&quot;</span><span class="punctuation">)</span></span><br><span class="line">csvfile</span><br><span class="line"></span><br><span class="line">write.csv<span class="punctuation">(</span>csvfile<span class="punctuation">,</span> <span class="string">&quot;/path/to/write.csv&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>è¯»å†™ <code>.xlsx</code> æ ¼å¼æ–‡ä»¶</li>
</ol>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">install.packages<span class="punctuation">(</span><span class="string">&quot;xlsx&quot;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line">search<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&quot;x1sx&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">student <span class="operator">&lt;-</span> read.xlsx<span class="punctuation">(</span><span class="string">&quot;/path/to/file.xlsx&quot;</span><span class="punctuation">,</span> sheetIndex<span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> encoding <span class="operator">=</span> <span class="string">&quot;UTF-8&quot;</span><span class="punctuation">)</span></span><br><span class="line">student</span><br><span class="line"></span><br><span class="line">city<span class="operator">&lt;-</span>read.xlsx<span class="punctuation">(</span><span class="string">&quot;/path/to/file.xlsx&quot;</span><span class="punctuation">,</span> sheetName <span class="operator">=</span> <span class="string">&quot;city&quot;</span><span class="punctuation">,</span>encoding <span class="operator">=</span> <span class="string">&quot;UTF-8&quot;</span><span class="punctuation">)</span></span><br><span class="line">city</span><br><span class="line"></span><br><span class="line">write.xlsx<span class="punctuation">(</span>city<span class="punctuation">,</span> <span class="string">&quot;/path/to/write.xlsx&quot;</span><span class="punctuation">,</span> sheetName <span class="operator">=</span> <span class="string">&quot;city&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<h5 id="2-11-2-è¯»å†™æ•°æ®åº“"><a href="#2-11-2-è¯»å†™æ•°æ®åº“" class="headerlink" title="2.11.2 è¯»å†™æ•°æ®åº“"></a>2.11.2 è¯»å†™æ•°æ®åº“</h5><p>éé‡ç‚¹ï¼Œæœ‰éœ€è¦å¯è‡ªè¡Œäº†è§£</p>
<h4 id="2-12-R-è¯­è¨€åŸºç¡€ç»˜å›¾"><a href="#2-12-R-è¯­è¨€åŸºç¡€ç»˜å›¾" class="headerlink" title="2.12 R è¯­è¨€åŸºç¡€ç»˜å›¾"></a>2.12 R è¯­è¨€åŸºç¡€ç»˜å›¾</h4><h5 id="2-12-1-R-è¯­è¨€ç»˜åˆ¶barplot-æ¡å½¢å›¾ã€å †å æ¡å½¢å›¾"><a href="#2-12-1-R-è¯­è¨€ç»˜åˆ¶barplot-æ¡å½¢å›¾ã€å †å æ¡å½¢å›¾" class="headerlink" title="2.12.1 R è¯­è¨€ç»˜åˆ¶barplot() æ¡å½¢å›¾ã€å †å æ¡å½¢å›¾"></a>2.12.1 R è¯­è¨€ç»˜åˆ¶<code>barplot()</code> æ¡å½¢å›¾ã€å †å æ¡å½¢å›¾</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####### 1. ç»˜åˆ¶æ¡å½¢å›¾ barplot()</span></span><br><span class="line"><span class="comment"># 1.1 height: é«˜åº¦, é€šè¿‡è¿™ä¸ªå‚æ•°å¯ä»¥æŒ‡å®šè¦ç”»å¤šå°‘ä¸ªæŸ±å­, ä»¥åŠæ¯ä¸ªæŸ±å­çš„é«˜åº¦, å…¶å€¼æœ‰ä¸¤ç§â€”â€”å‘é‡ã€çŸ©é˜µ</span></span><br><span class="line"><span class="comment"># 1.1.1 å‘é‡ vector, æ­¤æ—¶ä¼šæ ¹æ®å‘é‡çš„é•¿åº¦ç¡®å®šå›¾ä¸­æœ‰å¤šå°‘ä¸ªæŸ±å­, å‘é‡ä¸­çš„æ¯ä¸ªå€¼å°±æ˜¯é«˜åº¦</span></span><br><span class="line">barplot<span class="punctuation">(</span>height <span class="operator">=</span> <span class="number">1</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.1.2 çŸ©é˜µ matrix, æ­¤æ—¶ç”¨äºç”»å †ç§¯æŸ±çŠ¶å›¾</span></span><br><span class="line">data <span class="operator">&lt;-</span> cbind<span class="punctuation">(</span>a <span class="operator">=</span> <span class="number">1</span><span class="operator">:</span> <span class="number">4</span><span class="punctuation">,</span> b <span class="operator">=</span> <span class="number">1</span><span class="operator">:</span> <span class="number">4</span><span class="punctuation">)</span></span><br><span class="line">data</span><br><span class="line"><span class="built_in">class</span><span class="punctuation">(</span>data<span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height <span class="operator">=</span> data<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.2 width: å®½åº¦, æ§åˆ¶æ¯ä¸ªæŸ±å­çš„å®½åº¦, é»˜è®¤å€¼ä¸º 1, å€¼å¾—æ³¨æ„çš„æ˜¯, è¿™ä¸ªå‚æ•°çš„å€¼æ˜¯å¯ä»¥å¾ªç¯ä½¿ç”¨çš„</span></span><br><span class="line">barplot<span class="punctuation">(</span>height <span class="operator">=</span> <span class="number">1</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height <span class="operator">=</span> <span class="number">1</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">,</span> width<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height <span class="operator">=</span> <span class="number">1</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">,</span> width<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height <span class="operator">=</span> <span class="number">1</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">,</span> width<span class="operator">=</span><span class="number">1</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">data <span class="operator">&lt;-</span> cbind<span class="punctuation">(</span>a <span class="operator">=</span> <span class="number">1</span><span class="operator">:</span> <span class="number">4</span><span class="punctuation">,</span> b <span class="operator">=</span> <span class="number">1</span><span class="operator">:</span><span class="number">4</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height <span class="operator">=</span> data<span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height <span class="operator">=</span> data<span class="punctuation">,</span> width<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height <span class="operator">=</span> data<span class="punctuation">,</span> width<span class="operator">=</span><span class="number">1</span><span class="operator">:</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.3 space: é—´éš”, æŒ‡å®šæ¯ä¸ªæŸ±å­å·¦è¾¹çš„ç©ºç™½åŒºåŸŸçš„å®½åº¦, è¿™ä¸ªå€¼ä¸ºä¸€ä¸ªç™¾åˆ†æ¯”, é»˜è®¤å€¼ä¸º 0.2</span></span><br><span class="line">barplot<span class="punctuation">(</span>height<span class="operator">=</span><span class="number">1</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">,</span> space<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height<span class="operator">=</span><span class="number">1</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">,</span> space<span class="operator">=</span><span class="number">5</span><span class="operator">:</span> <span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height<span class="operator">=</span>data<span class="punctuation">,</span> space<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height<span class="operator">=</span>data<span class="punctuation">,</span> space<span class="operator">=</span><span class="number">1</span><span class="operator">:</span> <span class="number">2</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.4 names.arg: æ¯ä¸ªæŸ±å­ä¸‹é¢çš„æ ‡è®°, å½“ height ä¸º vector æ—¶, é»˜è®¤çš„æ ‡è®°ä¸ºå‘é‡çš„ names å±æ€§</span></span><br><span class="line">barplot<span class="punctuation">(</span>height<span class="operator">=</span><span class="number">1</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">,</span> names.arg<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;a&quot;</span><span class="punctuation">,</span><span class="string">&quot;b&quot;</span><span class="punctuation">,</span><span class="string">&quot;c&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">v <span class="operator">&lt;-</span> 1<span class="operator">:</span><span class="number">3</span></span><br><span class="line"><span class="built_in">names</span><span class="punctuation">(</span>v<span class="punctuation">)</span> <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;c&quot;</span> <span class="punctuation">,</span><span class="string">&quot;b&quot;</span> <span class="punctuation">,</span><span class="string">&quot;a&quot;</span><span class="punctuation">)</span></span><br><span class="line">v</span><br><span class="line">barplot<span class="punctuation">(</span>height<span class="operator">=</span>v<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.5 horiz: é€»è¾‘å€¼, é»˜è®¤ä¸º FALSE, å½“å€¼ä¸º TRUE æ—¶, å°† X è½´å’Œ Y è½´è½¬ç½®</span></span><br><span class="line">barplot<span class="punctuation">(</span>height<span class="operator">=</span><span class="number">1</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">,</span> horiz <span class="operator">=</span> <span class="literal">FALSE</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height<span class="operator">=</span><span class="number">1</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">,</span> horiz <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line">data</span><br><span class="line"></span><br><span class="line">barplot<span class="punctuation">(</span>height<span class="operator">=</span>data<span class="punctuation">,</span> horiz<span class="operator">=</span> <span class="literal">FALSE</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>height<span class="operator">=</span>data<span class="punctuation">,</span> horiz <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.6 col: æŸ±å­çš„å¡«å……è‰², é»˜è®¤ä¸ºç°è‰²</span></span><br><span class="line"><span class="comment"># 1.7 border: æŸ±å­è¾¹æ¡†çš„é¢œè‰², é»˜è®¤ä¸º black, å½“ borderä¸º NAæ—¶, è¡¨ç¤ºæ²¡æœ‰è¾¹æ¡†</span></span><br><span class="line"><span class="comment"># 1.8 main: è®¾ç½®å›¾å½¢æ ‡é¢˜</span></span><br><span class="line"><span class="built_in">c</span> <span class="operator">&lt;-</span> colors<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="built_in">c</span></span><br><span class="line"><span class="built_in">c</span><span class="punctuation">[</span><span class="number">2</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">]</span></span><br><span class="line"></span><br><span class="line">barplot<span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span> <span class="number">4</span><span class="punctuation">,</span> col<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">[</span><span class="number">2</span><span class="operator">:</span><span class="number">5</span><span class="punctuation">]</span><span class="punctuation">,</span> border <span class="operator">=</span> <span class="literal">NA</span><span class="punctuation">,</span> main<span class="operator">=</span><span class="string">&quot;å›¾å½¢æ ‡é¢˜&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">barplot<span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span> <span class="number">4</span><span class="punctuation">,</span> col<span class="operator">=</span>rainbow<span class="punctuation">(</span><span class="number">4</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span> <span class="number">4</span><span class="punctuation">,</span> col<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;red&quot;</span><span class="punctuation">,</span> <span class="string">&quot;green&quot;</span><span class="punctuation">,</span> <span class="string">&quot;antiquewhite&quot;</span><span class="punctuation">,</span> <span class="string">&quot;white&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>data<span class="punctuation">,</span> col<span class="operator">=</span>rainbow<span class="punctuation">(</span><span class="number">4</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.9 &amp; 1.10 density è®¾ç½®æŸ±å­ç”¨çº¿æ¡å¡«å……, density æ§åˆ¶çº¿æ¡çš„å¯†åº¦ï¼Œangle æ§åˆ¶çº¿æ¡çš„è§’åº¦</span></span><br><span class="line">par<span class="punctuation">(</span>mfrow<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">par</span><br><span class="line"></span><br><span class="line">barplot<span class="punctuation">(</span><span class="built_in">rep</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">)</span><span class="punctuation">,</span> density <span class="operator">=</span> <span class="number">1</span><span class="punctuation">,</span> angle <span class="operator">=</span> <span class="number">30</span><span class="punctuation">,</span> main <span class="operator">=</span> <span class="string">&quot;density = 1&quot;</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span><span class="built_in">rep</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">)</span><span class="punctuation">,</span> density <span class="operator">=</span> <span class="number">2</span><span class="punctuation">,</span> angle <span class="operator">=</span> <span class="number">90</span><span class="punctuation">,</span> main <span class="operator">=</span> <span class="string">&quot;density = 2&quot;</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span><span class="built_in">rep</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">)</span><span class="punctuation">,</span> density <span class="operator">=</span> <span class="number">3</span><span class="punctuation">,</span> angle <span class="operator">=</span> <span class="number">180</span><span class="punctuation">,</span> main <span class="operator">=</span> <span class="string">&quot;density = 3&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.11 axes: é€»è¾‘å€¼, æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºè½´çº¿(å¦‚ y è½´çº¿)</span></span><br><span class="line">barplot<span class="punctuation">(</span>data<span class="punctuation">,</span> axes <span class="operator">=</span> <span class="built_in">F</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>data<span class="punctuation">,</span> axes <span class="operator">=</span> <span class="built_in">T</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.12 axisnames: æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºæŸ±å­çš„æ ‡ç­¾</span></span><br><span class="line">barplot<span class="punctuation">(</span>data<span class="punctuation">,</span> axisnames <span class="operator">=</span> <span class="built_in">F</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>data<span class="punctuation">,</span> axisnames <span class="operator">=</span> <span class="built_in">T</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.13 beside: å½“è¾“å…¥å‚æ•°ä¸ºçŸ©é˜µæ—¶, é»˜è®¤æ˜¯å †ç§¯æŸ±çŠ¶å›¾, beside é»˜è®¤å€¼ä¸º FALSE;</span></span><br><span class="line"><span class="comment"># beside = FALSE æ—¶, æ¡å½¢å›¾çš„é«˜åº¦æ˜¯çŸ©é˜µçš„æ•°å€¼, çŸ©å½¢æ¡æ˜¯æ°´å¹³å †å çš„</span></span><br><span class="line"><span class="comment"># beside = TRUE æ—¶, æ¡å½¢å›¾çš„é«˜åº¦æ˜¯çŸ©é˜µçš„æ•°å€¼, çŸ©å½¢æ¡æ˜¯å¹¶åˆ—çš„</span></span><br><span class="line">data</span><br><span class="line">barplot<span class="punctuation">(</span>data<span class="punctuation">,</span> beside <span class="operator">=</span> <span class="built_in">F</span><span class="punctuation">)</span></span><br><span class="line">barplot<span class="punctuation">(</span>data<span class="punctuation">,</span> beside <span class="operator">=</span> <span class="built_in">T</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.14 legend.text: å›¾ä¾‹çš„æ–‡å­—è¯´æ˜</span></span><br><span class="line"><span class="comment"># åªæœ‰å½“ height å‚æ•°çš„å€¼æ˜¯ matrix æ—¶, æ‰èµ·ä½œç”¨</span></span><br><span class="line"><span class="comment"># é»˜è®¤æ˜¾ç¤ºçš„æ˜¯ matrix çš„ rownames å±æ€§</span></span><br><span class="line"><span class="comment"># å…¶å€¼æœ‰ä¸¤ç§æŒ‡å®šå½¢å¼:</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸€ç§: é€»è¾‘å€¼, æ˜¯å¦éœ€è¦æ˜¾ç¤ºå›¾ä¾‹, é»˜è®¤ä¸ºFALSE</span></span><br><span class="line">par<span class="punctuation">(</span>mfrow<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">data</span><br><span class="line">rownames<span class="punctuation">(</span>data<span class="punctuation">)</span> <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;A1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;A2&quot;</span><span class="punctuation">,</span> <span class="string">&quot;A3&quot;</span><span class="punctuation">,</span> <span class="string">&quot;A4&quot;</span><span class="punctuation">)</span></span><br><span class="line">data</span><br><span class="line">barplot<span class="punctuation">(</span>data<span class="punctuation">,</span> legend.text <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬äºŒç§, æŒ‡å®šå›¾ä¾‹ä¸­çš„æ–‡å­—å†…å®¹</span></span><br><span class="line"><span class="comment"># ç›¸å½“äºä¿®æ”¹äº† matrix çš„ rownames å±æ€§</span></span><br><span class="line">barplot<span class="punctuation">(</span>data<span class="punctuation">,</span> legend.text <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;D&quot;</span><span class="punctuation">,</span> <span class="string">&quot;E&quot;</span><span class="punctuation">,</span> <span class="string">&quot;F&quot;</span><span class="punctuation">,</span> <span class="string">&quot;G&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<h5 id="2-12-2-R-è¯­è¨€ç»˜åˆ¶-é¥¼å›¾ã€3Dé¥¼å›¾ç»˜åˆ¶"><a href="#2-12-2-R-è¯­è¨€ç»˜åˆ¶-é¥¼å›¾ã€3Dé¥¼å›¾ç»˜åˆ¶" class="headerlink" title="2.12.2 R è¯­è¨€ç»˜åˆ¶ é¥¼å›¾ã€3Dé¥¼å›¾ç»˜åˆ¶"></a>2.12.2 R è¯­è¨€ç»˜åˆ¶ é¥¼å›¾ã€3Dé¥¼å›¾ç»˜åˆ¶</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####### 2. ç»˜åˆ¶é¥¼å›¾</span></span><br><span class="line"><span class="comment"># 2.1 x: æ•°å€¼å‘é‡, è¡¨ç¤ºæ¯ä¸ªæ‰‡å½¢çš„é¢ç§¯</span></span><br><span class="line">x <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">21</span><span class="punctuation">,</span> <span class="number">62</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">53</span><span class="punctuation">)</span></span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.2 labels: å­—ç¬¦å‹å‘é‡, è¡¨ç¤ºå„æ‰‡å½¢é¢ç§¯æ ‡ç­¾</span></span><br><span class="line">x<span class="operator">&lt;-</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">21</span><span class="punctuation">,</span> <span class="number">62</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">53</span><span class="punctuation">)</span></span><br><span class="line"><span class="built_in">names</span><span class="punctuation">(</span>x<span class="punctuation">)</span> <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span></span><br><span class="line">x</span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">x<span class="operator">&lt;-</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">21</span><span class="punctuation">,</span> <span class="number">62</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">53</span><span class="punctuation">)</span></span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">)</span></span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">,</span> labels <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.3 radius: é¥¼å›¾çš„åŠå¾„</span></span><br><span class="line">x<span class="operator">&lt;-</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">21</span><span class="punctuation">,</span> <span class="number">62</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">53</span><span class="punctuation">)</span></span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">,</span> labels <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> radius <span class="operator">=</span> <span class="number">1</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.4 main: é¥¼å›¾çš„æ ‡é¢˜</span></span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">,</span> labels <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> radius <span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> main<span class="operator">=</span><span class="string">&quot;é¥¼å›¾&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.5 clockwise: ä¸€ä¸ªé€»è¾‘å€¼, ç”¨æ¥æŒ‡å®šé¥¼å›¾å„ä¸ªåˆ‡ç‰‡æ˜¯å¦æŒ‰é¡ºæ—¶é’ˆåšå‡ºåˆ†å‰²</span></span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">,</span> labels <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> radius <span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> main<span class="operator">=</span><span class="string">&quot;é¥¼å›¾&quot;</span><span class="punctuation">,</span> clockwise <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.6 &amp; 2.7</span></span><br><span class="line"><span class="comment"># angle: è®¾ç½®åº•çº¹çš„æ–œç‡</span></span><br><span class="line"><span class="comment"># density: åº•çº¹çš„å¯†åº¦, é»˜è®¤å€¼ä¸ºNULL</span></span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">,</span> labels <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> radius <span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> main<span class="operator">=</span><span class="string">&quot;é¥¼å›¾&quot;</span><span class="punctuation">,</span> clockwise <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> density <span class="operator">=</span> <span class="number">10</span><span class="punctuation">,</span> angle <span class="operator">=</span> <span class="number">20</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.8 col: æ¯ä¸ªæ‰‡é¢çš„é¢œè‰², ç›¸å½“äºè°ƒè‰²æ¿</span></span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">,</span> labels <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> </span><br><span class="line">    radius <span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> main<span class="operator">=</span><span class="string">&quot;é¥¼å›¾&quot;</span><span class="punctuation">,</span> clockwise <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> </span><br><span class="line">    density <span class="operator">=</span> <span class="number">10</span><span class="punctuation">,</span> angle <span class="operator">=</span> <span class="number">20</span><span class="punctuation">,</span> col <span class="operator">=</span> rainbow<span class="punctuation">(</span><span class="built_in">length</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">,</span> labels <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> </span><br><span class="line">    radius <span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> main<span class="operator">=</span><span class="string">&quot;é¥¼å›¾&quot;</span><span class="punctuation">,</span> clockwise <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> </span><br><span class="line">    col <span class="operator">=</span> rainbow<span class="punctuation">(</span><span class="built_in">length</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.9 è®¾ç½®ç™¾åˆ†æ•°</span></span><br><span class="line">piepercent <span class="operator">&lt;-</span> <span class="built_in">round</span><span class="punctuation">(</span>x<span class="operator">/</span><span class="built_in">sum</span><span class="punctuation">(</span>x<span class="punctuation">)</span> <span class="operator">*</span> <span class="number">100</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">pie<span class="punctuation">(</span>x<span class="punctuation">,</span> piepercent<span class="punctuation">,</span> radius<span class="operator">=</span><span class="number">0.5</span><span class="punctuation">,</span> main<span class="operator">=</span><span class="string">&quot;é¥¼å›¾&quot;</span><span class="punctuation">,</span> clockwise<span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> col<span class="operator">=</span>rainbow<span class="punctuation">(</span><span class="built_in">length</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.10 è®¾ç½®å›¾ä¾‹</span></span><br><span class="line">legend<span class="punctuation">(</span><span class="string">&quot;topright&quot;</span><span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">       fill <span class="operator">=</span> rainbow<span class="punctuation">(</span><span class="built_in">length</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">,</span> cex <span class="operator">=</span> <span class="number">0.8</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">legend<span class="punctuation">(</span><span class="string">&quot;topright&quot;</span><span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">       fill <span class="operator">=</span> rainbow<span class="punctuation">(</span><span class="built_in">length</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">,</span> horiz <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> cex <span class="operator">=</span> <span class="number">0.5</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.11 ç»˜åˆ¶ 3D é¥¼å›¾</span></span><br><span class="line">install.packages<span class="punctuation">(</span><span class="string">&quot;plotrix&quot;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&quot;plotrix&quot;</span><span class="punctuation">)</span></span><br><span class="line">lbl <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;London&quot;</span><span class="punctuation">,</span> <span class="string">&quot;New York&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Singapore&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Mumbai&quot;</span><span class="punctuation">)</span></span><br><span class="line">pie3D<span class="punctuation">(</span>x<span class="punctuation">,</span> labels <span class="operator">=</span> lbl<span class="punctuation">,</span> explode <span class="operator">=</span> <span class="number">0.1</span><span class="punctuation">,</span> main <span class="operator">=</span> <span class="string">&quot;åŸå¸‚ 3D é¥¼å›¾&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<h5 id="2-12-3-R-è¯­è¨€æ•£ç‚¹å›¾ã€æŠ˜çº¿å›¾ã€æ•£ç‚¹çŸ©é˜µå›¾"><a href="#2-12-3-R-è¯­è¨€æ•£ç‚¹å›¾ã€æŠ˜çº¿å›¾ã€æ•£ç‚¹çŸ©é˜µå›¾" class="headerlink" title="2.12.3 R è¯­è¨€æ•£ç‚¹å›¾ã€æŠ˜çº¿å›¾ã€æ•£ç‚¹çŸ©é˜µå›¾"></a>2.12.3 R è¯­è¨€æ•£ç‚¹å›¾ã€æŠ˜çº¿å›¾ã€æ•£ç‚¹çŸ©é˜µå›¾</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####### 3. ç»˜åˆ¶æ•£ç‚¹å›¾ã€æŠ˜çº¿å›¾ã€æ•£ç‚¹çŸ©é˜µå›¾</span></span><br><span class="line"><span class="comment"># 3.1 ç»˜åˆ¶æ•£ç‚¹å›¾ plot()</span></span><br><span class="line"><span class="comment"># x: æ¨ªåæ ‡, xè½´çš„æ•°æ®é›†åˆ</span></span><br><span class="line"><span class="comment"># y: çºµåæ ‡, yè½´çš„æ•°æ®é›†åˆ</span></span><br><span class="line"><span class="comment"># type: ç»˜å›¾çš„ç±»å‹, type=&quot;p&quot; ä¸ºç‚¹(é»˜è®¤); </span></span><br><span class="line"><span class="comment">#                   type=&quot;l&quot; åœ¨å›¾å½¢ä¸­æ•°æ®æ˜¾ç¤ºä¸ºçº¿;</span></span><br><span class="line"><span class="comment">#                   type=&quot;b&quot; åœ¨å›¾å½¢ä¸­æ•°æ®æ˜¾ç¤ºä¸ºç‚¹å’Œè¿æ¥çº¿;</span></span><br><span class="line"><span class="comment">#                   type=&quot;o&quot; åœ¨å›¾å½¢ä¸­æ•°æ®ç‚¹è¦†ç›–åœ¨çº¿ä¸Š;</span></span><br><span class="line"><span class="comment">#                   type=&quot;h&quot; åœ¨å›¾å½¢ä¸­æ•°æ®æ˜¾ç¤ºä¸ºä»ç‚¹åˆ°xè½´çš„å‚ç›´çº¿; </span></span><br><span class="line"><span class="comment">#                   type=&quot;s&quot; åœ¨å›¾å½¢ä¸­æ•°æ®æ˜¾ç¤ºä¸ºé˜¶æ¢¯å›¾;</span></span><br><span class="line"><span class="comment">#                   type=&quot;n&quot; åœ¨å›¾å½¢ä¸­æ•°æ®ä¸æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># main: å›¾è¡¨æ ‡é¢˜</span></span><br><span class="line"><span class="comment"># xlab/ylab: xè½´/yè½´çš„æ ‡ç­¾åç§°</span></span><br><span class="line"><span class="comment"># xlim/ylim: xè½´/yè½´çš„èŒƒå›´</span></span><br><span class="line"><span class="comment"># axes: å¸ƒå°”å€¼, æ˜¯å¦ç»˜åˆ¶ä¸¤ä¸ªåæ ‡è½´</span></span><br><span class="line"><span class="comment"># pch: ç‚¹çš„æ ·å¼ç”± pch çš„å–å€¼å†³å®š</span></span><br><span class="line"><span class="comment"># cex: è¡¨ç¤ºç›¸å¯¹äºé»˜è®¤å¤§å°ç¼©æ”¾å€æ•°çš„æ•°å€¼ã€‚é»˜è®¤å¤§å°ä¸º1, 1.5è¡¨ç¤ºæ”¾å¤§ä¸ºé»˜è®¤å€¼çš„1.5å€; 0.5è¡¨ç¤ºåšå°ä¸ºé»˜è®¤å¤§å°çš„0.5å€;</span></span><br><span class="line"></span><br><span class="line">cars        <span class="comment"># åŠ è½½è½¦è¾†æ—¶é€Ÿ-åˆ¹è½¦è·ç¦»æ•°æ®é›†</span></span><br><span class="line">cars<span class="operator">$</span>speed  <span class="comment"># æŸ¥çœ‹è½¦è¾†æ—¶é€Ÿ</span></span><br><span class="line">cars<span class="operator">$</span>dist   <span class="comment"># æŸ¥çœ‹è½¦è¾†åˆ¹è½¦è·ç¦»</span></span><br><span class="line"></span><br><span class="line">plot<span class="punctuation">(</span>cars<span class="operator">$</span>speed<span class="punctuation">,</span> cars<span class="operator">$</span>dist<span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>cars<span class="punctuation">[</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">]</span><span class="punctuation">,</span> cars<span class="punctuation">[</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>cars<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">plot<span class="punctuation">(</span>cars<span class="punctuation">,</span> main<span class="operator">=</span><span class="string">&quot;è½¦è¾†æ—¶é€Ÿ-åˆ¹è½¦è·ç¦»æ•£ç‚¹å›¾&quot;</span><span class="punctuation">,</span> xlab<span class="operator">=</span><span class="string">&quot;è½¦é€Ÿ&quot;</span><span class="punctuation">,</span> ylab<span class="operator">=</span><span class="string">&quot;åˆ¹è½¦è·ç¦»&quot;</span><span class="punctuation">,</span></span><br><span class="line">     col<span class="operator">=</span><span class="string">&quot;red&quot;</span><span class="punctuation">,</span> pch<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span> cex<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">with<span class="punctuation">(</span>classData<span class="punctuation">,</span> plot<span class="punctuation">(</span>height<span class="punctuation">,</span> weight<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.2 ç»˜åˆ¶æŠ˜çº¿å›¾ plot()</span></span><br><span class="line"><span class="comment"># type: ç»˜å›¾çš„ç±»å‹, type=&quot;p&quot; ä¸ºç‚¹(é»˜è®¤); </span></span><br><span class="line"><span class="comment">#                   type=&quot;l&quot; åœ¨å›¾å½¢ä¸­æ•°æ®æ˜¾ç¤ºä¸ºçº¿;</span></span><br><span class="line"><span class="comment">#                   type=&quot;b&quot; åœ¨å›¾å½¢ä¸­æ•°æ®æ˜¾ç¤ºä¸ºç‚¹å’Œè¿æ¥çº¿;</span></span><br><span class="line"><span class="comment">#                   type=&quot;o&quot; åœ¨å›¾å½¢ä¸­æ•°æ®ç‚¹è¦†ç›–åœ¨çº¿ä¸Š;</span></span><br><span class="line"><span class="comment">#                   type=&quot;h&quot; åœ¨å›¾å½¢ä¸­æ•°æ®æ˜¾ç¤ºä¸ºä»ç‚¹åˆ° x è½´çš„å‚ç›´çº¿(ç›´çº¿æ¡å½¢å›¾);</span></span><br><span class="line"><span class="comment">#                   type=&quot;s&quot; åœ¨å›¾å½¢ä¸­æ•°æ®æ˜¾ç¤ºä¸ºé˜¶æ¢¯å›¾;</span></span><br><span class="line"><span class="comment">#                   type=&quot;c&quot; åœ¨å›¾å½¢ä¸­æ•°æ®è™šçº¿å›¾;</span></span><br><span class="line"><span class="comment">#                   type=&quot;n&quot; åœ¨å›¾å½¢ä¸­æ•°æ®ä¸æ˜¾ç¤º</span></span><br><span class="line">plot<span class="punctuation">(</span>cars<span class="operator">$</span>speed<span class="punctuation">,</span> cars<span class="operator">$</span>dist<span class="punctuation">,</span> type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>cars<span class="operator">$</span>speed<span class="punctuation">,</span> cars<span class="operator">$</span>dist<span class="punctuation">,</span> type<span class="operator">=</span><span class="string">&quot;b&quot;</span><span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>cars<span class="operator">$</span>speed<span class="punctuation">,</span> cars<span class="operator">$</span>dist<span class="punctuation">,</span> type<span class="operator">=</span><span class="string">&quot;o&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># plot å¯ä»¥é…åˆlines() å‡½æ•°ç»˜åˆ¶å‡ºå¤šæ¡æŠ˜çº¿å›¾</span></span><br><span class="line"><span class="comment"># lines() å‡½æ•°å¿…é¡»ä¸ plot() å‡½æ•°é…åˆæ‰èƒ½ä½¿ç”¨, å…ˆç”¨ plot() å‡½æ•°ç”»å‡ºä¸€ä¸ªå›¾å½¢</span></span><br><span class="line"><span class="comment"># round(x, digits = 0) èˆå…¥å‡½æ•°, x ä¸ºæ•°å€¼å‘é‡, digitsè¡¨ç¤ºæœ‰æ•ˆä½æ•°, å¯ä»¥ä¸ºè´Ÿæ•°, è´Ÿæ•°è¡¨ç¤ºèˆå…¥åä½(-1)ã€ç™¾ä½(-2)...ç­‰</span></span><br><span class="line">x <span class="operator">&lt;-</span> 1<span class="operator">:</span> <span class="number">10</span></span><br><span class="line">beijing <span class="operator">&lt;-</span> <span class="built_in">round</span><span class="punctuation">(</span>rnorm<span class="punctuation">(</span><span class="number">10</span><span class="punctuation">,</span> mean <span class="operator">=</span> <span class="number">20</span><span class="punctuation">,</span> sd <span class="operator">=</span> <span class="number">2</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span></span><br><span class="line">beijing</span><br><span class="line">shanghai <span class="operator">&lt;-</span> <span class="built_in">round</span><span class="punctuation">(</span>rnorm<span class="punctuation">(</span><span class="number">10</span><span class="punctuation">,</span> mean <span class="operator">=</span> <span class="number">23</span><span class="punctuation">,</span> sd <span class="operator">=</span> <span class="number">3</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span></span><br><span class="line">shanghai</span><br><span class="line">guangzhou <span class="operator">&lt;-</span> <span class="built_in">round</span><span class="punctuation">(</span>rnorm<span class="punctuation">(</span><span class="number">10</span><span class="punctuation">,</span> mean <span class="operator">=</span> <span class="number">18</span><span class="punctuation">,</span> sd <span class="operator">=</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">)</span></span><br><span class="line">guangzhou</span><br><span class="line"></span><br><span class="line">plot<span class="punctuation">(</span>x<span class="punctuation">,</span> beijing<span class="punctuation">,</span> type <span class="operator">=</span> <span class="string">&quot;l&quot;</span><span class="punctuation">,</span> ylim <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">16</span><span class="punctuation">,</span> <span class="number">30</span><span class="punctuation">)</span><span class="punctuation">,</span> lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span> main <span class="operator">=</span> <span class="string">&quot;åŒ—ä¸Šå¹¿è¿‘åå¤©æ°”æ¸©å˜åŒ–è¶‹åŠ¿å›¾&quot;</span><span class="punctuation">)</span></span><br><span class="line">lines<span class="punctuation">(</span>x<span class="punctuation">,</span> shanghai<span class="punctuation">,</span> type <span class="operator">=</span> <span class="string">&quot;b&quot;</span><span class="punctuation">,</span> col<span class="operator">=</span><span class="string">&quot;blue&quot;</span><span class="punctuation">,</span> lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line">lines<span class="punctuation">(</span>x<span class="punctuation">,</span> guangzhou<span class="punctuation">,</span> type <span class="operator">=</span> <span class="string">&quot;l&quot;</span><span class="punctuation">,</span> col<span class="operator">=</span><span class="string">&quot;red&quot;</span><span class="punctuation">,</span> lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨ plot() ä¼šå•ç‹¬ç»˜åˆ¶ä¸€å¼ æ–°å›¾</span></span><br><span class="line">plot<span class="punctuation">(</span>x<span class="punctuation">,</span> shanghai<span class="punctuation">,</span> type <span class="operator">=</span> <span class="string">&quot;l&quot;</span><span class="punctuation">,</span> ylim <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">16</span><span class="punctuation">,</span> <span class="number">30</span><span class="punctuation">)</span><span class="punctuation">,</span> lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span> main <span class="operator">=</span> <span class="string">&quot;åŒ—ä¸Šå¹¿è¿‘åå¤©æ°”æ¸©å˜åŒ–è¶‹åŠ¿å›¾&quot;</span><span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>x<span class="punctuation">,</span> guangzhou<span class="punctuation">,</span> type <span class="operator">=</span> <span class="string">&quot;l&quot;</span><span class="punctuation">,</span> ylim <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">16</span><span class="punctuation">,</span> <span class="number">30</span><span class="punctuation">)</span><span class="punctuation">,</span> lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span> main <span class="operator">=</span> <span class="string">&quot;åŒ—ä¸Šå¹¿è¿‘åå¤©æ°”æ¸©å˜åŒ–è¶‹åŠ¿å›¾&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.3 ç»˜åˆ¶æ•£ç‚¹çŸ©é˜µå›¾</span></span><br><span class="line">mtcars     <span class="comment"># åŠ è½½ mtcars æ•°æ®é›†, æ•°æ®æ¥è‡ª1974å¹´ç¾å›½æ±½è½¦è¶‹åŠ¿æ‚å¿—, åŒ…æ‹¬32è¾†æ±½è½¦(1973-74æ¬¾) çš„æ²¹è€—å’Œ10ä¸ªæ–¹é¢çš„æ±½è½¦è®¾è®¡å’Œæ€§èƒ½</span></span><br><span class="line">           <span class="comment"># mpg(Miles Per Gallon): æ²¹è€—(æ¯åŠ ä»‘è‹±é‡Œ(ç¾å›½)), åŠŸèƒ½æ›´å¼ºå¤§, æ›´é‡çš„æ±½è½¦å¾€å¾€æ¶ˆè€—æ›´å¤šçš„ç‡ƒæ²¹</span></span><br><span class="line">           <span class="comment"># cyl(cylinders): æ±½ç¼¸æ•°, åŠŸç‡æ›´å¤§çš„æ±½è½¦é€šå¸¸å…·æœ‰æ›´å¤šçš„æ±½ç¼¸</span></span><br><span class="line">           <span class="comment"># disp(displacement, in cubic inches): æ’é‡(ç«‹æ–¹è‹±å¯¸), å‘åŠ¨æœºæ°”ç¼¸çš„æ€»å®¹ç§¯</span></span><br><span class="line">           <span class="comment"># hp(horsepower): æ€»é©¬åŠ›ï¼šè¿™æ˜¯æ±½è½¦äº§ç”Ÿçš„åŠŸç‡çš„é‡åº¦</span></span><br><span class="line">           <span class="comment"># dratï¼šdriveshaft ratio:åè½´æ¯”ç‡ï¼šè¿™æè¿°äº†é©±åŠ¨è½´çš„è½¬åŠ¨ä¸è½¦è½®çš„è½¬åŠ¨å¦‚ä½•å¯¹åº”ã€‚è¾ƒé«˜çš„å€¼ä¼šé™ä½ç‡ƒæ²¹æ•ˆç‡ã€‚</span></span><br><span class="line">           <span class="comment"># wt(weight): é‡é‡(1000ç£…)</span></span><br><span class="line">           <span class="comment"># qsec(1/4 mile time; a measure of acceleration): 1/4è‹±é‡Œæ—¶é—´ï¼šæ±½è½¦çš„é€Ÿåº¦å’ŒåŠ é€Ÿåº¦</span></span><br><span class="line">           <span class="comment"># vs(â€˜Vâ€™ or straight - engine shape): å‘åŠ¨æœºç¼¸ä½“, è¡¨ç¤ºè½¦è¾†çš„å‘åŠ¨æœºå½¢çŠ¶æ˜¯&quot;V&quot; å½¢è¿˜æ˜¯æ›´å¸¸è§çš„ç›´å½¢ã€‚</span></span><br><span class="line">           <span class="comment"># am(transmission; auto or manual): å˜é€Ÿç®±, è¿™è¡¨ç¤ºæ±½è½¦çš„å˜é€Ÿç®±æ˜¯è‡ªåŠ¨(0)è¿˜æ˜¯æ‰‹åŠ¨(1)ã€‚</span></span><br><span class="line">           <span class="comment"># gear(abbreviation of gears): å‰è¿›æŒ¡çš„æ•°é‡, è·‘è½¦å¾€å¾€å…·æœ‰æ›´å¤šçš„æŒ¡ä½</span></span><br><span class="line">           <span class="comment"># carb(abbreviation of carburetors): åŒ–æ²¹å™¨æ•°é‡, ä¸æ›´å¼ºå¤§çš„å‘åŠ¨æœºç›¸å…³</span></span><br><span class="line"></span><br><span class="line">pairs<span class="punctuation">(</span>mtcars<span class="punctuation">[</span><span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;wt&quot;</span><span class="punctuation">,</span> <span class="string">&quot;mpg&quot;</span><span class="punctuation">,</span> <span class="string">&quot;disp&quot;</span><span class="punctuation">,</span> <span class="string">&quot;cyl&quot;</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line">pairs<span class="punctuation">(</span>vs<span class="operator">~</span>wt <span class="operator">+</span> mpg <span class="operator">+</span> disp <span class="operator">+</span> cyl<span class="punctuation">,</span> data<span class="operator">=</span>mtcars<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<h5 id="2-12-4-R-è¯­è¨€ç»˜åˆ¶ç›´æ–¹å›¾"><a href="#2-12-4-R-è¯­è¨€ç»˜åˆ¶ç›´æ–¹å›¾" class="headerlink" title="2.12.4 R è¯­è¨€ç»˜åˆ¶ç›´æ–¹å›¾"></a>2.12.4 R è¯­è¨€ç»˜åˆ¶ç›´æ–¹å›¾</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-12-5-R-è¯­è¨€ç»˜åˆ¶æ ¸å¯†åº¦å›¾"><a href="#2-12-5-R-è¯­è¨€ç»˜åˆ¶æ ¸å¯†åº¦å›¾" class="headerlink" title="2.12.5 R è¯­è¨€ç»˜åˆ¶æ ¸å¯†åº¦å›¾"></a>2.12.5 R è¯­è¨€ç»˜åˆ¶æ ¸å¯†åº¦å›¾</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-12-6-R-è¯­è¨€ç»˜åˆ¶ç®±çº¿å›¾"><a href="#2-12-6-R-è¯­è¨€ç»˜åˆ¶ç®±çº¿å›¾" class="headerlink" title="2.12.6 R è¯­è¨€ç»˜åˆ¶ç®±çº¿å›¾"></a>2.12.6 R è¯­è¨€ç»˜åˆ¶ç®±çº¿å›¾</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-12-7-R-è¯­è¨€å°æç´å›¾"><a href="#2-12-7-R-è¯­è¨€å°æç´å›¾" class="headerlink" title="2.12.7 R è¯­è¨€å°æç´å›¾"></a>2.12.7 R è¯­è¨€å°æç´å›¾</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####### 7. å°æç´å›¾ </span></span><br><span class="line"><span class="comment"># vioplot åŒ…ä¸­çš„ vioplot å‡½æ•°ç”¨äºç»˜åˆ¶å°æç´å›¾, å°æç´å›¾æ˜¯æ ¸å¯†åº¦å›¾ä¸ç®±çº¿å›¾çš„ç»“åˆ</span></span><br><span class="line"><span class="comment"># install.packages(&quot;vioplot&quot;)</span></span><br><span class="line"><span class="comment"># install.packages(&quot;vioplot&quot;)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&quot;vioplot&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># `==` æ„ä¸ºæ¯”è¾ƒç­‰å·ä¸¤ç«¯æ˜¯å¦ç›¸ç­‰</span></span><br><span class="line">mpg4 <span class="operator">&lt;-</span> mtcars<span class="operator">$</span>mpg<span class="punctuation">[</span>mtcars<span class="operator">$</span>cyl <span class="operator">==</span> <span class="number">4</span><span class="punctuation">]</span></span><br><span class="line">mpg4</span><br><span class="line">mpg6 <span class="operator">&lt;-</span> mtcars<span class="operator">$</span>mpg<span class="punctuation">[</span>mtcars<span class="operator">$</span>cyl <span class="operator">==</span> <span class="number">6</span><span class="punctuation">]</span></span><br><span class="line">mpg6</span><br><span class="line">mpg8 <span class="operator">&lt;-</span> mtcars<span class="operator">$</span>mpg<span class="punctuation">[</span>mtcars<span class="operator">$</span>cyl <span class="operator">==</span> <span class="number">8</span><span class="punctuation">]</span></span><br><span class="line">mpg8</span><br><span class="line"></span><br><span class="line">vioplot<span class="punctuation">(</span>mpg4<span class="punctuation">,</span> mpg6<span class="punctuation">,</span> mpg8<span class="punctuation">,</span> <span class="built_in">names</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;4-cyl&quot;</span><span class="punctuation">,</span> <span class="string">&quot;6-cyl&quot;</span><span class="punctuation">,</span> <span class="string">&quot;8-cyl&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> col<span class="operator">=</span><span class="string">&quot;gold&quot;</span><span class="punctuation">)</span></span><br><span class="line">title<span class="punctuation">(</span><span class="string">&quot;å››/å…­/å…«ç¼¸ è½¦è¾†çš„æ²¹è€— (è‹±é‡Œ/åŠ ä»‘)&quot;</span><span class="punctuation">,</span> ylab<span class="operator">=</span><span class="string">&quot;Miles Per Gallon&quot;</span><span class="punctuation">,</span> xlab<span class="operator">=</span><span class="string">&quot;Num Of Cylinders&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å›¾ç‰‡çš„ä¿å­˜</span></span><br><span class="line">pdf<span class="punctuation">(</span>file<span class="operator">=</span><span class="string">&quot;fig-vioplot.pdf&quot;</span><span class="punctuation">,</span> height <span class="operator">=</span> <span class="number">10</span><span class="punctuation">,</span> width <span class="operator">=</span> <span class="number">10</span><span class="punctuation">,</span> family <span class="operator">=</span> <span class="string">&quot;GB1&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">vioplot<span class="punctuation">(</span>mpg<span class="operator">~</span>cyl<span class="punctuation">,</span> data<span class="operator">=</span>mtcars<span class="punctuation">,</span> xlab<span class="operator">=</span><span class="string">&quot;æ°”ç¼¸æ•°&quot;</span><span class="punctuation">,</span> ylab<span class="operator">=</span><span class="string">&quot;åŠ ä»‘æ¯è‹±é‡Œ&quot;</span><span class="punctuation">,</span> main<span class="operator">=</span><span class="string">&quot;é‡Œç¨‹æ•°æ®&quot;</span><span class="punctuation">,</span> <span class="built_in">names</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;4-cyl&quot;</span><span class="punctuation">,</span> <span class="string">&quot;6-cyl&quot;</span><span class="punctuation">,</span> <span class="string">&quot;8-cyl&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">dev.off   <span class="comment"># å…³é—­å›¾åƒè®¾å¤‡, æˆ‘ä»¬ç»å¸¸ä½¿ç”¨å›¾åƒè®¾å¤‡æ¥åˆ›å»ºå’Œä¿å­˜å›¾å½¢è¾“å‡º</span></span><br><span class="line">          <span class="comment"># å½“æˆ‘ä»¬å®Œæˆå›¾å½¢ç»˜åˆ¶å¹¶ä¸”ä¸å†éœ€è¦å°†å›¾å½¢è¾“å‡ºåˆ°è®¾å¤‡ä¸Šæ—¶, æˆ‘ä»¬éœ€è¦å…³é—­å›¾åƒè®¾å¤‡ä»¥é‡Šæ”¾ç³»ç»Ÿèµ„æºå¹¶ç¡®ä¿å›¾å½¢æ­£ç¡®ä¿å­˜</span></span><br><span class="line">          <span class="comment"># åœ¨ R ä¸­, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ dev.off() å‡½æ•°æ¥å…³é—­å½“å‰æ´»åŠ¨çš„å›¾åƒè®¾å¤‡</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-13-R-ç»˜å›¾å¸¸ç”¨æ‹“å±•åº“-ggplot2-ç»˜å›¾"><a href="#2-13-R-ç»˜å›¾å¸¸ç”¨æ‹“å±•åº“-ggplot2-ç»˜å›¾" class="headerlink" title="2.13 R ç»˜å›¾å¸¸ç”¨æ‹“å±•åº“ ggplot2 ç»˜å›¾"></a>2.13 <code>R</code> ç»˜å›¾å¸¸ç”¨æ‹“å±•åº“ <code>ggplot2</code> ç»˜å›¾</h4><p><strong>ç®€ä»‹ï¼š</strong><code>ggplot2</code>æ˜¯ä¸€æ¬¾å¼ºå¤§çš„å›¾å½¢å¯è§†åŒ–RåŒ…ï¼Œå…¶ä½œå›¾æ–¹å¼æ˜“äºç†è§£ï¼Œä¸”ç”Ÿæˆçš„å›¾å½¢ç²¾ç¾ï¼Œå®šåˆ¶åŒ–ç¨‹åº¦ä¹Ÿå¾ˆé«˜ï¼Œæ˜¯ R è¯­è¨€ä¸­å¾ˆæµè¡Œçš„å¯è§†åŒ–å·¥å…·ä¹‹ä¸€ã€‚</p>
<p><code>ggplot2</code> åŒ…æ˜¯ <code>R</code> çš„ä¸€ä¸ªä½œå›¾ç”¨çš„æ‰©å±•åŒ…ï¼Œå®ƒå®ç°äº† <em><strong>å›¾å½¢çš„è¯­æ³•</strong></em>ï¼Œå°†ä¸€ä¸ªä½œå›¾ä»»åŠ¡åˆ†æˆè‹¥å¹²å­ä»»åŠ¡ï¼Œåªéœ€è¦å®Œæˆå„ä¸ªå­ä»»åŠ¡å°±å¯ä»¥å®Œæˆä½œå›¾ã€‚åœ¨ç»˜åˆ¶å¸¸ç”¨å›¾å½¢æ—¶ï¼Œåªéœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><p>å°†å›¾å½¢æ‰€å±•ç°çš„æ•°æ®è¾“å…¥åˆ° <code>ggplot()</code> å‡½æ•°ä¸­</p>
</li>
<li><p>è°ƒç”¨æŸä¸ª <code>geom_xxx()</code> å‡½æ•°ï¼ŒæŒ‡å®šå›¾å½¢ç±»å‹ï¼Œå¦‚æ•£ç‚¹å›¾ã€é¢ç§¯å›¾ã€æ›²çº¿å›¾ã€ç›’å‹å›¾ç­‰ã€‚<code>geom_xxx()</code> æä¾›äº†å„ç§åŸºæœ¬å›¾å½¢ï¼Œå¦‚<code>geom_blank()</code> ä¸ç»˜åˆ¶å›¾å½¢ã€<code>geom_point()</code> æ¯ä¸ªè§‚æµ‹ä¸ºä¸€ä¸ªæ•£ç‚¹ã€<code>geom_hline(), geom_vline(), geom_abline()</code> ç»˜åˆ¶çº¿ç­‰ã€‚</p>
</li>
</ol>
<p><code>ggplot2</code> çš„ä½œå›¾çš„ä¸€èˆ¬æ­¥éª¤ä¸ºï¼š</p>
<ol>
<li><strong>å‡†å¤‡æ•°æ®ï¼š</strong>ä¸€èˆ¬ä¸ºæ•°æ®æ¡†ï¼Œä¸”ä¸€èˆ¬ä¸ºé•¿è¡¨ï¼Œå³æ¯ä¸ªè§‚æµ‹æ—¶é—´å ä¸€è¡Œï¼Œæ¯ä¸ªè§‚æµ‹å˜é‡å ä¸€åˆ—</li>
<li><strong>è¾“å…¥æ•°æ®ï¼š</strong>å°†æ•°æ®è¾“å…¥åˆ° <code>ggplot()</code> å‡½æ•°ä¸­ï¼Œå¹¶æŒ‡å®šå‚ä¸ä½œå›¾çš„æ¯ä¸ªå˜é‡åˆ†åˆ«æ˜ å°„åˆ°å“ªäº›å›¾å½¢ç‰¹æ€§</li>
<li><strong>é€‰æ‹©å›¾å½¢ç±»å‹ï¼š</strong>é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å›¾å½¢ç±»å‹ï¼Œå‡½æ•°åä»¥ <code>geom_</code> å¼€å¤´ï¼Œå¦‚ <code>geom_point()</code> è¡¨ç¤ºæ•£ç‚¹å›¾ã€‚</li>
<li>è®¾å®šæ ‡é¢˜å’Œå›¾ä¾‹ä½ç½®ç­‰ï¼Œå¦‚ <code>labs()</code>ï¼Œä»ç”¨åŠ å·è¿æ¥ã€‚</li>
</ol>
<p>æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">p <span class="operator">&lt;-</span> ggplot<span class="punctuation">(</span>data <span class="operator">=</span> <span class="operator">&lt;</span>è¾“å…¥æ•°æ®æ¡†<span class="operator">&gt;</span><span class="punctuation">,</span> </span><br><span class="line">            mapping <span class="operator">=</span> aes<span class="punctuation">(</span><span class="operator">&lt;</span>ç»´åº¦<span class="operator">&gt;=</span><span class="operator">&lt;</span>å˜é‡å<span class="operator">&gt;</span><span class="punctuation">,</span> </span><br><span class="line">                          <span class="operator">&lt;</span>ç»´åº¦<span class="operator">&gt;=</span><span class="operator">&lt;</span>å˜é‡å<span class="operator">&gt;</span><span class="punctuation">,</span> </span><br><span class="line">                          <span class="operator">&lt;</span>...<span class="operator">&gt;=</span><span class="operator">&lt;</span>...<span class="operator">&gt;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">p <span class="operator">+</span> geom_<span class="operator">&lt;</span>å›¾å½¢ç±»å‹<span class="operator">&gt;</span><span class="punctuation">(</span><span class="operator">&lt;</span>...<span class="operator">&gt;</span><span class="punctuation">)</span> <span class="operator">+</span> </span><br><span class="line">	scala_<span class="operator">&lt;</span>æ˜ å°„<span class="operator">&gt;</span>_<span class="operator">&lt;</span>ç±»å‹<span class="operator">&gt;</span><span class="punctuation">(</span><span class="operator">&lt;</span>...<span class="operator">&gt;</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">	coord_<span class="operator">&lt;</span>ç±»å‹<span class="operator">&gt;</span><span class="punctuation">(</span><span class="operator">&lt;</span>...<span class="operator">&gt;</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">	labs<span class="punctuation">(</span><span class="operator">&lt;</span>...<span class="operator">&gt;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<h5 id="2-13-1-ggplot2-ç»˜åˆ¶æ•£ç‚¹å›¾"><a href="#2-13-1-ggplot2-ç»˜åˆ¶æ•£ç‚¹å›¾" class="headerlink" title="2.13.1 ggplot2 ç»˜åˆ¶æ•£ç‚¹å›¾"></a>2.13.1 <code>ggplot2</code> ç»˜åˆ¶æ•£ç‚¹å›¾</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">####### ggplot2 ç»˜å›¾</span></span><br><span class="line"><span class="comment"># install.packages(&quot;ggplot2&quot;)     # å®‰è£… ggplot2 ç»˜å›¾åº“</span></span><br><span class="line"><span class="comment"># install.packages(&quot;gapminder&quot;)   # å®‰è£… gapminder æ•°æ®é›†</span></span><br><span class="line"></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&quot;ggplot2&quot;</span><span class="punctuation">)</span>                <span class="comment"># ç»˜å›¾åŒ…</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&quot;gapminder&quot;</span><span class="punctuation">)</span>              <span class="comment"># æ•°æ®é›†åŒ…</span></span><br><span class="line"></span><br><span class="line">gapminder</span><br><span class="line"></span><br><span class="line">dev.new<span class="punctuation">(</span><span class="punctuation">)</span>                         <span class="comment"># æ‰“å¼€ç»˜å›¾è®¾å¤‡</span></span><br><span class="line">p <span class="operator">&lt;-</span> ggplot<span class="punctuation">(</span>data <span class="operator">=</span> gapminder<span class="punctuation">,</span></span><br><span class="line">            mapping <span class="operator">=</span> aes<span class="punctuation">(</span></span><br><span class="line">              x <span class="operator">=</span> gdpPercap<span class="punctuation">,</span></span><br><span class="line">              y <span class="operator">=</span> lifeExp<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">p <span class="operator">&lt;-</span> ggplot<span class="punctuation">(</span>data <span class="operator">=</span> gapminder<span class="punctuation">,</span></span><br><span class="line">            aes<span class="punctuation">(</span>gdpPercap<span class="punctuation">,</span> lifeExp<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">p <span class="operator">+</span> geom_point<span class="punctuation">(</span><span class="punctuation">)</span>  <span class="comment"># æ•£ç‚¹å›¾</span></span><br><span class="line">p <span class="operator">+</span> geom_smooth<span class="punctuation">(</span><span class="punctuation">)</span> <span class="comment"># æ‹Ÿåˆæ›²çº¿å›¾</span></span><br><span class="line">p <span class="operator">+</span> geom_point<span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">+</span> geom_smooth<span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line">dev.off<span class="punctuation">(</span><span class="punctuation">)</span>		  <span class="comment"># å…³é—­ç»˜å›¾è®¾å¤‡</span></span><br></pre></td></tr></table></figure>

<h5 id="2-13-2-ggplot2-ç»˜åˆ¶é¢ç§¯å›¾"><a href="#2-13-2-ggplot2-ç»˜åˆ¶é¢ç§¯å›¾" class="headerlink" title="2.13.2 ggplot2 ç»˜åˆ¶é¢ç§¯å›¾"></a>2.13.2 <code>ggplot2</code> ç»˜åˆ¶é¢ç§¯å›¾</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¢ç§¯å›¾</span></span><br><span class="line"><span class="comment"># å®šä¹‰æ•°æ®æ¡† data.frame</span></span><br><span class="line">df <span class="operator">&lt;-</span> data.frame<span class="punctuation">(</span></span><br><span class="line">  year<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1700</span><span class="punctuation">,</span> <span class="number">1701</span><span class="punctuation">,</span> <span class="number">1702</span><span class="punctuation">,</span> <span class="number">1703</span><span class="punctuation">,</span> <span class="number">1704</span><span class="punctuation">,</span> </span><br><span class="line">         <span class="number">1705</span><span class="punctuation">,</span> <span class="number">1706</span><span class="punctuation">,</span> <span class="number">1707</span><span class="punctuation">,</span> <span class="number">1708</span><span class="punctuation">,</span> <span class="number">1709</span><span class="punctuation">,</span></span><br><span class="line">         <span class="number">1710</span><span class="punctuation">,</span> <span class="number">1711</span><span class="punctuation">,</span> <span class="number">1712</span><span class="punctuation">,</span> <span class="number">1713</span><span class="punctuation">,</span> <span class="number">1714</span><span class="punctuation">,</span></span><br><span class="line">         <span class="number">1715</span><span class="punctuation">,</span> <span class="number">1716</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">  sunspots<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span> <span class="number">5.0</span><span class="punctuation">,</span> <span class="number">11.0</span><span class="punctuation">,</span> <span class="number">16.0</span><span class="punctuation">,</span> <span class="number">23.0</span><span class="punctuation">,</span> <span class="number">36.0</span><span class="punctuation">,</span></span><br><span class="line">             <span class="number">58.0</span><span class="punctuation">,</span> <span class="number">29.0</span><span class="punctuation">,</span> <span class="number">20.0</span><span class="punctuation">,</span> <span class="number">10.0</span><span class="punctuation">,</span>  <span class="number">8.0</span><span class="punctuation">,</span></span><br><span class="line">              <span class="number">3.0</span><span class="punctuation">,</span>  <span class="number">0.0</span><span class="punctuation">,</span>  <span class="number">0.0</span><span class="punctuation">,</span>  <span class="number">2.0</span><span class="punctuation">,</span> <span class="number">11.0</span><span class="punctuation">,</span></span><br><span class="line">             <span class="number">27.0</span><span class="punctuation">,</span> <span class="number">47.0</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">p <span class="operator">&lt;-</span> ggplot<span class="punctuation">(</span>data <span class="operator">=</span> df<span class="punctuation">,</span> mapping <span class="operator">=</span> aes<span class="punctuation">(</span>year<span class="punctuation">,</span> sunspots<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">p <span class="operator">+</span> geom_area<span class="punctuation">(</span>fill <span class="operator">=</span> <span class="string">&quot;blue&quot;</span><span class="punctuation">,</span> alpha <span class="operator">=</span> <span class="number">0.2</span><span class="punctuation">,</span> col <span class="operator">=</span> <span class="string">&quot;red&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<h5 id="2-13-3-ggplot2-ç»˜åˆ¶å †å é¢ç§¯å›¾"><a href="#2-13-3-ggplot2-ç»˜åˆ¶å †å é¢ç§¯å›¾" class="headerlink" title="2.13.3 ggplot2 ç»˜åˆ¶å †å é¢ç§¯å›¾"></a>2.13.3 <code>ggplot2</code> ç»˜åˆ¶å †å é¢ç§¯å›¾</h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ğŸ«-3-ECharts-EChartsçš„ç®€å•ä½¿ç”¨"><a href="#ğŸ«-3-ECharts-EChartsçš„ç®€å•ä½¿ç”¨" class="headerlink" title="ğŸ« 3. ECharts - EChartsçš„ç®€å•ä½¿ç”¨"></a>ğŸ« 3. <code>ECharts</code> - <code>ECharts</code>çš„ç®€å•ä½¿ç”¨</h3><h4 id="3-1-ECharts-ç®€ä»‹"><a href="#3-1-ECharts-ç®€ä»‹" class="headerlink" title="3.1 ECharts ç®€ä»‹"></a>3.1 ECharts ç®€ä»‹</h4><ul>
<li><em>ECharts</em> æ¦‚å¿µï¼šä¸€ä¸ªåŸºäº <em><strong>JavaScript</strong></em> çš„å¼€æºå¯è§†åŒ–å›¾è¡¨åº“ï¼ˆåˆ«äººå†™å¥½äº† <code>.js</code>ï¼Œæˆ‘ç›´æ¥ä½¿ç”¨ï¼‰ï¼Œå¯ä»¥æµç•…çš„è¿è¡Œåœ¨ PC å’Œç§»åŠ¨è®¾å¤‡ä¸Šï¼Œå…¼å®¹å½“å‰ç»å¤§éƒ¨åˆ†æµè§ˆå™¨ï¼ˆ<em>IE 9&#x2F;10&#x2F;11</em>ï¼Œ<em>Chrome</em>ï¼Œ<em>Firefox</em>ï¼Œ<em>Safari</em> ç­‰ï¼‰ï¼Œåº•å±‚ä¾èµ–çŸ¢é‡å›¾å½¢åº“ *<a target="_blank" rel="noopener" href="https://github.com/ecomfe/zrender">ZRender</a>*ï¼Œæä¾›ç›´è§‚ï¼Œäº¤äº’ä¸°å¯Œï¼Œå¯é«˜åº¦ä¸ªæ€§åŒ–å®šåˆ¶çš„æ•°æ®å¯è§†åŒ–å›¾è¡¨ã€‚</li>
<li>å®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/download.html">ECharts</a></li>
<li>ç‰¹æ€§ï¼š<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/feature.html">ECharts Feature</a></li>
<li>è·å– <code>Apache ECharts</code><ul>
<li><p>é€šè¿‡ <code>GitHub</code> è·å–</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/apache/echarts">Apache&#x2F;ECharts</a> é¡¹ç›®çš„ <a target="_blank" rel="noopener" href="https://github.com/apache/echarts/releases">release</a> é¡µé¢å¯ä»¥æ‰¾åˆ°å„ä¸ªç‰ˆæœ¬çš„é“¾æ¥ã€‚ç‚¹å‡»ä¸‹è½½é¡µé¢ä¸‹æ–¹ <code>Assets</code> ä¸­çš„ <code>Source code</code>ï¼Œè§£å‹åå³ä¸ºåŒ…å«å®Œæ•´ ECharts åŠŸèƒ½çš„æ–‡ä»¶ã€‚</li>
<li><code>echarts-5.4.0/echarts-5.4.0/dist/echarts.common.js </code>  ä¸ <code>echarts-5.4.0/echarts-5.4.0/dist/echarts.common.min.js</code>ï¼šä½“ç§¯é€‚ä¸­ï¼Œå¸¸ç”¨ç‰ˆï¼Œæ”¯æŒå¸¸è§çš„å›¾è¡¨å’Œç»„ä»¶</li>
<li><code>echarts-5.4.0/echarts-5.4.0/dist/echarts.js</code> ä¸ <code>echarts-5.4.0/echarts-5.4.0/dist/echarts.min.js</code>ï¼šä½“ç§¯æœ€å¤§ï¼Œå®Œæ•´ç‰ˆï¼ŒåŒ…å«æ‰€æœ‰æ”¯æŒçš„å›¾è¡¨å’Œç»„ä»¶ã€‚</li>
<li><code>echarts-5.4.0/echarts-5.4.0/dist/echarts.simple.js</code> ä¸ <code>echarts-5.4.0/echarts-5.4.0/dist/echarts.simple.min.js</code>ï¼šä½“ç§¯è¾ƒå°ï¼Œç²¾ç®€ç‰ˆï¼ŒåŒ…å«æœ€å¸¸ç”¨çš„å›¾è¡¨å’Œç»„ä»¶ã€‚</li>
</ul>
</li>
<li><p>ä» <code>npm</code> è·å–</p>
<ul>
<li><code>npm install echarts</code></li>
</ul>
</li>
<li><p>ä» <code>CDN</code> è·å–</p>
<ul>
<li><code>&lt;script src=&quot;https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;&gt;&lt;/script&gt;</code></li>
</ul>
</li>
<li><p>åœ¨çº¿å®šåˆ¶</p>
</li>
</ul>
</li>
</ul>
<h4 id="3-2-ç¬¬ä¸€ä¸ª-ECharts-ç¨‹åº"><a href="#3-2-ç¬¬ä¸€ä¸ª-ECharts-ç¨‹åº" class="headerlink" title="3.2 ç¬¬ä¸€ä¸ª ECharts ç¨‹åº"></a>3.2 ç¬¬ä¸€ä¸ª <code>ECharts</code> ç¨‹åº</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>ç¬¬ä¸€ä¸ª ECharts ç¨‹åº<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 1. å¼•å…¥ ECharts.js ç±»åº“æ–‡ä»¶ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;js/echarts.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 3. å®ä¾‹åŒ– ECharts å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;main&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(dom);</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 4. æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">text</span>: <span class="string">&quot;ECharts å…¥é—¨æ¡ˆä¾‹&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">tooltip</span>: &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;é”€é‡&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">xAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;è¡¬è¡«&#x27;</span>, <span class="string">&#x27;ç¾Šæ¯›è¡«&#x27;</span>, <span class="string">&#x27;é›ªçººè¡«&#x27;</span>, <span class="string">&#x27;å¸½å­&#x27;</span>, <span class="string">&#x27;é«˜è·Ÿé‹&#x27;</span>, <span class="string">&#x27;è¢œå­&#x27;</span>] </span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">yAxis</span>: &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>: [&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">name</span>: <span class="string">&#x27;é”€é‡&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">26</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">8</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;]</span></span><br><span class="line"><span class="language-javascript">                &#125;;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 5. ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨</span></span></span><br><span class="line"><span class="language-javascript">                myChart.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">	    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 2. å‡†å¤‡ä¸€ä¸ªæ”¾å›¾è¡¨çš„å®¹å™¨ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 900px; height: 400px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-3-ECharts-ç»˜å›¾æµç¨‹"><a href="#3-3-ECharts-ç»˜å›¾æµç¨‹" class="headerlink" title="3.3 ECharts ç»˜å›¾æµç¨‹"></a>3.3 ECharts ç»˜å›¾æµç¨‹</h4><ol>
<li>æ–°å»ºä¸€ä¸ª HTML æ–‡ä»¶ï¼Œå¹¶åœ¨ç½‘é¡µå¤´éƒ¨ <code>&lt;head&gt; ... &lt;/head&gt;</code> éƒ¨åˆ†å¼•å…¥åœ¨çº¿çš„ <code>ECharts</code> ç±»åº“æˆ–è€…æœ¬åœ°å·²ç»ä¸‹è½½å¥½çš„ç±»åº“ã€‚</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼•å…¥åœ¨çº¿çš„ ECharts ç±»åº“æˆ–è€…æœ¬åœ°å·²ç»ä¸‹è½½å¥½çš„ç±»åº“ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;js/echarts.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åœ¨ç½‘é¡µåˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œä¸º <code>ECharts</code> å‡†å¤‡ä¸€ä¸ªå…·å¤‡å¤§å°ï¼ˆå®½é«˜ï¼‰çš„ <strong><code>DOM</code></strong> <em>ï¼ˆDocument Object Model, æ–‡ä»¶å¯¹è±¡æ¨¡å‹ )</em> ã€‚</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸º ECharts å‡†å¤‡ä¸€ä¸ªå…·å¤‡å¤§å°(å®½é«˜)çš„ DOM --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 600px; height: 400px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å½“é¡µé¢åŠ è½½æ—¶ï¼Œè·å– <code>DOM</code>ï¼Œå¹¶åˆå§‹åŒ– <code>ECharts</code> å¯¹è±¡</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;main&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(dom);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>æŒ‡å®šé…ç½®é¡¹ä¿¡æ¯</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// çœç•¥ä¸Šä¸€æ­¥çš„æ“ä½œ</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> options = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>: <span class="string">&quot;ECharts å…¥é—¨æ¡ˆä¾‹&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>: &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">&#x27;é”€é‡&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">&#x27;è¡¬è¡«&#x27;</span>, <span class="string">&#x27;ç¾Šæ¯›è¡«&#x27;</span>, <span class="string">&#x27;é›ªçººè¡«&#x27;</span>, <span class="string">&#x27;è£¤å­&#x27;</span>, <span class="string">&#x27;é«˜è·Ÿé‹&#x27;</span>, <span class="string">&#x27;è¢œå­&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>: &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">name</span>:<span class="string">&#x27;é”€é‡&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>, <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>]&#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// çœç•¥ä¸Šä¸€æ­¥çš„æ“ä½œ...</span></span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option);        </span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-4-ECharts-å¸¸ç”¨é…ç½®é¡¹è¯¦è§£"><a href="#3-4-ECharts-å¸¸ç”¨é…ç½®é¡¹è¯¦è§£" class="headerlink" title="3.4 ECharts å¸¸ç”¨é…ç½®é¡¹è¯¦è§£"></a>3.4 ECharts å¸¸ç”¨é…ç½®é¡¹è¯¦è§£</h4><p>å®Œæˆç®€å•æŸ±çŠ¶å›¾çš„ç»˜åˆ¶éœ€è¦åŒ…å«çš„ç»„ä»¶åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>xAxis</code>ï¼šX è½´ç»„ä»¶</li>
<li><code>yAxis</code>ï¼šY è½´ç»„ä»¶</li>
<li><code>series</code>ï¼šç³»åˆ—ç»„ä»¶ï¼ˆæˆ‘æ›´å–œæ¬¢ç§°å…¶åºåˆ—ç»„ä»¶ï¼‰</li>
</ul>
<p>å®Œå–„å›¾å½¢è¡¥å……ç»„ä»¶ï¼š</p>
<ul>
<li><code>title</code>ï¼šæ ‡é¢˜ç»„ä»¶</li>
<li><code>legend</code>ï¼šå›¾ä¾‹ç»„ä»¶</li>
<li><code>tooltip</code>ï¼šæç¤ºæ¡†ç»„ä»¶</li>
<li><code>toolbox</code>ï¼šå·¥å…·æ é…ç½®é¡¹</li>
<li><code>datazoom</code>ï¼šæ•°æ®åŒºåŸŸç¼©æ”¾</li>
</ul>
<h4 id="3-5-ECharts-æ ·å¼è®¾ç½®"><a href="#3-5-ECharts-æ ·å¼è®¾ç½®" class="headerlink" title="3.5 ECharts æ ·å¼è®¾ç½®"></a>3.5 ECharts æ ·å¼è®¾ç½®</h4><h5 id="3-5-1-ECharts-é¢œè‰²ä¸»é¢˜-Theme"><a href="#3-5-1-ECharts-é¢œè‰²ä¸»é¢˜-Theme" class="headerlink" title="3.5.1 ECharts é¢œè‰²ä¸»é¢˜(Theme)"></a>3.5.1 ECharts é¢œè‰²ä¸»é¢˜(Theme)</h5><ul>
<li>å†…ç½®é¢œè‰²ä¸»é¢˜ï¼ˆ<code>dark</code>ã€<code>light</code>ï¼‰</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>æ ·å¼è®¾ç½®<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;js/echarts.min.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.staticfile.org/jquery/2.2.4/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height=900px; width:400px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;main&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å†…ç½®é¢œè‰²ä¸»é¢˜</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// var myCharts = echarts.init(dom, &quot;light&quot;);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> myCharts = echarts.<span class="title function_">init</span>(dom, <span class="string">&quot;dark&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> options = &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">text</span>: <span class="string">&quot;ECharts å…¥é—¨æ¡ˆä¾‹&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">tooltip</span>: &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;é”€é‡&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">xAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;è¡¬è¡«&#x27;</span>, <span class="string">&#x27;ç¾Šæ¯›è¡«&#x27;</span>, <span class="string">&#x27;é›ªçººè¡«&#x27;</span>, <span class="string">&#x27;è£¤å­&#x27;</span>, <span class="string">&#x27;é«˜è·Ÿé‹&#x27;</span>, <span class="string">&#x27;è¢œå­&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">yAxis</span>: &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123;<span class="attr">name</span>:<span class="string">&#x27;é”€é‡&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>, <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>]&#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                myCharts.<span class="title function_">setOption</span>(options);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>è‡ªå®šä¹‰é¢œè‰²ä¸»é¢˜</p>
<ul>
<li>é€šè¿‡ <code>JavaScript</code> å®šä¹‰é¢œè‰²ä¸»é¢˜</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">  </span><br></pre></td></tr></table></figure>

<ul>
<li>é€šè¿‡ <code>Json + jQuery</code> å®šä¹‰é¢œè‰²ä¸»é¢˜</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">  </span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="3-5-2-ECharts-è°ƒè‰²ç›˜"><a href="#3-5-2-ECharts-è°ƒè‰²ç›˜" class="headerlink" title="3.5.2 ECharts è°ƒè‰²ç›˜"></a>3.5.2 ECharts è°ƒè‰²ç›˜</h5><ul>
<li>å…¨å±€è°ƒè‰²ç›˜</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>ECharts å…¨å±€è°ƒè‰²ç›˜<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;js/echarts.min.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.staticfile.org/jquery/2.2.4/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 900px; height: 400px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        	<span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>);	<span class="comment">// è·å–åˆ° DOM</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> myCharts = echarts.<span class="title function_">init</span>(dom);			<span class="comment">// åˆå§‹åŒ– EChartså¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å®šä¹‰é€‰é¡¹</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> options = &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// é¢œè‰²ç»„ä»¶â€”â€”å…¨å±€è°ƒè‰²ç›˜</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;yellow&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">xAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">position</span>: <span class="string">&quot;bottom&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;è¡¬è¡«&#x27;</span>, <span class="string">&#x27;ç¾Šæ¯›è¡«&#x27;</span>, <span class="string">&#x27;é›ªçººè¡«&#x27;</span>, <span class="string">&#x27;è£¤å­&#x27;</span>, <span class="string">&#x27;é«˜è·Ÿé‹&#x27;</span>, <span class="string">&#x27;è¢œå­&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">yAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">max</span>: <span class="number">50</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// ç³»åˆ—ç»„ä»¶</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">type</span>: <span class="string">&quot;bar&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;é”€é‡1&quot;</span>, <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>] &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">type</span>: <span class="string">&quot;line&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;é”€é‡2&quot;</span>, <span class="attr">data</span>: [<span class="number">4</span>, <span class="number">30</span>, <span class="number">26</span>, <span class="number">14</span>, <span class="number">8</span>, <span class="number">15</span>] &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                myCharts.<span class="title function_">setOption</span>(options);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ç³»åˆ—è°ƒè‰²ç›˜</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>ECharts ç³»åˆ—è°ƒè‰²ç›˜<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;js/echarts.min.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.staticfile.org/jquery/2.2.4/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 900px; height: 400px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        	<span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>);	<span class="comment">// è·å–åˆ° DOM</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> myCharts = echarts.<span class="title function_">init</span>(dom);			<span class="comment">// åˆå§‹åŒ– EChartså¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å®šä¹‰é€‰é¡¹</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> options = &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// é¢œè‰²ç»„ä»¶â€”â€”å…¨å±€è°ƒè‰²ç›˜</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;yellow&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">xAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">position</span>: <span class="string">&quot;bottom&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;è¡¬è¡«&#x27;</span>, <span class="string">&#x27;ç¾Šæ¯›è¡«&#x27;</span>, <span class="string">&#x27;é›ªçººè¡«&#x27;</span>, <span class="string">&#x27;è£¤å­&#x27;</span>, <span class="string">&#x27;é«˜è·Ÿé‹&#x27;</span>, <span class="string">&#x27;è¢œå­&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">yAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">max</span>: <span class="number">50</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// ç³»åˆ—ç»„ä»¶</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">type</span>: <span class="string">&quot;bar&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;é”€é‡1&quot;</span>, <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>], <span class="attr">color</span>: [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>] &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">type</span>: <span class="string">&quot;line&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;é”€é‡2&quot;</span>, <span class="attr">data</span>: [<span class="number">4</span>, <span class="number">30</span>, <span class="number">26</span>, <span class="number">14</span>, <span class="number">8</span>, <span class="number">15</span>] &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                myCharts.<span class="title function_">setOption</span>(options);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ç³»åˆ—è°ƒè‰²ç›˜ä¸å…¨å±€è°ƒè‰²ç›˜åŒæ—¶å‡ºç°ï¼š<ul>
<li>å½“ç³»åˆ—è°ƒè‰²ç›˜ä¸å…¨å±€è°ƒè‰²ç›˜åŒæ—¶å‡ºç°æ—¶ï¼Œå›¾è¡¨ä½¿ç”¨ç³»åˆ—è°ƒè‰²ç›˜ä¸­é…ç½®çš„é¢œè‰²ã€‚</li>
</ul>
</li>
</ul>
<h5 id="3-5-3-ECharts-ç›´æ¥æ ·å¼è®¾ç½®"><a href="#3-5-3-ECharts-ç›´æ¥æ ·å¼è®¾ç½®" class="headerlink" title="3.5.3 ECharts ç›´æ¥æ ·å¼è®¾ç½®"></a>3.5.3 ECharts ç›´æ¥æ ·å¼è®¾ç½®</h5><p>ç›´æ¥æ ·å¼è®¾ç½®ï¼ˆ<code>itemStyle</code>ã€<code>lineStyle</code>ã€<code>areaStyle</code>ã€<code>label</code>ã€â€¦ï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>ECharts å…¨å±€è°ƒè‰²ç›˜<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;js/echarts.min.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.staticfile.org/jquery/2.2.4/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:900px; height: 400px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        	<span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;main&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(dom);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> options = &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">xAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">position</span>: <span class="string">&#x27;bottom&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;è¡¬è¡«&#x27;</span>, <span class="string">&#x27;ç¾Šæ¯›è¡«&#x27;</span>, <span class="string">&#x27;é›ªçººè¡«&#x27;</span>, <span class="string">&#x27;è£¤å­&#x27;</span>, <span class="string">&#x27;é«˜è·Ÿé‹&#x27;</span>, <span class="string">&#x27;è¢œå­&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">yAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">max</span>: <span class="number">50</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">type</span>: <span class="string">&#x27;scatter&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>: <span class="string">&#x27;é”€é‡1&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>], </span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">symbol</span>: <span class="string">&#x27;triangle&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">symbolSize</span>:<span class="number">20</span>, </span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">itemStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">borderWidth</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">borderColor</span>: <span class="string">&#x27;blue&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">itemStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">color</span>: <span class="string">&#x27;green&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                                &#125;,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">formmatter</span>: <span class="string">&quot;&#123;a&#125;\n&#123;b&#125;&#123;c&#125;&quot;</span>, <span class="comment">// è¿™æ˜¯ä¸€ä¸ª label</span></span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">position</span>: <span class="string">&#x27;right&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;,&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">type</span>: <span class="string">&#x27;scatter&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>: <span class="string">&#x27;é”€é‡2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">data</span>: [<span class="number">4</span>, <span class="number">30</span>, <span class="number">26</span>, <span class="number">14</span>, <span class="number">8</span>, <span class="number">15</span>]</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">text</span>: <span class="string">&#x27;ä¸»æ ‡é¢˜-ç‚¹å‡»è®¿é—®ç™¾åº¦&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">link</span>: <span class="string">&#x27;https//www.baidu.com/&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">target</span>: <span class="string">&#x27;blank&#x27;</span>,	<span class="comment">// æˆ–è€… self ä¹Ÿå¯ä»¥</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">subtext</span>: <span class="string">&#x27;å‰¯æ ‡é¢˜-ç‚¹å‡»è®¿é—®ä¸ªäººç½‘ç«™&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">sublink</span>: <span class="string">&#x27;http://hello-nilera.com/&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        subtarget</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">textStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">fontSize</span>: <span class="number">30</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">fontStyle</span>: <span class="string">&#x27;italic&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">fontWeight</span>: <span class="string">&#x27;normal&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                myChart.<span class="title function_">setOption</span>(options);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="3-5-4-ECharts-è§†è§‰æ˜ å°„-Visual-Map"><a href="#3-5-4-ECharts-è§†è§‰æ˜ å°„-Visual-Map" class="headerlink" title="3.5.4 ECharts è§†è§‰æ˜ å°„(Visual Map)"></a>3.5.4 ECharts è§†è§‰æ˜ å°„(Visual Map)</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>æ ·å¼è®¾ç½®â€”â€”è§†è§‰æ˜ å°„ç»„ä»¶<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;js/echarts.min.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.staticfile.org/jquery/2.2.4/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 900px; height: 400px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        	<span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(dom);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> options = &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// è¿ç»­å‹è§†è§‰æ˜ å°„ç»„ä»¶</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    visualMap: [</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                            type: &#x27;continuous&#x27;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                            min: 0,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                            max: 40,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                            range: [4, 15],</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                            calculable: true</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    ],</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    */</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// åˆ†æ®µå‹è§†è§‰æ˜ å°„ç»„ä»¶</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">visualMap</span>: [&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;piecewise&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">min</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">max</span>: <span class="number">40</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">text</span>: <span class="string">&#x27;ECharts è§†è§‰æ˜ å°„ç»„ä»¶&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">tooltip</span>: &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;é”€é‡&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">xAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;è¡¬è¡«&#x27;</span>, <span class="string">&#x27;ç¾Šæ¯›è¡«&#x27;</span>, <span class="string">&#x27;é›ªçººè¡«&#x27;</span>, <span class="string">&#x27;è£¤å­&#x27;</span>, <span class="string">&#x27;é«˜è·Ÿé‹&#x27;</span>, <span class="string">&#x27;è¢œå­&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">yAxis</span>: &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>: <span class="string">&#x27;é”€é‡ 1&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>]</span></span><br><span class="line"><span class="language-javascript">                        &#125;,&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>: <span class="string">&#x27;é”€é‡ 2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">data</span>: [<span class="number">8</span>, <span class="number">12</span>, <span class="number">30</span>, <span class="number">15</span>, <span class="number">18</span>, <span class="number">26</span>]</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                myChart.<span class="title function_">setOption</span>(options);</span></span><br><span class="line"><span class="language-javascript">            &#125;        </span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-6-ECharts-ä¸­çš„äº‹ä»¶å’Œè¡Œä¸º"><a href="#3-6-ECharts-ä¸­çš„äº‹ä»¶å’Œè¡Œä¸º" class="headerlink" title="3.6 ECharts ä¸­çš„äº‹ä»¶å’Œè¡Œä¸º"></a>3.6 ECharts ä¸­çš„äº‹ä»¶å’Œè¡Œä¸º</h4><p><strong>æ¦‚å¿µï¼š</strong>åœ¨ <code>Apache ECharts</code> çš„å›¾è¡¨ä¸­ç”¨æˆ·çš„æ“ä½œå°†ä¼šè§¦å‘ç›¸åº”çš„äº‹ä»¶ã€‚å¼€å‘è€…å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œç„¶åé€šè¿‡å›è°ƒå‡½æ•°åšç›¸åº”çš„å¤„ç†ã€‚</p>
<p><strong>äº‹ä»¶åˆ†ç±»ï¼š</strong> åœ¨ <code>ECharts</code> ä¸­äº‹ä»¶åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯ç”¨æˆ·é¼ æ ‡æ“ä½œç‚¹å‡»ï¼Œæˆ–è€… <code>hover</code> å›¾è¡¨çš„å›¾å½¢æ—¶è§¦å‘çš„äº‹ä»¶ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯ç”¨æˆ·åœ¨ä½¿ç”¨å¯ä»¥äº¤äº’çš„ç»„ä»¶åè§¦å‘çš„è¡Œä¸ºäº‹ä»¶ï¼Œä¾‹å¦‚åœ¨åˆ‡æ¢å›¾ä¾‹å¼€å…³æ—¶è§¦å‘çš„ <a target="_blank" rel="noopener" href="https://echarts.apache.org/api.html#events.legendselectchanged"><code>legendselectchanged</code></a> äº‹ä»¶ï¼ˆè¿™é‡Œéœ€è¦æ³¨æ„åˆ‡æ¢å›¾ä¾‹å¼€å…³æ˜¯ä¸ä¼šè§¦å‘äº‹ä»¶çš„ï¼‰ï¼Œæ•°æ®åŒºåŸŸç¼©æ”¾æ—¶è§¦å‘çš„ <a target="_blank" rel="noopener" href="https://echarts.apache.org/api.html#events.legendselectchanged"><code>datazoom</code></a> äº‹ä»¶ç­‰ç­‰ã€‚</p>
<h4 id="3-7-ECharts-å®ä¾‹"><a href="#3-7-ECharts-å®ä¾‹" class="headerlink" title="3.7 ECharts å®ä¾‹"></a>3.7 ECharts å®ä¾‹</h4><h5 id="3-7-1-æŸ±çŠ¶å›¾"><a href="#3-7-1-æŸ±çŠ¶å›¾" class="headerlink" title="3.7.1 æŸ±çŠ¶å›¾"></a>3.7.1 æŸ±çŠ¶å›¾</h5><p>ç»˜åˆ¶ç®€å•çš„æŸ±çŠ¶å›¾ï¼Œä¸€äº›é…ç½®é¡¹ï¼š</p>
<ul>
<li><code>xAxis/yAxis</code><ul>
<li><code>type</code>ï¼š<code>category</code> ç±»ç›®è½´ï¼›<code>value</code> æ•°å€¼è½´ï¼›<code>time</code> æ—¶é—´ï¼›<code>log</code> å¯¹æ•°è½´</li>
<li><code>data</code>ï¼šè®¾ç½®ç±»ç›®çš„æ•°æ®ï¼ˆæ•°ç»„ï¼‰</li>
</ul>
</li>
<li><code>series</code><ul>
<li><code>type</code>ï¼šè®¾ç½®ç³»åˆ—çš„ç±»å‹ï¼ˆè®¾ç½®ç»˜åˆ¶ä»€ä¹ˆå›¾è¡¨ï¼‰</li>
<li><code>name</code>ï¼šè®¾ç½®ç³»åˆ—åç§°ï¼Œä¼šç”¨åœ¨ <code>tooltip</code> å’Œ <code>legend</code> ä¸­</li>
<li><code>data</code>ï¼šç³»åˆ—ä¸­çš„æ•°æ®å†…å®¹æ•°ç»„ï¼Œå®šä¹‰å½“å‰è¿™ä¸ªç³»åˆ—ä¸­æ¯ä¸ªæŸ±å­çš„é«˜åº¦</li>
<li><code>label</code>ï¼šè®¾ç½®å›¾å½¢ä¸Šçš„æ–‡æœ¬æ ‡ç­¾ï¼ˆæŠŠæ•°å€¼æ˜¾ç¤ºåœ¨æ¯ä¸ªæŸ±å­ä¸Š)</li>
<li><code>itemStyle</code>ï¼šè®¾ç½®å›¾å½¢æ ·å¼</li>
<li><code>showBackground</code>ï¼šè®¾ç½®æ˜¯å¦æ˜¾ç¤ºèƒŒæ™¯è‰²ï¼ˆé»˜è®¤ä¸æ˜¾ç¤ºï¼‰</li>
<li><code>backgroundStyle</code>ï¼šè®¾ç½®èƒŒæ™¯è‰²</li>
</ul>
</li>
</ul>
<h5 id="3-7-2-æŠ˜çº¿å›¾ã€å †å æŠ˜çº¿å›¾"><a href="#3-7-2-æŠ˜çº¿å›¾ã€å †å æŠ˜çº¿å›¾" class="headerlink" title="3.7.2 æŠ˜çº¿å›¾ã€å †å æŠ˜çº¿å›¾"></a>3.7.2 æŠ˜çº¿å›¾ã€å †å æŠ˜çº¿å›¾</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;js/echarts.min.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.staticfile.org/jquery/2.2.4/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 900px; height: 400px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        	<span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;main&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> myCharts = echarts.<span class="title function_">init</span>(dom);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> options = &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">xAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;å‘¨ä¸€&#x27;</span>, <span class="string">&#x27;å‘¨äºŒ&#x27;</span>, <span class="string">&#x27;å‘¨ä¸‰&#x27;</span>, <span class="string">&#x27;å‘¨å››&#x27;</span>, <span class="string">&#x27;å‘¨äº”&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">yAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>, <span class="attr">data</span>: [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">20</span>, <span class="number">10</span>]&#125;</span></span><br><span class="line"><span class="language-javascript">                    ],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">toolbox</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">feature</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">dataZoom</span>: &#123; <span class="comment">// æ•°æ®åŒºåŸŸç¼©æ”¾</span></span></span><br><span class="line"><span class="language-javascript">                                <span class="comment">// æ¡†é€‰å‹æ•°æ®åŒºåŸŸç¼©æ”¾ç»„ä»¶(dataZoomSelect): æä¾›ä¸€ä¸ªé€‰æ¡†è¿›è¡ŒåŒºåŸŸç¼©æ”¾ã€‚</span></span></span><br><span class="line"><span class="language-javascript">                                <span class="comment">// å³ toolbox.feature.dataZoom</span></span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">yAxisIndex</span>: <span class="string">&#x27;none&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">dataView</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">readOnly</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">magicType</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>: [<span class="string">&#x27;line&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">restore</span>: &#123; <span class="comment">// é…ç½®é¡¹è¿˜åŸ</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">saveAsImage</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>: <span class="string">&#x27;jpg&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                myCharts.<span class="title function_">setOption</span>(options);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="3-7-3-é¢ç§¯å›¾å’Œå †å é¢ç§¯å›¾"><a href="#3-7-3-é¢ç§¯å›¾å’Œå †å é¢ç§¯å›¾" class="headerlink" title="3.7.3 é¢ç§¯å›¾å’Œå †å é¢ç§¯å›¾"></a>3.7.3 é¢ç§¯å›¾å’Œå †å é¢ç§¯å›¾</h5><h5 id="3-7-4-é›·è¾¾å›¾"><a href="#3-7-4-é›·è¾¾å›¾" class="headerlink" title="3.7.4 é›·è¾¾å›¾"></a>3.7.4 é›·è¾¾å›¾</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;script type=&quot;text/javascript&quot; src=&quot;js/echarts.min.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.staticfile.org/jquery/2.2.4/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:900px; height: 400px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;main&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> myCharts = echarts.<span class="title function_">init</span>(dom);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> options = &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">radar</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">indicator</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;èº«é«˜&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;ä½“é‡&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;å¹´é¾„&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;è·‘æ­¥é€Ÿåº¦&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                    ],</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123; </span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">type</span>: <span class="string">&#x27;radar&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [</span></span><br><span class="line"><span class="language-javascript">                            &#123; <span class="attr">name</span>: <span class="string">&#x27;è®­ç»ƒå‰&#x27;</span>, <span class="attr">value</span>: [<span class="number">178</span>, <span class="number">60</span>, <span class="number">20</span>, <span class="number">50</span>] &#125;, </span></span><br><span class="line"><span class="language-javascript">                            &#123; <span class="attr">name</span>: <span class="string">&#x27;è®­ç»ƒå&#x27;</span>, <span class="attr">value</span>: [<span class="number">178</span>, <span class="number">58</span>, <span class="number">20</span>, <span class="number">52</span>] &#125;, </span></span><br><span class="line"><span class="language-javascript">                            &#123; <span class="attr">name</span>: <span class="string">&#x27;è®­ç»ƒä¸€å¹´å&#x27;</span>, <span class="attr">value</span>: [<span class="number">180</span>, <span class="number">55</span>, <span class="number">21</span>, <span class="number">55</span>]&#125;</span></span><br><span class="line"><span class="language-javascript">                        ] </span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">toolbox</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">show</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">feature</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">saveAsImage</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">show</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                	&#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            myCharts.<span class="title function_">setOption</span>(options);</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>





</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-06-22T07:55:58.000Z" title="2024/6/22 15:55:58">2024-06-22</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-07-08T01:54:01.794Z" title="2024/7/8 09:54:01">2024-07-08</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/">å¤§æ•°æ®æŠ€æœ¯</a><span>Â /Â </span><a class="link-muted" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/HBase/">HBase</a></span><span class="level-item">44 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦6534ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/22/HBaseExamReview/">HBaseExamReview</a></p><div class="content"><h2 id="HBase-è€ƒå¯ŸçŸ¥è¯†ç‚¹å¤ä¹ "><a href="#HBase-è€ƒå¯ŸçŸ¥è¯†ç‚¹å¤ä¹ " class="headerlink" title="HBase è€ƒå¯ŸçŸ¥è¯†ç‚¹å¤ä¹ "></a>HBase è€ƒå¯ŸçŸ¥è¯†ç‚¹å¤ä¹ </h2><h3 id="çŸ¥è¯†ç‚¹ï¼ˆé€‰æ‹©ï¼‰"><a href="#çŸ¥è¯†ç‚¹ï¼ˆé€‰æ‹©ï¼‰" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼ˆé€‰æ‹©ï¼‰"></a>çŸ¥è¯†ç‚¹ï¼ˆé€‰æ‹©ï¼‰</h3><ol>
<li><p>Regionçš„åˆ†è£‚</p>
<p>åœ¨<strong>HBase</strong>ä¸­ï¼Œ<code>Region</code> æ˜¯æ•°æ®ç®¡ç†çš„åŸºæœ¬å•ä½ï¼Œç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„åˆ†åŒºã€‚å®ƒæ˜¯ <strong>HBase</strong> æ•°æ®å­˜å‚¨å’Œç»„ç»‡çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ã€‚<br><code>Region</code> çš„æ¦‚å¿µå’Œç‰¹ç‚¹ï¼š<br><code>Region</code> æ˜¯ <code>HBase</code> æ•°æ®ç®¡ç†çš„åŸºæœ¬å•ä½ï¼Œå®ƒè´Ÿè´£å­˜å‚¨ä¸€å®šèŒƒå›´å†…çš„æ•°æ®ã€‚æ¯ä¸ª <code>Region</code> ç”±ä¸€ä¸ªèµ·å§‹ <code>RowKey</code> å’Œ ç»ˆæ­¢ <code>RowKey</code> å®šä¹‰ï¼Œè´Ÿè´£å­˜å‚¨è¯¥èŒƒå›´å†…çš„æ•°æ®ã€‚ä¸å…³ç³»å‹æ•°æ®åº“ä¸­çš„åˆ†åŒºç±»ä¼¼ï¼Œ<code>HBase</code> ä¸­çš„ <code>Region</code> å¯ä»¥æ ¹æ®æ•°æ®é‡çš„å¤§å°è¿›è¡ŒåŠ¨æ€è°ƒæ•´ã€‚å½“ä¸€ä¸ª<code>Region</code> çš„æ•°æ®é‡è¿‡å¤§æ—¶ï¼Œå®ƒä¼šè¢« <strong>åˆ†è£‚</strong> æˆä¸¤ä¸ªæ–°çš„ <code>Region</code>ã€‚ç›¸åï¼Œå½“æ•°æ®é‡è¾ƒå°æ—¶ï¼Œä¸¤ä¸ªæˆ–å¤šä¸ª <code>Region</code> å¯èƒ½ä¼šåˆå¹¶æˆä¸€ä¸ªæ–°çš„<code>Region</code>ã€‚</p>
<p>å½“ <code>MemStore</code> çš„æ•°æ®è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œå°†æ•°æ®æº¢å†™ç£ç›˜ï¼Œç”Ÿæˆä¸€ä¸ª <code>StoreFile</code> æ–‡ä»¶ã€‚å½“ <code>Region</code> ä¸­æœ€å¤§<code>Store</code> çš„å¤§å°è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œ<code>Region</code> åˆ†è£‚ï¼Œç­‰åˆ†æˆä¸¤ä¸ª <code>Region</code>ï¼Œå®ç°æ•°æ®è®¿é—®çš„è´Ÿè½½å‡è¡¡ã€‚æ–°çš„ <code>Region</code> çš„ä½ç½®ç”± <code>HMaster</code> æ¥ç¡®å®šåœ¨å“ªä¸ª<code>RegionServer</code> ä¸­ã€‚</p>
</li>
<li><p>æŸ¥çœ‹è¡¨ç»“æ„çš„å‘½ä»¤</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[subowen@bigdata ~]$ hbase shell</span><br><span class="line">2024-07-05 23:04:35,655 WARN  [main] util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using builtin-java classes <span class="built_in">where</span> applicable</span><br><span class="line">HBase Shell</span><br><span class="line">Use <span class="string">&quot;help&quot;</span> to get list of supported commands.</span><br><span class="line">Use <span class="string">&quot;exit&quot;</span> to quit this interactive shell.</span><br><span class="line">For Reference, please visit: http://hbase.apache.org/2.0/book.html<span class="comment">#shell</span></span><br><span class="line">Version 2.1.8, rd8333e556c8ed739cf39dab58ddc6b43a50c0965, Tue Nov 19 15:29:04 UTC 2019</span><br><span class="line">Took 0.0028 seconds</span><br><span class="line">hbase(main):001:0&gt; list</span><br><span class="line">TABLE</span><br><span class="line">logs</span><br><span class="line">logs_20240606</span><br><span class="line">logs_20240607</span><br><span class="line">user</span><br><span class="line">sdutcm:bigdata</span><br><span class="line">5 row(s)</span><br><span class="line">Took 1.2756 seconds</span><br><span class="line">=&gt; [<span class="string">&quot;logs&quot;</span>, <span class="string">&quot;logs_20240606&quot;</span>, <span class="string">&quot;logs_20240607&quot;</span>, <span class="string">&quot;user&quot;</span>, <span class="string">&quot;sdutcm:bigdata&quot;</span>]</span><br><span class="line"></span><br><span class="line">hbase(main):002:0&gt; describe <span class="string">&#x27;sdutcm:bigdata&#x27;</span></span><br><span class="line">Table sdutcm:bigdata is ENABLED</span><br><span class="line">sdutcm:bigdata</span><br><span class="line">COLUMN FAMILIES DESCRIPTION</span><br><span class="line">&#123;NAME =&gt; <span class="string">&#x27;info&#x27;</span>, VERSIONS =&gt; <span class="string">&#x27;5&#x27;</span>, EVICT_BLOCKS_ON_CLOSE =&gt; <span class="string">&#x27;false&#x27;</span>, NEW_VERSION_BEHAVIOR =&gt; <span class="string">&#x27;false&#x27;</span>, KEEP_DELETED_CELLS =&gt; <span class="string">&#x27;FALSE&#x27;</span>, CACHE_DATA_ON_WRITE =&gt; <span class="string">&#x27;false&#x27;</span>, DATA_BLOCK_ENCODING =&gt; <span class="string">&#x27;NONE&#x27;</span>, TTL =&gt; <span class="string">&#x27;FOREVER&#x27;</span>, MIN_VERSIONS =&gt; <span class="string">&#x27;0&#x27;</span>, REPLICATION_SCOPE =&gt; <span class="string">&#x27;0&#x27;</span>, BLOOMFILTER =&gt; <span class="string">&#x27;ROW&#x27;</span>, CACHE_INDEX_ON_WRITE =&gt; <span class="string">&#x27;false&#x27;</span>, IN_MEMORY =&gt; <span class="string">&#x27;false&#x27;</span>, CACHE_BLOOMS_ON_WRITE =&gt; <span class="string">&#x27;false&#x27;</span>, PREFETCH_BLOCKS_ON_OPEN =&gt; <span class="string">&#x27;false&#x27;</span>, COMPRESSION =&gt; <span class="string">&#x27;NONE&#x27;</span>, BLOCKCACHE =&gt; <span class="string">&#x27;true&#x27;</span>, BLOCKSIZE =&gt; <span class="string">&#x27;65536&#x27;</span>&#125;</span><br><span class="line">&#123;NAME =&gt; <span class="string">&#x27;msg&#x27;</span>, VERSIONS =&gt; <span class="string">&#x27;5&#x27;</span>, EVICT_BLOCKS_ON_CLOSE =&gt; <span class="string">&#x27;false&#x27;</span>, NEW_VERSION_BEHAVIOR =&gt; <span class="string">&#x27;false&#x27;</span>, KEEP_DELETED_CELLS =&gt; <span class="string">&#x27;FALSE&#x27;</span>, CACHE_DATA_ON_WRITE =&gt; <span class="string">&#x27;false&#x27;</span>, DATA_BLOCK_ENCODING =&gt; <span class="string">&#x27;NONE&#x27;</span>, TTL =&gt; <span class="string">&#x27;FOREVER&#x27;</span>, MIN_VERSIONS =&gt; <span class="string">&#x27;0&#x27;</span>, REPLICATION_SCOPE =&gt; <span class="string">&#x27;0&#x27;</span>, BLOOMFILTER =&gt; <span class="string">&#x27;ROW&#x27;</span>, CACHE_INDEX_ON_WRITE =&gt; <span class="string">&#x27;false&#x27;</span>, IN_MEMORY =&gt; <span class="string">&#x27;false&#x27;</span>, CACHE_BLOOMS_ON_WRITE =&gt; <span class="string">&#x27;false&#x27;</span>, PREFETCH_BLOCKS_ON_OPEN =&gt; <span class="string">&#x27;false&#x27;</span>, COMPRESSION =&gt; <span class="string">&#x27;NONE&#x27;</span>, BLOCKCACHE =&gt; <span class="string">&#x27;true&#x27;</span>, BLOCKSIZE =&gt; <span class="string">&#x27;65536&#x27;</span>&#125;</span><br><span class="line">2 row(s)</span><br><span class="line">Took 0.3826 seconds</span><br><span class="line"></span><br><span class="line">hbase(main):003:0&gt; scan <span class="string">&#x27;sdutcm:bigdata&#x27;</span></span><br><span class="line">ROW                                      COLUMN+CELL</span><br><span class="line"> 2001                                    column=info:name, timestamp=1719026353219, value=wang</span><br><span class="line">1 row(s)</span><br><span class="line">Took 0.2295 seconds</span><br><span class="line">hbase(main):004:0&gt; </span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>å¯åŠ¨å’Œå…³é—­ <code>HBase Shell</code> çš„å‘½ä»¤</p>
<p>å¯åŠ¨ <code>HBase Shell</code> ä¹‹å‰éœ€è¦ä¿è¯ <code>ZooKeeper</code>ã€<code>Hadoop HDFS</code> å’Œ <code>HBase</code> å·²ç»å¯åŠ¨ã€‚å¯ä»¥ä½¿ç”¨ <code>hbase shell</code> è¿›å…¥ <code>HBase Shell</code>ï¼Œåœ¨ <code>HBase Shell</code> ä¸­å¯ä»¥ä½¿ç”¨ <code>exit</code> æˆ– <code>quit</code> é€€å‡ºã€‚</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">[subowen@bigdata ~]$ zkServer.sh start</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /home/subowen/apps/zookeeper-3.4.12/bin/../conf/zoo.cfg</span><br><span class="line">Starting zookeeper ... STARTED</span><br><span class="line"></span><br><span class="line">[subowen@bigdata ~]$ zkServer.sh status</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /home/subowen/apps/zookeeper-3.4.12/bin/../conf/zoo.cfg</span><br><span class="line">Mode: standalone</span><br><span class="line"></span><br><span class="line">[subowen@bigdata ~]$ start-dfs.sh</span><br><span class="line">Starting namenodes on [bigdata]</span><br><span class="line">bigdata: starting namenode, logging to /home/subowen/apps/hadoop-2.7.6/logs/hadoop-subowen-namenode-bigdata.out</span><br><span class="line">bigdata: starting datanode, logging to /home/subowen/apps/hadoop-2.7.6/logs/hadoop-subowen-datanode-bigdata.out</span><br><span class="line">Starting secondary namenodes [0.0.0.0]</span><br><span class="line">0.0.0.0: starting secondarynamenode, logging to /home/subowen/apps/hadoop-2.7.6/logs/hadoop-subowen-secondarynamenode-bigdata.out</span><br><span class="line"></span><br><span class="line">[subowen@bigdata ~]$ start-hbase.sh</span><br><span class="line">running master, logging to /home/subowen/apps/hbase-2.1.8/logs/hbase-subowen-master-bigdata.out</span><br><span class="line">bigdata: running regionserver, logging to /home/subowen/apps/hbase-2.1.8/logs/hbase-subowen-regionserver-bigdata.out</span><br><span class="line"></span><br><span class="line">[subowen@bigdata ~]$ jps</span><br><span class="line">1746 NameNode</span><br><span class="line">1572 QuorumPeerMain</span><br><span class="line">2071 SecondaryNameNode</span><br><span class="line">2874 Jps</span><br><span class="line">2379 HRegionServer</span><br><span class="line">1852 DataNode</span><br><span class="line">2285 HMaster</span><br><span class="line"></span><br><span class="line">[subowen@bigdata ~]$ hbase shell</span><br><span class="line">2024-07-05 22:47:57,331 WARN  [main] util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using builtin-java classes <span class="built_in">where</span> applicable</span><br><span class="line">HBase Shell</span><br><span class="line">Use <span class="string">&quot;help&quot;</span> to get list of supported commands.</span><br><span class="line">Use <span class="string">&quot;exit&quot;</span> to quit this interactive shell.</span><br><span class="line">For Reference, please visit: http://hbase.apache.org/2.0/book.html<span class="comment">#shell</span></span><br><span class="line">Version 2.1.8, rd8333e556c8ed739cf39dab58ddc6b43a50c0965, Tue Nov 19 15:29:04 UTC 2019</span><br><span class="line">Took 0.0051 seconds</span><br><span class="line">hbase(main):001:0&gt; <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line">[subowen@bigdata ~]$ hbase shell</span><br><span class="line">2024-07-05 22:52:46,337 WARN  [main] util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using builtin-java classes <span class="built_in">where</span> applicable</span><br><span class="line">HBase Shell</span><br><span class="line">Use <span class="string">&quot;help&quot;</span> to get list of supported commands.</span><br><span class="line">Use <span class="string">&quot;exit&quot;</span> to quit this interactive shell.</span><br><span class="line">For Reference, please visit: http://hbase.apache.org/2.0/book.html<span class="comment">#shell</span></span><br><span class="line">Version 2.1.8, rd8333e556c8ed739cf39dab58ddc6b43a50c0965, Tue Nov 19 15:29:04 UTC 2019</span><br><span class="line">Took 0.0025 seconds</span><br><span class="line">hbase(main):001:0&gt; quit</span><br><span class="line">[subowen@bigdata ~]$</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>å¯åŠ¨<code>ZooKeeper</code>å’ŒæŸ¥çœ‹ <code>ZooKeeper</code> çš„è¿è¡ŒçŠ¶æ€çš„å‘½ä»¤</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[subowen@bigdata ~]$ zkServer.sh start</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /home/subowen/apps/zookeeper-3.4.12/bin/../conf/zoo.cfg</span><br><span class="line">Starting zookeeper ... STARTED</span><br><span class="line"></span><br><span class="line">[subowen@bigdata ~]$ zkServer.sh status</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /home/subowen/apps/zookeeper-3.4.12/bin/../conf/zoo.cfg</span><br><span class="line">Mode: standalone</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><p>ä¿®æ”¹è¡¨ç»“æ„çš„å‘½ä»¤</p>
<p>ä½¿ç”¨ <code>alter</code> å‘½ä»¤å¯ä»¥å¯¹è¡¨çš„ç»“æ„è¿›è¡Œä¿®æ”¹ï¼š</p>
<p>è¡¨ååˆ›å»ºæ—¶å†™çš„æ‰€æœ‰å’Œåˆ—æ—ç›¸å…³çš„ä¿¡æ¯ï¼Œéƒ½å¯ä»¥åç»­é€šè¿‡<code>alter</code>ä¿®æ”¹ï¼ŒåŒ…æ‹¬<strong>å¢åŠ </strong>ã€<strong>åˆ é™¤</strong>åˆ—æ—ã€‚</p>
<p>â‘  å¢åŠ åˆ—æ—å’Œä¿®æ”¹ä¿¡æ¯éƒ½ä½¿ç”¨è¦†ç›–çš„æ–¹æ³•</p>
<p>â€‹	ä¿®æ”¹åˆ—æ—çš„ç‰ˆæœ¬ï¼Œ<code>VERSIONS =&gt; 6</code>ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hbase(main):001:0&gt; alter &#x27;bigdata:person&#x27;, NAME =&gt; &#x27;name&#x27;, VERSIONS =&gt; 6</span><br><span class="line">Updating all regions with the new schema...</span><br><span class="line">1/1 regions updated.</span><br><span class="line">Done.</span><br><span class="line">Took 4.0145 seconds</span><br></pre></td></tr></table></figure>

<p>â€‹	æ·»åŠ åˆ—æ— <code>tel</code>ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hbase(main):002:0&gt; alter &#x27;bigdata:person&#x27;, NAME =&gt; &#x27;tel&#x27;, VERSIONS =&gt; 6</span><br><span class="line">Updating all regions with the new schema...</span><br><span class="line">1/1 regions updated.</span><br><span class="line">Done.</span><br><span class="line">Took 2.4498 seconds</span><br></pre></td></tr></table></figure>

<p>â€‹	æŸ¥çœ‹ä¿®æ”¹åçš„æ•°æ®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">hbase(main):003:0&gt; describe &#x27;bigdata:person&#x27;</span><br><span class="line">Table bigdata:person is ENABLED</span><br><span class="line">bigdata:person</span><br><span class="line">COLUMN FAMILIES DESCRIPTION</span><br><span class="line">&#123;NAME =&gt; &#x27;msg&#x27;, VERSIONS =&gt; &#x27;6&#x27;, EVICT_BLOCKS_ON_CLOSE =&gt; &#x27;false&#x27;, NEW_VERSION_BEHAVIOR =&gt; &#x27;false&#x27;, KEEP_DELETED_CELLS =&gt; &#x27;FALSE&#x27;, CACHE_DATA_ON_WRITE =&gt; &#x27;fal</span><br><span class="line">se&#x27;, DATA_BLOCK_ENCODING =&gt; &#x27;NONE&#x27;, TTL =&gt; &#x27;FOREVER&#x27;, MIN_VERSIONS =&gt; &#x27;0&#x27;, REPLICATION_SCOPE =&gt; &#x27;0&#x27;, BLOOMFILTER =&gt; &#x27;ROW&#x27;, CACHE_INDEX_ON_WRITE =&gt; &#x27;false&#x27;, IN</span><br><span class="line">_MEMORY =&gt; &#x27;false&#x27;, CACHE_BLOOMS_ON_WRITE =&gt; &#x27;false&#x27;, PREFETCH_BLOCKS_ON_OPEN =&gt; &#x27;false&#x27;, COMPRESSION =&gt; &#x27;NONE&#x27;, BLOCKCACHE =&gt; &#x27;true&#x27;, BLOCKSIZE =&gt; &#x27;65536&#x27;&#125;</span><br><span class="line"></span><br><span class="line">&#123;NAME =&gt; &#x27;name&#x27;, VERSIONS =&gt; &#x27;5&#x27;, EVICT_BLOCKS_ON_CLOSE =&gt; &#x27;false&#x27;, NEW_VERSION_BEHAVIOR =&gt; &#x27;false&#x27;, KEEP_DELETED_CELLS =&gt; &#x27;FALSE&#x27;, CACHE_DATA_ON_WRITE =&gt; &#x27;fa</span><br><span class="line">lse&#x27;, DATA_BLOCK_ENCODING =&gt; &#x27;NONE&#x27;, TTL =&gt; &#x27;FOREVER&#x27;, MIN_VERSIONS =&gt; &#x27;0&#x27;, REPLICATION_SCOPE =&gt; &#x27;0&#x27;, BLOOMFILTER =&gt; &#x27;ROW&#x27;, CACHE_INDEX_ON_WRITE =&gt; &#x27;false&#x27;, I</span><br><span class="line">N_MEMORY =&gt; &#x27;false&#x27;, CACHE_BLOOMS_ON_WRITE =&gt; &#x27;false&#x27;, PREFETCH_BLOCKS_ON_OPEN =&gt; &#x27;false&#x27;, COMPRESSION =&gt; &#x27;NONE&#x27;, BLOCKCACHE =&gt; &#x27;true&#x27;, BLOCKSIZE =&gt; &#x27;65536&#x27;&#125;</span><br><span class="line"></span><br><span class="line">&#123;NAME =&gt; &#x27;tel&#x27;, VERSIONS =&gt; &#x27;6&#x27;, EVICT_BLOCKS_ON_CLOSE =&gt; &#x27;false&#x27;, NEW_VERSION_BEHAVIOR =&gt; &#x27;false&#x27;, KEEP_DELETED_CELLS =&gt; &#x27;FALSE&#x27;, CACHE_DATA_ON_WRITE =&gt; &#x27;fal</span><br><span class="line">se&#x27;, DATA_BLOCK_ENCODING =&gt; &#x27;NONE&#x27;, TTL =&gt; &#x27;FOREVER&#x27;, MIN_VERSIONS =&gt; &#x27;0&#x27;, REPLICATION_SCOPE =&gt; &#x27;0&#x27;, BLOOMFILTER =&gt; &#x27;ROW&#x27;, CACHE_INDEX_ON_WRITE =&gt; &#x27;false&#x27;, IN</span><br><span class="line">_MEMORY =&gt; &#x27;false&#x27;, CACHE_BLOOMS_ON_WRITE =&gt; &#x27;false&#x27;, PREFETCH_BLOCKS_ON_OPEN =&gt; &#x27;false&#x27;, COMPRESSION =&gt; &#x27;NONE&#x27;, BLOCKCACHE =&gt; &#x27;true&#x27;, BLOCKSIZE =&gt; &#x27;65536&#x27;&#125;</span><br><span class="line">3 row(s)</span><br><span class="line">Took 0.0795 seconds</span><br></pre></td></tr></table></figure>

<p>â‘¡ åˆ é™¤åˆ—æ—</p>
<p>â€‹	åˆ é™¤åˆ—æ—å¯ä»¥ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hbase(main):001:0&gt; alter &#x27;bigdata:person&#x27;, NAME =&gt; &#x27;tel&#x27;, METHOD =&gt; &#x27;delete&#x27;</span><br><span class="line">Updating all regions with the new schema...</span><br><span class="line">1/1 regions updated.</span><br><span class="line">Done.</span><br><span class="line">Took 2.1046 seconds</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hbase(main):002:0&gt; alter &#x27;bigdata:person&#x27;, &#x27;delete&#x27; =&gt; &#x27;msg&#x27;</span><br><span class="line">Updating all regions with the new schema...</span><br><span class="line">1/1 regions updated.</span><br><span class="line">Done.</span><br><span class="line">Took 2.9721 seconds</span><br></pre></td></tr></table></figure>

</li>
<li><p><code>HBase</code> çš„ <code>Java API</code>ä¸­ï¼Œæ•°æ®è¡¨æè¿°çš„å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ<code>TableDescriptor</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TableDescriptor</span><br></pre></td></tr></table></figure>

</li>
<li><p><code>ZooKeeper</code> çš„è®¿é—®ç«¯å£å·ï¼Œ<code>HBase</code> çš„Webè®¿é—®ç«¯å£å·</p>
<p><code>ZooKeeper</code> çš„è®¿é—®ç«¯å£å·ä¸º <code>2181</code></p>
<p><code>HBase</code> çš„ Web è®¿é—®ç«¯å£å·ä¸º <code>16010</code></p>
</li>
<li><p>ä¿®æ”¹è¡¨ä¸­åˆ—æ—çš„<code>Version</code>ç‰ˆæœ¬çš„å‘½ä»¤</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter <span class="string">&#x27;table_name&#x27;</span>, &#123;NAME =&gt; <span class="string">&#x27;column_family&#x27;</span>, VERSIONS =&gt; number_of_versions&#125;</span><br></pre></td></tr></table></figure>

<ol start="9">
<li><p>åˆ é™¤è¡¨ä¸­æ•°æ®çš„å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete <span class="string">&#x27;ns:tb&#x27;</span>, <span class="string">&#x27;rk&#x27;</span>, <span class="string">&#x27;cf:col&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨å’Œå…³é—­ZooKeeperçš„å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨ ZooKeeper</span></span><br><span class="line">zkServer.sh start</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­ ZooKeeper</span></span><br><span class="line">zkServer.sh stop</span><br></pre></td></tr></table></figure>

</li>
<li><p>æ›´æ–°è¡¨æ•°æ®çš„å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter <span class="string">&#x27;ns:tb&#x27;</span>, &#123;NAME =&gt; <span class="string">&#x27;cf:col&#x27;</span>, VERSIONS =&gt; 5&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>HBaseå®‰è£…æ—¶ï¼Œé…ç½®æ–‡ä»¶æœ‰é‚£å‡ ä¸ªï¼Ÿ</p>
<ul>
<li><code>hbase-env.sh</code></li>
<li><code>hbase-site.xml</code></li>
<li><code>regionservers</code></li>
<li><code>.bashrc</code></li>
</ul>
</li>
<li><p>å…³äºNoSQLæ•°æ®åº“æœ‰å“ªäº›ï¼Ÿ</p>
<ul>
<li><code>HBase</code></li>
<li><code>Cassandra</code></li>
<li><code>BigTable</code></li>
</ul>
</li>
<li><p>åˆ é™¤è¡¨æ“ä½œ</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">disable</span> <span class="string">&#x27;ns:tb&#x27;</span></span><br><span class="line">drop <span class="string">&#x27;ns:tb&#x27;</span></span><br></pre></td></tr></table></figure>

<ol start="15">
<li><p>HBaseè¿›ç¨‹åï¼ŒZooKeeper çš„è¿›ç¨‹åç­‰ç›¸å…³è¿›ç¨‹</p>
<ul>
<li><code>HMaster</code></li>
<li><code>HRegionServer</code></li>
<li><code>QuorumPeerMain</code></li>
</ul>
</li>
<li><p><code>HBase</code> ä¾æ‰˜äºå“ªä¸ªæ–‡ä»¶å­˜å‚¨ç³»ç»Ÿï¼Ÿ</p>
<p><code>HBase</code> ä¸»è¦ä¾æ‰˜äº <code>Hadoop HDFS</code>ã€‚</p>
</li>
<li><p>åˆ›å»ºè¡¨çš„è¯­æ³•ç»“æ„</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create <span class="string">&#x27;ns:tb&#x27;</span>, &#123;NAME =&gt; <span class="string">&#x27;cf&#x27;</span>, VERSIONS=5&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥è¯¢è¡¨æ•°æ®çš„Shellè¯­æ³•</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">get <span class="string">&#x27;r1&#x27;</span>, &#123;COLUMN =&gt; <span class="string">&#x27;cf:col&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">scan <span class="string">&#x27;ns:tb&#x27;</span></span><br></pre></td></tr></table></figure>

</li>
<li><p>ä»€ä¹ˆæ˜¯åˆ—æ—<code>COLUMN FAMILY</code></p>
</li>
<li><p>HBaseçš„æ•°æ®ç±»å‹</p>
<ul>
<li>æ•°æ®ç±»å‹<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹<ul>
<li>å­—ç¬¦ä¸²(String)ï¼šç”¨äºå­˜å‚¨æ–‡æœ¬æ•°æ®ï¼Œå¦‚åç§°ã€æè¿°ç­‰ã€‚</li>
<li>æ•´æ•°(Int)ï¼šç”¨äºå­˜å‚¨æ•´æ•°æ•°æ®ï¼Œå¦‚è®¡æ•°ã€ç¼–å·ç­‰ã€‚</li>
<li>æµ®ç‚¹æ•°(Float)ï¼šç”¨äºå­˜å‚¨å°æ•°æ•°æ®ï¼Œå¦‚é‡‘é¢ã€æ¯”ç‡ç­‰ã€‚</li>
<li>å¸ƒå°”å€¼(Boolean)ï¼šç”¨äºå­˜å‚¨é€»è¾‘å€¼ï¼Œå¦‚æ˜¯å¦ã€æœ‰æ•ˆç­‰ã€‚</li>
</ul>
</li>
<li>å¤åˆæ•°æ®ç±»å‹<ul>
<li>åˆ—æ—(Column Family)ï¼šåˆ—æ—æ˜¯HBaseè¡¨ä¸­æ•°æ®çš„ç»„ç»‡æ–¹å¼ï¼Œç”¨äºå­˜å‚¨ä¸€ç»„ç›¸å…³çš„åˆ—ã€‚åˆ—æ—æ˜¯HBaseè¡¨ä¸­æ•°æ®çš„åŸºæœ¬ç»„ç»‡å•ä½ï¼Œæ¯ä¸ªåˆ—æ—å¯¹åº”ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹ã€‚</li>
<li>åˆ—(Column)ï¼šåˆ—æ˜¯HBaseè¡¨ä¸­æ•°æ®çš„åŸºæœ¬å•ä½ï¼Œç”¨äºå­˜å‚¨ä¸€ç»„ç›¸å…³çš„å•å…ƒæ ¼ã€‚åˆ—å¯ä»¥åŒ…å«å¤šä¸ªå•å…ƒæ ¼ï¼Œæ¯ä¸ªå•å…ƒæ ¼å¯¹åº”ä¸€ä¸ªæ•°æ®å€¼ã€‚</li>
<li>å•å…ƒæ ¼(Cell)ï¼šå•å…ƒæ ¼æ˜¯HBaseè¡¨ä¸­æ•°æ®çš„åŸºæœ¬å•ä½ï¼Œç”¨äºå­˜å‚¨ä¸€ç»„ç›¸å…³çš„æ•°æ®å€¼ã€‚å•å…ƒæ ¼åŒ…å«ä¸€ä¸ªé”®(Row Key)ã€ä¸€ä¸ªåˆ—(Column)å’Œä¸€ä¸ªå€¼(Value)ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>æ•°æ®æ¨¡å‹<ul>
<li>NameSpaceï¼šå‘½åç©ºé—´ï¼Œç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“çš„ <code>Database</code> æ¦‚å¿µï¼Œæ¯ä¸ªå‘½åç©ºé—´ä¸‹æœ‰å¤šä¸ªè¡¨ã€‚HBase ä¸¤ä¸ªè‡ªå¸¦çš„å‘½åç©ºé—´ï¼Œåˆ†åˆ«æ˜¯ <code>hbase</code> å’Œ <code>default</code>ï¼Œ<code>hbase</code> ä¸­å­˜æ”¾çš„æ˜¯ <code>HBase</code> å†…ç½®çš„è¡¨ï¼Œ<code>default</code>è¡¨æ˜¯ç”¨æˆ·é»˜è®¤ä½¿ç”¨çš„å‘½åç©ºé—´ã€‚</li>
<li>Tableï¼šç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“çš„è¡¨æ¦‚å¿µã€‚ä¸åŒçš„æ˜¯ï¼ŒHBase å®šä¹‰è¡¨æ—¶åªéœ€è¦å£°æ˜åˆ—æ—å³å¯ï¼Œä¸éœ€è¦å£°æ˜å…·ä½“çš„åˆ—ã€‚å› ä¸ºæ•°æ®å­˜å‚¨æ˜¯ç¨€ç–çš„ï¼Œæ‰€ä»¥å¾€ HBase å†™å…¥æ•°æ®æ—¶ï¼Œå­—æ®µå¯ä»¥åŠ¨æ€ã€æŒ‰éœ€æŒ‡å®šã€‚å› æ­¤ï¼Œå’Œå…³ç³»å‹æ•°æ®åº“ç›¸æ¯”ï¼ŒHBase èƒ½å¤Ÿè½»æ¾åº”å¯¹å­—æ®µå˜æ›´çš„åœºæ™¯ã€‚</li>
<li>Rowï¼š<code>HBase</code> è¡¨ä¸­çš„æ¯è¡Œæ•°æ®éƒ½ç”±ä¸€ä¸ª <strong>RowKey</strong> å’Œå¤šä¸ª <strong>Column</strong>ï¼ˆåˆ—ï¼‰ç»„æˆï¼Œæ•°æ®æ˜¯æŒ‰ç…§ <code>RowKey</code> çš„å­—å…¸é¡ºåºå­˜å‚¨çš„ï¼Œå¹¶ä¸”æŸ¥è¯¢æ•°æ®æ—¶åªèƒ½æ ¹æ® <code>RowKey</code> è¿›è¡Œæ£€ç´¢ï¼Œæ‰€ä»¥ <code>RowKey</code> çš„è®¾è®¡ååˆ†é‡è¦ã€‚</li>
<li>Columnï¼š<code>HBase</code> ä¸­çš„æ¯ä¸ªåˆ—éƒ½ç”± <code>Column Family</code>(åˆ—æ—)å’Œ <code>Column Qualifier</code>ï¼ˆåˆ—é™å®šç¬¦ï¼‰è¿›è¡Œé™å®šï¼Œä¾‹å¦‚ <code>infoï¼šname</code>ï¼Œ<code>infoï¼šage</code>ã€‚å»ºè¡¨æ—¶ï¼Œåªéœ€æŒ‡æ˜åˆ—æ—ï¼Œè€Œåˆ—é™å®šç¬¦æ— éœ€é¢„å…ˆå®šä¹‰ã€‚</li>
<li>Time Stampï¼šç”¨äºæ ‡è¯†æ•°æ®çš„ä¸åŒç‰ˆæœ¬<code>Version</code>ï¼Œæ¯æ¡æ•°æ®å†™å…¥æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºå…¶åŠ ä¸Šè¯¥å­—æ®µï¼Œå…¶å€¼ä¸ºå†™å…¥ <code>HBase</code> çš„æ—¶é—´ã€‚</li>
<li>Cellï¼šç”± <code>&#123;rowkey, column Family:Column Qualifier, timestamp&#125;</code> å”¯ä¸€ç¡®å®šçš„å•å…ƒã€‚<code>Cell</code> ä¸­çš„æ•°æ®å…¨éƒ¨æ˜¯å­—èŠ‚ç å½¢å¼å­˜è´®ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="åˆ¤æ–­é¢˜"><a href="#åˆ¤æ–­é¢˜" class="headerlink" title="åˆ¤æ–­é¢˜"></a>åˆ¤æ–­é¢˜</h3><ol>
<li><p><code>HBase</code> æœ¬èº«æ˜¯ç”¨ <code>C++</code> è¯­è¨€ç¼–å†™çš„ï¼Œå› æ­¤å…·æœ‰å¾ˆé«˜çš„æ‰§è¡Œæ•ˆç‡ã€‚ï¼ˆ Ã— ï¼‰</p>
<p><code>HBase</code> æœ¬èº«æ˜¯ç”± <code>Java</code> è¯­è¨€ç¼–å†™çš„ï¼Œå°½ç®¡ä½¿ç”¨ <code>Java</code>ï¼Œå…¶æ‰§è¡Œæ•ˆç‡è¿˜æ˜¯è¾ƒé«˜çš„ã€‚</p>
</li>
<li><p><code>HBase</code> ä¼˜åŒ–ç›®å‰ä¸»è¦å·¥ä½œé›†ä¸­äº <code>Rowkey</code> ä¼˜åŒ–ã€‚ï¼ˆ Ã— ï¼‰</p>
<p><code>HBase</code> çš„ä¼˜åŒ–ç›®å‰ä¸»è¦å·¥ä½œé›†ä¸­åœ¨ <code>RowKey</code> çš„è®¾è®¡ã€å‚æ•°ä¼˜åŒ–ã€<code>JVM</code>è°ƒä¼˜ç­‰æ–¹é¢ã€‚</p>
</li>
<li><p>å¯ä»¥æƒ³è±¡ <code>HBase</code> æ˜¯é€šè¿‡**â€ä¸‰ç»´â€**çš„è¡¨æ¥å­˜å‚¨æ•°æ®çš„ï¼Œé€šè¿‡æ—¶é—´æˆ³ä¿å­˜æ•°æ®çš„å†å²ç‰ˆæœ¬ã€‚ï¼ˆ âˆš ï¼‰</p>
</li>
<li><p>å®‰è£… <code>HBase</code> å®Œå…¨åˆ†å¸ƒå¼æ—¶ï¼Œéœ€è¦ç¡®ä¿ <code>SSH</code> å’Œ <code>JDK</code> æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ã€‚ï¼ˆ âˆš ï¼‰</p>
<p>åœ¨å®‰è£… HBase çš„å®Œå…¨åˆ†å¸ƒå¼éƒ¨ç½²æ—¶ï¼Œç¡®ä¿ <code>SSH</code> å’Œ <code>JDK</code> å¯ä»¥æ­£å¸¸ä½¿ç”¨æ˜¯éå¸¸é‡è¦çš„ã€‚å…·ä½“æ¥è¯´ï¼š</p>
<ul>
<li><p><strong>SSH</strong>ï¼šåœ¨åˆ†å¸ƒå¼éƒ¨ç½²ä¸­ï¼Œ<code>HBase</code> çš„å„ä¸ªèŠ‚ç‚¹ä¹‹é—´éœ€è¦è¿›è¡Œé€šä¿¡å’Œåä½œï¼Œè€Œ <code>SSH</code> æ˜¯ç”¨äºåœ¨ä¸åŒèŠ‚ç‚¹ä¹‹é—´å»ºç«‹å®‰å…¨è¿æ¥çš„å·¥å…·ã€‚ç¡®ä¿èŠ‚ç‚¹ä¹‹é—´å¯ä»¥äº’ç›¸è®¿é—®ã€é€šä¿¡å’Œä¼ è¾“æ–‡ä»¶æ˜¯éƒ¨ç½² <code>HBase</code> æ‰€å¿…éœ€çš„ã€‚é€šå¸¸éœ€è¦è®¾ç½®å…å¯†ç™»å½•ï¼Œä»¥ä¾¿åœ¨èŠ‚ç‚¹ä¹‹é—´è¿›è¡Œä¿¡æ¯äº¤æ¢è€Œæ— éœ€æ‰‹åŠ¨è¾“å…¥å¯†ç ã€‚</p>
</li>
<li><p><strong>JDK</strong>ï¼šHBase æ˜¯åŸºäº <code>Java</code> ç¼–ç¨‹è¯­è¨€å¼€å‘çš„ï¼Œå› æ­¤å¿…é¡»ç¡®ä¿åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šå®‰è£…å¹¶é…ç½®äº†é€‚å½“çš„ <code>JDK</code>ã€‚<code>HBase</code> è¿è¡Œéœ€è¦ <code>Java</code> ç¯å¢ƒï¼Œä¸”ä¸ºäº†ç¡®ä¿ <code>HBase</code> èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œå¿…é¡»ä¿è¯æ¯ä¸ªèŠ‚ç‚¹éƒ½èƒ½å¤Ÿä½¿ç”¨æ­£ç¡®çš„ <code>JDK</code> ç‰ˆæœ¬ã€‚</p>
</li>
</ul>
</li>
<li><p><code>Hadoop</code> ä¸­å¼•å…¥ <code>HBase</code> çš„å…¶ä¸­ä¸€ä¸ªåŸå› æ˜¯ï¼š<code>HDFS</code> åœ¨å¤„ç†è¿ç»­æ•°æ®æ—¶æ¯”è¾ƒåƒåŠ›ã€‚ï¼ˆ Ã— ï¼‰Â·</p>
<p><code>HDFS</code> çš„è®¾è®¡ç›®æ ‡ä¹‹ä¸€å°±æ˜¯ä¸ºäº†æœ‰æ•ˆåœ°å¤„ç†å¤§è§„æ¨¡æ•°æ®ï¼ŒåŒ…æ‹¬è¿ç»­æ•°æ®ï¼ˆå¦‚å¤§æ–‡ä»¶ã€æ•°æ®æµç­‰ï¼‰å’Œç¦»æ•£æ•°æ®ï¼ˆå¦‚å°æ–‡ä»¶ã€æ‰¹é‡æ•°æ®ç­‰ï¼‰ã€‚<code>Hadoop</code> ä¸­ä¹‹æ‰€ä»¥å¼•å…¥ <code>HBase</code>ï¼Œæ˜¯éœ€è¦ <code>HBase</code> æä¾›å®æ—¶è®¿é—®æ•°æ®çš„èƒ½åŠ›ï¼Œä½¿å¾— <code>Hadoop</code> ç”Ÿæ€ç³»ç»Ÿæ›´å…¨é¢ï¼ˆæ­¤å¤–è¿˜æœ‰é«˜å¯ä¼¸ç¼©æ€§ã€é«˜å®¹é”™ã€å¤šç‰ˆæœ¬ç­–ç•¥ç­‰ï¼‰ã€‚</p>
</li>
<li><p>åˆ©ç”¨ <code>HBase</code> æŠ€æœ¯å¯åœ¨å»‰ä»· <code>PC Server</code> ä¸Šæ­å»ºèµ·å¤§è§„æ¨¡ç»“æ„åŒ–å­˜å‚¨é›†ç¾¤ã€‚ï¼ˆ âˆš ï¼‰</p>
</li>
<li><p><code>HBase</code> æ˜¯ <code>Hadoop</code> ç”Ÿæ€ç³»ç»Ÿçš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ã€‚ï¼ˆ âˆš ï¼‰</p>
<p><code>HBase</code> æ˜¯ç»§ <code>Google Bigtable</code> ä¹‹ååˆ›å»ºçš„åˆ†å¸ƒå¼ã€å¼€æºã€ç‰ˆæœ¬åŒ–ã€éå…³ç³»å‹æ•°æ®åº“ã€‚å®ƒæ˜¯ <code>Hadoop</code> ç”Ÿæ€ç³»ç»Ÿçš„é‡è¦ç»„ä»¶ï¼Œåˆ©ç”¨ <code>HDFS</code> çš„å®¹é”™åŠŸèƒ½ï¼Œæä¾›å¯¹æ•°æ®çš„å®æ—¶è¯»å†™è®¿é—®ã€‚ <code>HBase</code> å°½ç®¡æ˜¯æ•°æ®åº“ï¼Œä½†ä¹Ÿå¯ä»¥ç§°ä¸ºæ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œå› ä¸ºå®ƒä¸æä¾›è§¦å‘å™¨ã€æŸ¥è¯¢è¯­è¨€å’ŒäºŒçº§ç´¢å¼•ç­‰ <code>RDBMS</code> åŠŸèƒ½ã€‚</p>
</li>
<li><p>ä½¿ç”¨ <code>HBase</code> æ—¶ï¼Œæ— éœ€å¯åŠ¨æœåŠ¡å°±å¯ä»¥ç›´æ¥åœ¨å¼€å‘ç¯å¢ƒä¸­è°ƒç”¨ <code>HBase</code> çš„ç›¸å…³åŠŸèƒ½ã€‚ï¼ˆ Ã— ï¼‰</p>
<p><code>HBase</code> æ˜¯åŸºäº <code>Hadoop</code> çš„ï¼Œåœ¨ä½¿ç”¨ <code>HBase</code> ä¹‹å‰éœ€è¦å¯åŠ¨ <code>ZooKeeper</code> å’Œ <code>Hadoop</code> æ‰èƒ½ä½¿ç”¨ <code>HBase</code>ã€‚</p>
</li>
<li><p>é…ç½® <code>HBase</code> åˆ†å¸ƒå¼éƒ¨ç½²çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>cp</code> å‘½ä»¤æŠŠæ–‡ä»¶å¤åˆ¶åˆ°è¿è¡Œåœ¨ä¸åŒæœºå™¨ä¸Šçš„èŠ‚ç‚¹ä¸­ã€‚ï¼ˆ Ã— ï¼‰</p>
<p>å¯ä»¥ä½¿ç”¨ <code>scp</code> å‘½ä»¤ã€<code>rsync</code>å‘½ä»¤ï¼Œæˆ–è€…åŸºäº <code>rsync</code> ç¼–å†™å·¥å…· <code>xsync</code> è¿›è¡Œä¼ è¾“ã€‚</p>
</li>
</ol>
<h3 id="å¡«ç©ºé¢˜"><a href="#å¡«ç©ºé¢˜" class="headerlink" title="å¡«ç©ºé¢˜"></a>å¡«ç©ºé¢˜</h3><ol>
<li><p>åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨ï¼Œç¦ç”¨è¡¨ï¼Œåˆ é™¤è¡¨ï¼Œåˆ›å»ºè¡¨ï¼ŒæŸ¥çœ‹å‘½åç©ºé—´ç­‰ <code>Shell</code> å‘½ä»¤ã€‚</p>
<ul>
<li>åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨ ï¼š<code>exists &#39;namespace_name:table_name&#39;</code></li>
<li>ç¦ç”¨&#x2F;å¯ç”¨è¡¨ï¼š<code>disable &#39;namespace_name:table_name&#39;</code> &#x2F; <code>enable namespace_name:table_name</code></li>
<li>åˆ é™¤è¡¨ï¼šåˆ é™¤è¡¨ä¹‹å‰éœ€è¦ç¦ç”¨è¡¨ï¼Œ<code>disable &#39;namespace_name:table_name&#39;</code>ï¼Œç„¶åå†åˆ é™¤è¡¨ï¼Œ<code>drop &#39;namespace_name:tablename&#39;</code></li>
<li>åˆ›å»ºè¡¨ï¼š<code>create &#39;namespace_name:table_name&#39;, &#123;NAME =&gt; &#39;cf1&#39;, VERSION=5&#125;, &#123;NAME =&gt; &#39;cf2&#39;, VERSION=5&#125;</code></li>
<li>æŸ¥çœ‹å‘½åç©ºé—´ï¼š<code>list_namespace</code></li>
</ul>
</li>
<li><p><code>HBase</code> çš„è¿›ç¨‹æœ‰å“ªäº›ï¼šå…³äºè¿™äº›è¿›ç¨‹çš„è¯¦ç»†è¯´æ˜è§ <a href="https://hello-nilera.com/2024/06/02/QuickPassHBase/"><code>QuickPassHBase</code></a> æˆ– <strong>ç®€ç­”é¢˜ T4</strong>ã€‚</p>
<ul>
<li><code>HBase</code> çš„ä¸»è¦è¿›ç¨‹ï¼š<code>HMaster</code>ã€<code>HRegionServer</code></li>
<li><code>HBase</code> æ‰€ä¾èµ–çš„ä¸¤ä¸ªå¤–éƒ¨çš„æœåŠ¡ï¼š<code>ZooKeeper</code>ã€<code>HDFS</code></li>
</ul>
</li>
<li><p>è¡Œé”®æ˜¯ä»€ä¹ˆï¼š<code>rowkey</code></p>
<p>åœ¨ <code>HBase</code> ä¸­ï¼Œè¡Œé”®å”¯ä¸€æ ‡è¯†äº† <code>HBase</code> è¡¨çš„ä¸€è¡Œï¼Œå¯ä»¥é€šè¿‡å•ä¸ªè¡Œé”®æˆ–è¡Œé”®åŒºé—´çš„æ–¹å¼è®¿é—®è¡¨ã€‚è¡Œé”®ä¿å­˜ä¸º <em>å­—èŠ‚æ•°ç»„</em> ï¼Œä»¥<em>å­—å…¸åº</em> æ’åºå­˜å‚¨ã€‚</p>
</li>
<li><p><code>HBase</code> æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿã€‚ï¼ˆéå…³ç³»å‹ï¼‰</p>
<p><code>Apache HBaseâ„¢</code> æ˜¯ä»¥ <code>HDFS</code> ä¸ºæ•°æ®å­˜å‚¨çš„ï¼Œä¸€ç§<strong>åˆ†å¸ƒå¼</strong>ã€<strong>å¯æ‰©å±•</strong>çš„ <code>NoSQL</code> æ•°æ®åº“ã€‚<strong>HBase</strong> æ˜¯ä¸€æ¬¾é¢å‘åˆ—å­˜å‚¨ï¼Œç”¨äºå­˜å‚¨å¤„ç†æµ·é‡æ•°æ®çš„ <strong>NoSQL</strong> æ•°æ®åº“ã€‚</p>
<p><em><strong>HBase</strong></em> çš„ç†è®ºåŸå‹æ˜¯ <strong>Google</strong> çš„ <strong>BigTable</strong> è®ºæ–‡ã€‚ä»–æ˜¯ä¸€ä¸ª<strong>é«˜å¯é æ€§</strong>ã€<strong>é«˜æ€§èƒ½</strong>ã€<strong>é¢å‘åˆ—</strong>ã€<strong>å¯ä¼¸ç¼©</strong>çš„<strong>åˆ†å¸ƒå¼</strong>å­˜å‚¨ç³»ç»Ÿã€‚</p>
</li>
</ol>
<h3 id="ç®€ç­”é¢˜"><a href="#ç®€ç­”é¢˜" class="headerlink" title="ç®€ç­”é¢˜"></a>ç®€ç­”é¢˜</h3><ol>
<li><p><code>HBase</code> çš„åŸºç¡€æ ¸å¿ƒç»„ä»¶æœ‰å“ªäº›ï¼Ÿåˆ†åˆ«ä»€ä¹ˆä½œç”¨ï¼Ÿ</p>
<ul>
<li><p>HBase-Client<br>å®¢æˆ·ç«¯ï¼Œç”¨æ¥è®¿é—® <code>HBase</code> é›†ç¾¤ã€‚å¯ä»¥å’Œ <code>Hbase</code> äº¤äº’ï¼Œä¹Ÿå¯ä»¥å’Œ <code>HRegionServer</code> äº¤äº’ã€‚é€šè¿‡ <code>HBase RPC</code> æ¥è®¿é—®å¯¹åº”çš„æ¥å£ã€‚</p>
<p>è¿™é‡Œçš„å®¢æˆ·ç«¯æ¨¡å¼æœ‰å¤šç§ï¼Œå¯ä»¥æ˜¯ <code>Thrift</code>ã€<code>Avro</code>ã€<code>Rest</code> ç­‰ã€‚</p>
<p>å¦å¤–ï¼Œ<code>hbase-client</code> è‡ªèº«ä¼šç¼“å­˜ <code>region</code> çš„ä¸€äº›ä¿¡æ¯ã€‚</p>
</li>
<li><p>ZooKeeper<br>ä½œç”¨ï¼š</p>
<ul>
<li><code>HMaster</code> çš„é«˜å¯ç”¨</li>
<li>å­˜å‚¨ <code>ROOT</code> è¡¨çš„åœ°å€ã€<code>HMaster</code> çš„åœ°å€</li>
<li>å­˜å‚¨æ‰€æœ‰ <code>HRegionServer</code> çš„çŠ¶æ€ï¼Œç›‘æ§ <code>HRegionServer</code> çš„ä¸Šä¸‹é™</li>
<li>å­˜å‚¨ <code>HBase</code> çš„ä¸€äº› <code>Schema</code> å’Œ <code>Table</code> çš„å…ƒæ•°æ®</li>
</ul>
</li>
<li><p>HMaster</p>
<p>HMasterå¯ä»¥å¯åŠ¨å¤šä¸ªï¼Œé€šè¿‡é€‰ä¸¾æœºåˆ¶æ¥ä¿è¯åªæœ‰ä¸€ä¸ª <code>HMaster</code> æ­£å¸¸è¿è¡Œå¹¶æä¾›æœåŠ¡ï¼Œå…¶ä»–çš„ <code>HMaster</code> ä½œä¸º <code>standby</code> æ¥ä¿è¯é«˜å¯ç”¨ã€‚<code>HMaster</code> ä¸»è¦è´Ÿè´£ <strong>è¡¨</strong> å’Œ <strong>Region</strong> çš„ç®¡ç†å·¥ä½œã€‚å¦‚ï¼š</p>
<ul>
<li>ç”¨æˆ·å¯¹è¡¨çš„å¢åˆ æ”¹æŸ¥</li>
<li>ç®¡ç† <code>RegionServer</code> çš„è´Ÿè½½å‡è¡¡ï¼Œè°ƒæ•´ <code>Region</code> çš„åˆ†å¸ƒ</li>
<li>åœ¨ <code>RegionServer</code> å®•æœºæˆ–ä¸‹çº¿åï¼Œè´Ÿè´£è¿ç§» <code>RegionServer</code> ä¸Šçš„ <code>Region</code> åˆ°å…¶ä»–çš„ <code>RegionServer</code> ä¸Š</li>
<li><code>Region</code> åœ¨åˆ†è£‚åï¼Œè´Ÿè´£åˆ†é…æ–°çš„ <code>Region</code></li>
</ul>
</li>
<li><p>HRegionServer<br><code>HRegionServer</code> æ˜¯ <code>HBase</code> ä¸­çœŸæ­£çš„å·¥ä½œèŠ‚ç‚¹ï¼Œä¸»è¦è´Ÿè´£å“åº”ç”¨æˆ·çš„ I&#x2F;O è¯·æ±‚ï¼Œå‘ HDFS æ–‡ä»¶ç³»ç»Ÿè¯»å†™æ•°æ®ï¼Œä»¥åŠ Region çš„æ•°æ®æ–‡ä»¶çš„åˆå¹¶å’Œæ‹†åˆ†ç­‰ï¼Œæ˜¯ HBase ä¸­æœ€æ ¸å¿ƒçš„æ¨¡å—ã€‚</p>
<p>åœ¨ <code>HBase</code> ä¸­ï¼Œä¸€å¼ è¡¨ç”±å¤šä¸ªçš„ <code>HRegion</code> ç»„æˆï¼Œä¸€ä¸ª <code>HRegionServer</code> ä¸­ç®¡ç†ç€å¤šä¸ª <code>HRegion</code> å¯¹è±¡ã€‚è€Œä¸€ä¸ª <code>HRegion</code> ç”±å¤šä¸ª<code>HStore</code> ç»„æˆï¼Œæ¯ä¸ª<code>HStore</code>å¯¹è±¡éƒ½å¯¹åº”ç€è¡¨çš„ä¸€ä¸ªåˆ—æ— ï¼ˆColumn Familyï¼‰ã€‚ä¹‹åï¼Œä¸€ä¸ª<code>HStore</code>åˆç”±ä¸€ä¸ª<code>MemStore</code>å’Œå¤šä¸ª<code>StoreFile</code>ç»„æˆã€‚è¿™äº› <code>StoreFile</code> å°±æ˜¯<code>hbase</code> å­˜å‚¨åœ¨ <code>HDFS</code>ä¸Šçš„æ•°æ®æ–‡ä»¶ï¼Œ<code>MemStore</code> è¡¨ç¤ºè¿˜åœ¨å†…å­˜ä¸­æœªåˆ·æ–°åˆ°æ–‡ä»¶ä¸Šçš„é‚£äº›æ•°æ®ã€‚</p>
</li>
</ul>
</li>
<li><p><code>HBase</code> çš„å†™æµç¨‹ï¼Œ è¯»æµç¨‹ï¼Ÿ</p>
<ul>
<li><p>å†™æµç¨‹</p>
<p>å†™æµç¨‹é¡ºåºæ­£å¦‚ <code>API</code> ç¼–å†™é¡ºåºï¼Œé¦–å…ˆåˆ›å»º <code>HBase</code> çš„é‡é‡çº§è¿æ¥ã€‚</p>
<p>â‘  é¦–å…ˆè®¿é—® <code>ZooKeeper</code>ï¼Œè·å– <code>hbase:meta</code> è¡¨ä½äºå“ªä¸ª <code>Region Server</code> </p>
<p>â‘¡ è®¿é—®å¯¹åº”çš„ <code>Region Server</code>ï¼Œè·å– <code>hbase:meta</code> è¡¨ï¼Œå°†å…¶ç¼“å­˜åˆ°è¿æ¥ä¸­ï¼Œä½œä¸ºè¿æ¥å±æ€§ <code>MetaCache</code>ï¼Œç”±äº <code>meta</code> è¡¨å…·æœ‰ä¸€å®šçš„æ•°æ®é‡ï¼Œå¯¼è‡´äº†åˆ›å»ºè¿æ¥æ¯”è¾ƒæ…¢ï¼›</p>
<p>ä¹‹åä½¿ç”¨åˆ›å»ºçš„è¿æ¥è·å– <code>Table</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªè½»é‡çº§çš„è¿æ¥ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡åˆ›å»ºçš„æ—¶å€™ä¼šæ£€æŸ¥è¡¨æ ¼æ˜¯å¦å­˜åœ¨è®¿é—®<code>RegionServer</code>ï¼Œä¹‹ååœ¨è·å– <code>Table</code> æ—¶ä¸ä¼šè®¿é—® <code>RegionServer</code></p>
<p>â‘¢ è°ƒç”¨ <code>Table</code> çš„ <code>put</code> æ–¹æ³•å†™å…¥æ•°æ®ï¼Œæ­¤æ—¶è¿˜éœ€è¦è§£æ <code>RowKey</code>ï¼Œå¯¹ç…§ç¼“å­˜çš„ <code>MetaCache</code>ï¼ŒæŸ¥çœ‹å…·ä½“å†™å…¥çš„ä½ç½®æœ‰å“ªä¸ª <code>RegionServer</code></p>
<p>â‘£ å°†æ•°æ®é¡ºåºå†™å…¥ï¼ˆè¿½åŠ ï¼‰åˆ° <code>WAL</code>ï¼Œæ­¤å¤„å†™å…¥æ˜¯ç›´æ¥è½ç›˜çš„ï¼Œå¹¶è®¾ç½®ä¸“é—¨çš„çº¿ç¨‹æ§åˆ¶ <code>WAL</code> é¢„å†™æ—¥å¿—çš„æ»šåŠ¨ï¼ˆç±»ä¼¼ Flumeï¼‰ï¼›</p>
<p>â‘¤ æ ¹æ®å†™å…¥å‘½ä»¤çš„ <code>RowKey</code> å’Œ <code>ColumnFamily</code> æŸ¥çœ‹å…·ä½“å†™å…¥åˆ°å“ªä¸ª <code>MemStore</code>ï¼Œå¹¶ä¸”åœ¨ <code>MemStore</code> ä¸­æ’åº</p>
<p>â‘¥ å‘å®¢æˆ·ç«¯å‘é€ <code>ACK</code></p>
<p>â‘¦ ç­‰è¾¾åˆ° <code>MemStore</code> çš„åˆ·å†™æ—¶æœºåï¼Œå°†æ•°æ®åˆ·å†™åˆ°å¯¹åº”çš„ <code>Store</code> ä¸­ã€‚</p>
</li>
<li><p>è¯»æµç¨‹</p>
<p>è¯»æµç¨‹åˆ›å»ºè¿æ¥çš„æ–¹å¼åŒå†™æµç¨‹ã€‚åˆ›å»ºå®Œè¿æ¥åï¼š</p>
<p>â‘  åˆ›å»º <code>Table</code> å¯¹è±¡å‘é€ <code>get</code> è¯·æ±‚ã€‚</p>
<p>â‘¡ ä¼˜å…ˆè®¿é—® <code>Block Cache</code>ï¼ˆè¯»ç¼“å­˜ï¼‰ï¼ŒæŸ¥æ‰¾æ˜¯å¦ä¹‹å‰è¯»å–è¿‡ï¼Œå¹¶ä¸”å¯ä»¥è¯»å– <code>HFile</code> çš„ç´¢å¼•ä¿¡æ¯å’Œå¸ƒéš†è¿‡æ»¤å™¨ã€‚</p>
<p>â‘¢ ä¸ç®¡è¯»ç¼“å­˜ä¸­æ˜¯å¦å·²ç»æœ‰æ•°æ®äº†ï¼ˆå¯èƒ½å·²ç»è¿‡æœŸäº†ï¼‰ï¼Œéƒ½éœ€è¦å†æ¬¡è¯»å–å†™ç¼“å­˜å’Œ <code>store</code> ä¸­çš„æ–‡ä»¶ã€‚</p>
<p>â‘£ æœ€ç»ˆå°†æ‰€æœ‰è¯»å–åˆ°çš„æ•°æ®åˆå¹¶ç‰ˆæœ¬ï¼ŒæŒ‰ç…§ <code>get</code> çš„è¦æ±‚è¿”å›å³å¯ã€‚</p>
</li>
</ul>
</li>
<li><p><code>HBase</code> çš„ç‰¹ç‚¹æœ‰å“ªäº›ï¼Ÿä¼˜ç‚¹æˆ–ç¼ºç‚¹ï¼Ÿ</p>
<p><em><strong>HBaseçš„ç‰¹ç‚¹ï¼š</strong></em>(å¼º &#x2F; è‡ªåŠ¨ &#x2F; é«˜ &#x2F; æµ·é›† &#x2F; å¹¶ &#x2F; åˆ— &#x2F; å¤š &#x2F; å— &#x2F; è¿è¡Œ &#x2F; ç¨€)</p>
<ul>
<li><p><strong>å¼ºä¸€è‡´æ€§çš„è¯»&#x2F;å†™</strong>ï¼š<code>HBase</code>ä¸æ˜¯â€æœ€ç»ˆä¸€è‡´æ€§â€æ•°æ®åº“ï¼Œå®ƒéå¸¸é€‚åˆäºè¯¸å¦‚é«˜é€Ÿè®¡æ•°å™¨èšåˆç­‰ä»»åŠ¡ã€‚</p>
</li>
<li><p><strong>è‡ªåŠ¨åˆ†ç‰‡</strong>ï¼š<code>HBase</code> ä¸­çš„è¡¨é€šè¿‡ <code>Region</code> åˆ†å¸ƒåœ¨é›†ç¾¤ä¸Šï¼Œè€Œä¸” <code>Region</code> ä¼šéšç€æ•°æ®çš„å¢é•¿è‡ªåŠ¨æ‹†åˆ†å’Œé‡æ–°åˆ†å¸ƒã€‚</p>
</li>
<li><p><strong>é«˜å¯é æ€§</strong>ï¼šè‡ªåŠ¨ <code>RegionServer</code> æ•…éšœè½¬ç§»ï¼Œ<code>WAL</code> æœºåˆ¶ä¿è¯äº†æ•°æ®å†™å…¥æ—¶ä¸ä¼šå› é›†ç¾¤å¼‚å¸¸è€Œå¯¼è‡´å†™å…¥æ•°æ®ä¸¢å¤±ï¼Œ<code>Replication</code> æœºåˆ¶ä¿è¯äº†åœ¨é›†ç¾¤å‡ºç°ä¸¥é‡çš„é—®é¢˜æ—¶ï¼Œæ•°æ®ä¸ä¼šå‘ç”Ÿä¸¢å¤±æˆ–æŸåã€‚è€Œä¸” <code>HBase</code> åº•å±‚ä½¿ç”¨ <code>HDFS</code>ï¼Œ<code>HDFS</code> æœ¬èº«ä¹Ÿæœ‰å¤‡ä»½ã€‚</p>
</li>
<li><p><strong><code>Hadoop/HDFS</code> é›†æˆ&amp;æµ·é‡å­˜å‚¨</strong>ï¼šï¼Œ<code>HBase</code>æ”¯æŒ <code>HDFS</code>å¼€ç®±å³ç”¨ä½œä¸ºå…¶åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚HBase ä½œä¸ºä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ <code>Key-Value</code> æ•°æ®åº“ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯é¢å‘ <strong>PB</strong> çº§åˆ«æ•°æ®çš„å®æ—¶å…¥åº“å’Œå¿«é€Ÿéšæœºè®¿é—®ã€‚è¿™ä¸»è¦æºäºä¸Šè¿°æ˜“æ‰©å±•çš„ç‰¹ç‚¹ï¼Œä½¿å¾— <code>HBase</code> é€šè¿‡æ‰©å±•æ¥å­˜å‚¨æµ·é‡çš„æ•°æ®ã€‚</p>
</li>
<li><p><strong>å¹¶è¡Œå¤„ç†</strong>ï¼š<code>HBase</code> é€šè¿‡ <code>MapReduce</code> æ”¯æŒå¤§è§„æ¨¡å¹¶è¡Œå¤„ç†ï¼Œå°† <code>HBase</code> ç”¨ä½œæºå’Œæ¥æ”¶å™¨ã€‚</p>
</li>
<li><p><strong>åˆ—å¼å­˜å‚¨</strong>ï¼š<code>HBase</code> æ˜¯æ ¹æ®åˆ—æ—æ¥å­˜å‚¨æ•°æ®çš„ã€‚åˆ—æ—ä¸‹é¢å¯ä»¥æœ‰éå¸¸å¤šçš„åˆ—ã€‚åˆ—å¼å­˜å‚¨çš„æœ€å¤§å¥½å¤„å°±æ˜¯ï¼Œå…¶æ•°æ®åœ¨è¡¨ä¸­æ˜¯æŒ‰ç…§æŸåˆ—å­˜å‚¨çš„ï¼Œè¿™æ ·åœ¨æŸ¥è¯¢åªéœ€è¦å°‘æ•°å‡ ä¸ªå­—æ®µæ—¶ï¼Œèƒ½å¤§å¤§å‡å°‘è¯»å–çš„æ•°æ®é‡ã€‚ï¼ˆé¢å‘åˆ—ï¼‰</p>
</li>
<li><p><strong>å¤šç§è¯­è¨€çš„ API</strong>ï¼š<code>HBase</code> æ”¯æŒä½¿ç”¨ <code>Java</code> çš„ <code>API</code> æ¥ç¼–ç¨‹è¿›è¡Œæ•°æ®çš„å­˜å–ï¼Œè¿˜æ”¯æŒä½¿ç”¨ <code>Thrift</code> è¯­è¨€å’Œ <code>REST</code> è¯­è¨€çš„ <code>API</code> æ¥ç¼–ç¨‹è¿›è¡Œæ•°æ®çš„å­˜å–ã€‚</p>
</li>
<li><p><strong>å—ç¼“å­˜å’Œå¸ƒéš†è¿‡æ»¤å™¨</strong>ï¼š<code>HBase</code>æ”¯æŒ <code>Block Cache</code> å’Œ <code>Bloom</code>è¿‡æ»¤å™¨è¿›è¡Œå¤§å®¹é‡æŸ¥è¯¢ä¼˜åŒ–ã€‚</p>
</li>
<li><p><strong>è¿è¡Œç®¡ç†</strong>ï¼š<code>HBase</code> ä¸ºä¸šåŠ¡æ´å¯Ÿå’Œ <code>JMX</code> åº¦é‡æä¾›å†…ç½®ç½‘é¡µã€‚</p>
</li>
<li><p><strong>ç¨€ç–æ€§</strong>ï¼šä¸ºç©ºçš„åˆ—å¯ä»¥ä¸å å­˜å‚¨ç©ºé—´ï¼Œè¡¨å¯ä»¥è®¾è®¡çš„éå¸¸ç¨€ç–ã€‚</p>
</li>
</ul>
<p><em><strong>HBase çš„ä¼˜ç‚¹å’Œç¼ºç‚¹</strong></em></p>
<ul>
<li><p>HBaseçš„ä¼˜ç‚¹ï¼š(åŠ¨èŠ‚&#x2F;æµ·å­˜&#x2F;è´Ÿè½½&#x2F;å¹¶æ‹“)</p>
<ul>
<li><strong>åŠ¨æ€å¢åŠ &amp;èŠ‚çœç©ºé—´</strong>ï¼šåœ¨ä¼ ç»Ÿçš„å…³ç³»æ•°æ®åº“ä¸­ï¼Œå¦‚æœæ•°æ®ç»“æ„å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±éœ€è¦åœæœºç»´æŠ¤ï¼Œè€Œä¸”éœ€è¦ä¿®æ”¹è¡¨ç»“æ„ï¼Œè€Œåœ¨ HBase ä¸­æ•°æ®è¡¨å†…çš„åˆ—å¯ä»¥åšåˆ°åŠ¨æ€å¢åŠ ï¼Œå¹¶ä¸”åˆ—ä¸ºç©ºçš„æ—¶å€™ä¸å­˜å‚¨æ•°æ®ï¼Œä»è€ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚</li>
<li><strong>æµ·é‡æ•°æ®å­˜å‚¨</strong>ï¼š<code>HBase</code> é€‚åˆå­˜å‚¨ <strong>PB</strong> æ•°é‡çº§çš„æµ·é‡æ•°æ®ï¼Œ<strong>PB</strong> çº§çš„æ•°æ®åœ¨åªé‡‡ç”¨å»‰ä»· PC æ¥å­˜å‚¨çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥åœ¨å‡ ååˆ°ä¸€ç™¾æ¯«ç§’å†…è¿”å›æ•°æ®ã€‚è¿™ä¸ <code>HBase</code> çš„ææ˜“æ‰©å±•æ¯æ¯ç›¸å…³ï¼Œæ­£å› å¦‚æ­¤ï¼ŒHBase ä¸ºæµ·é‡æ•°æ®çš„å­˜å‚¨æä¾›äº†ä¾¿åˆ©ã€‚</li>
<li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šä¼ ç»Ÿçš„é€šç”¨å…³ç³»æ•°æ®åº“æ— æ³•åº”å¯¹åœ¨æ•°æ®è§„æ¨¡å‰§å¢æ—¶å¯¼è‡´çš„ç³»ç»Ÿæ‰©å±•æ€§é—®é¢˜å’Œæ€§èƒ½é—®é¢˜ã€‚<code>HBase</code> å¯ä»¥åšåˆ°è‡ªåŠ¨åˆ‡åˆ†æ•°æ®ï¼Œå¹¶ä¸”ä¼šéšç€æ•°æ®çš„å¢é•¿è‡ªåŠ¨åœ°æ‹†åˆ†å’Œé‡æ–°åˆ†å¸ƒã€‚</li>
<li><strong>é«˜å¹¶å‘</strong>ï¼š<code>HBase</code> å¯ä»¥æä¾›é«˜å¹¶å‘çš„è¯»å†™æ“ä½œï¼Œè€Œä¸”å¯ä»¥åˆ©ç”¨å»‰ä»·çš„è®¡ç®—æœºæ¥å¤„ç†è¶…è¿‡ 10 äº¿è¡Œçš„è¡¨æ•°æ®</li>
<li><strong>é«˜æ‹“å±•æ€§</strong>ï¼š<code>HBase</code> å…·æœ‰å¯ä¼¸ç¼©æ€§ï¼Œå¦‚æœå½“å‰é›†ç¾¤çš„å¤„ç†èƒ½åŠ›æ˜æ˜¾ä¸‹é™ï¼Œå¯ä»¥å¢åŠ é›†ç¾¤çš„æœåŠ¡å™¨æ•°é‡æ¥ç»´æŒç”šè‡³æé«˜å¤„ç†èƒ½åŠ›ã€‚</li>
</ul>
</li>
<li><p><code>HBase</code> çš„ç¼ºç‚¹ï¼šï¼ˆæ¡æŸ¥&#x2F;å¤æ‚&#x2F;JOIN&#x2F;ACID&#x2F;SQLï¼‰</p>
<ul>
<li><strong>ä¸æ”¯æŒæ¡ä»¶æŸ¥è¯¢</strong>ï¼šä¸èƒ½æ”¯æŒæ¡ä»¶æŸ¥è¯¢ï¼Œåªæ”¯æŒæŒ‰ç…§ <code>RowKey</code>ï¼ˆè¡Œé”®ï¼‰æ¥æŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯åªèƒ½æŒ‰ç…§ä¸»é”®æ¥æŸ¥è¯¢ã€‚è¿™æ ·åœ¨è®¾è®¡ <code>RowKey</code> æ—¶ï¼Œå°±éœ€è¦å®Œç¾çš„æ–¹æ¡ˆä»¥è®¾è®¡å‡ºç¬¦åˆä¸šåŠ¡çš„æŸ¥è¯¢ã€‚</li>
<li><strong>æ¶æ„è®¾è®¡å¤æ‚</strong>ï¼šæ¶æ„è®¾è®¡å¤æ‚ï¼Œä¸”ä½¿ç”¨ <code>HDFS</code> ä½œä¸ºåˆ†å¸ƒå¼å­˜å‚¨ï¼Œå› æ­¤åªæ˜¯å­˜å‚¨å°‘é‡æ•°æ®ï¼Œå®ƒä¹Ÿä¸ä¼šå¾ˆå¿«ã€‚åœ¨å¤§æ•°æ®é‡æ—¶ï¼Œå®ƒæ…¢çš„ä¸ä¼šå¾ˆæ˜æ˜¾ã€‚</li>
<li><strong>ä¸æ”¯æŒ <code>Join</code> æ“ä½œ</strong>ï¼š<code>HBase</code> ä¸æ”¯æŒè¡¨çš„å…³è”æ“ä½œï¼Œå› æ­¤æ•°æ®åˆ†ææ˜¯ <code>HBase</code> çš„å¼±é¡¹ã€‚å¸¸è§çš„ <code>group by</code> æˆ– <code>order by</code> åªèƒ½é€šè¿‡ç¼–å†™ <code>MapReduce</code> æ¥å®ç°ã€‚</li>
<li><strong>ä¸æ”¯æŒACID</strong>ï¼š<code>HBase</code>éƒ¨åˆ†æ”¯æŒäº† <code>ACID</code></li>
<li><strong>ä¸æ”¯æŒSQLè¯­å¥æŸ¥è¯¢</strong>ï¼šæŸ¥è¯¢ <code>HBase</code> æ—¶ä¸æ”¯æŒé€šè¿‡ <code>SQL</code> è¯­å¥è¿›è¡ŒæŸ¥è¯¢ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><code>Master</code> å’Œ <code>RegionServer</code> çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><code>HBase</code> åŒ…å«ä¸€ä¸ª <code>Master</code> å’Œè®¸å¤šä¸ª <code>RegionServer</code> ã€‚</p>
<ul>
<li><p><code>Master</code>ï¼šå®ç°ç±»ä¸º <code>HMaster</code>ï¼Œè´Ÿè´£ç›‘æ§é›†ç¾¤ä¸­æ‰€æœ‰çš„ <code>RegionServer</code> å®ä¾‹ã€‚ä¸»è¦ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>ç®¡ç†å…ƒæ•°æ®è¡¨æ ¼ <code>hbase:meta</code>ï¼Œæ¥æ”¶ç”¨æˆ·å¯¹è¡¨æ ¼åˆ›å»ºä¿®æ”¹åˆ é™¤çš„å‘½ä»¤å¹¶æ‰§è¡Œ</p>
</li>
<li><p>ç›‘æ§ <code>Region</code> æ˜¯å¦éœ€è¦è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œæ•…éšœè½¬ç§»å’Œ <code>Region</code> çš„æ‹†åˆ†ã€‚</p>
</li>
</ul>
</li>
<li><p><code>RegionServer</code>ï¼šå®ç°ç±»ä¸º <code>HRegionServer</code>ï¼Œä¸»è¦ä½œç”¨å¦‚ä¸‹: </p>
<ul>
<li><p>è´Ÿè´£æ•°æ® <code>Cell</code> çš„å¤„ç†ï¼Œä¾‹å¦‚å†™å…¥æ•°æ® <code>put</code>ï¼ŒæŸ¥è¯¢æ•°æ® <code>get</code> ç­‰ã€‚</p>
</li>
<li><p>æ‹†åˆ†åˆå¹¶ <code>Region</code> çš„å®é™…æ‰§è¡Œè€…ï¼Œæœ‰ <code>master</code> ç›‘æ§ï¼Œæœ‰ <code>RegionServer</code> æ‰§è¡Œã€‚</p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="ç¼–ç¨‹é¢˜"><a href="#ç¼–ç¨‹é¢˜" class="headerlink" title="ç¼–ç¨‹é¢˜"></a>ç¼–ç¨‹é¢˜</h3><h4 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h4><ol>
<li><p>åˆ›å»ºå‘½åç©ºé—´çš„ Shell</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create_namespace <span class="string">&#x27;namespace_name&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºè¡¨çš„ Shell</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create <span class="string">&#x27;namespace_name:table_name&#x27;</span>, &#123;NAME =&gt; <span class="string">&#x27;cf1&#x27;</span>, VERSION =&gt; 5&#125; </span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹è¡¨çš„ Shell</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter <span class="string">&#x27;namespace_name:table_name&#x27;</span>, NAME =&gt; <span class="string">&#x27;cf1&#x27;</span>, METHOD =&gt; <span class="string">&#x27;delete&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ’å…¥æ•°æ®çš„ Shell</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">put <span class="string">&#x27;ns:tb&#x27;</span>, <span class="string">&#x27;rk&#x27;</span>, <span class="string">&#x27;cf:col&#x27;</span>, <span class="string">&#x27;value&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥è¯¢æ•°æ®çš„ Shell</p>
<ul>
<li><code>get</code> æœ€å¤§èŒƒå›´æ˜¯ä¸€è¡Œæ•°æ®ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œåˆ—çš„è¿‡æ»¤ï¼Œè¯»å–çš„ç»“æœä¸ºå¤šè¡Œ <code>Cell</code>ã€‚ <code>Cell</code> çš„æ ¼å¼å¦‚ä¸‹ï¼š<code>&#123;rowkey, column Familycolumn Qualifier, time Stamp&#125;</code>ã€‚</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get <span class="string">&#x27;ns:tb&#x27;</span>, <span class="string">&#x27;rk&#x27;</span> , &#123;COLUMN =&gt; <span class="string">&#x27;cf:col&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>scan</code> ç”¨äºæ‰«ææ•°æ®ï¼Œèƒ½å¤Ÿè¯»å–å¤šè¡Œæ•°æ®ï¼Œä¸å»ºè®®æ‰«æè¿‡å¤šçš„æ•°æ®ï¼Œæ¨èä½¿ç”¨ <code>startRow</code> å’Œ <code>stopRow</code> æ¥æ§åˆ¶è¯»å–çš„æ•°æ®ï¼Œé»˜è®¤èŒƒå›´<strong>å·¦é—­å³å¼€</strong>ã€‚</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan <span class="string">&#x27;namespace_name:table_name&#x27;</span>, &#123;STARTROW =&gt; <span class="string">&#x27;1001&#x27;</span>,STOPROW =&gt; <span class="string">&#x27;1002&#x27;</span>&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="API"><a href="#API" class="headerlink" title="API"></a>API</h4><p>è¯»å†™æ“ä½œæ—¶</p>
<ol>
<li>åŠ è½½é…ç½®ä¿¡æ¯</li>
<li>è·å– <code>HBase</code> çš„é“¾æ¥å¯¹è±¡</li>
<li>è·å– <code>Admin</code> å¯¹è±¡</li>
<li>æ„é€  <code>TableName</code> å¯¹è±¡</li>
<li>åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="type">Configuration</span> <span class="variable">conf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();			<span class="comment">// åŠ è½½é…ç½®ä¿¡æ¯</span></span><br><span class="line">        conf.set(<span class="string">&quot;hbase.zookeeper.quorum&quot;</span>, <span class="string">&quot;bigdata&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = ConnectionFactory.createConnection(conf);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">closeConntction</span><span class="params">()</span> <span class="keyword">throw</span> IOException &#123;</span><br><span class="line">        <span class="keyword">if</span> (connection != <span class="literal">null</span>) &#123;</span><br><span class="line">            connection.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@brief</span> åˆ¤æ–­è¡¨æ ¼æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> namespace å‘½åç©ºé—´å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> tableName è¡¨å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true å­˜åœ¨; false ä¸å­˜åœ¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isTableExists</span><span class="params">(String namespace, String tableName)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1. è·å¾— admin</span></span><br><span class="line">        <span class="type">Admin</span> <span class="variable">admin</span> <span class="operator">=</span> HBaseConnection.connection.getAdmin();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. ä½¿ç”¨å¯¹åº”çš„æ–¹æ³•, åˆ¤æ–­è¡¨æ ¼æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            result = admin.tableExists(TableName.valueOf(namespace, tableName));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. å…³é—­ admin</span></span><br><span class="line">        admin.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@brief</span> å‘è¡¨æ ¼ä¸­æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> namespace å‘½åç©ºé—´å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> tableName è¡¨å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> rowKey è¡Œé”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> columnFamily åˆ—æ—å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> columnName åˆ—å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value æ’å…¥å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">putCell</span><span class="params">(String namespace,</span></span><br><span class="line"><span class="params">                               String tableName,</span></span><br><span class="line"><span class="params">                               String rowKey,</span></span><br><span class="line"><span class="params">                               String columnFamily,</span></span><br><span class="line"><span class="params">                               String columnName,</span></span><br><span class="line"><span class="params">                               String value)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1. è·å– Table</span></span><br><span class="line">        <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> connection.getTable(TableName.valueOf(namespace, tableName));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. è°ƒç”¨ç›¸å…³æ–¹æ³•æ’å…¥æ•°æ®</span></span><br><span class="line">        <span class="comment">// 2.1 åˆ›å»º Put å¯¹è±¡</span></span><br><span class="line">        <span class="type">Put</span> <span class="variable">put</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Put</span>(Bytes.toBytes(rowKey));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.2. ç»™ Put å¯¹è±¡æ·»åŠ æ•°æ®</span></span><br><span class="line">        put.addColumn(Bytes.toBytes(columnFamily), Bytes.toBytes(columnName), Bytes.toBytes(value));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.3 å°†å¯¹è±¡å†™å…¥å¯¹åº”çš„æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            table.put(put);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. å…³é—­ Table</span></span><br><span class="line">        table.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@brief</span> è¯»å–æ•°æ® è¯»å–å¯¹åº”ä¸€è¡Œçš„æŸä¸€åˆ—</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> namespace å‘½åç©ºé—´å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> tableName è¡¨å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> rowKey è¡Œé”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> columnFamily åˆ—æ—å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> columnName åˆ—å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getCells</span><span class="params">(String namespace,</span></span><br><span class="line"><span class="params">                                String tableName,</span></span><br><span class="line"><span class="params">                                String rowKey,</span></span><br><span class="line"><span class="params">                                String columnFamily,</span></span><br><span class="line"><span class="params">                                String columnName)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1. è·å– Table</span></span><br><span class="line">        <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> connection.getTable(TableName.valueOf(namespace, tableName));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. è°ƒç”¨ç›¸å…³æ–¹æ³•æ’å…¥æ•°æ®</span></span><br><span class="line">        <span class="comment">// 2.1 åˆ›å»º Get å¯¹è±¡</span></span><br><span class="line">        <span class="type">Get</span> <span class="variable">get</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Get</span>(Bytes.toBytes(rowKey));   <span class="comment">// å¦‚æœæ­¤æ—¶ä¸ä½¿ç”¨ addColumn è¿›è¡Œå‚æ•°çš„æ·»åŠ , æ­¤æ—¶åˆ™è¯»å–ä¸€æ•´è¡Œçš„æ•°æ®</span></span><br><span class="line">        <span class="comment">// 2.2 å¦‚æœæƒ³è¯»å–æŸä¸€åˆ—çš„æ•°æ®, éœ€è¦æ·»åŠ å¯¹åº”çš„å‚æ•°</span></span><br><span class="line">        get.addColumn(Bytes.toBytes(columnFamily), Bytes.toBytes(columnName));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.3 ä¹Ÿå¯ä»¥è®¾ç½®è¯»å–æ•°æ®çš„ç‰ˆæœ¬</span></span><br><span class="line">        get.readAllVersions();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 3. è¯»å–æ•°æ®, å†™å…¥ Result å¯¹è±¡</span></span><br><span class="line">            <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> table.get(get);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4. å¤„ç†æ•°æ®</span></span><br><span class="line">            Cell[] cells = result.rawCells();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 5. æµ‹è¯•æ–¹æ³•: ç›´æ¥æŠŠè¯»å–åˆ°çš„æ•°æ®æ‰“å°åˆ°æ§åˆ¶å°</span></span><br><span class="line">            <span class="comment">// å¦‚æœæ˜¯å®é™…å¼€å‘, éœ€è¦å†é¢å¤–å†™æ–¹æ³•, å¯¹åº”å¤„ç†æ•°æ®</span></span><br><span class="line">            <span class="keyword">for</span> (Cell cell : cells) &#123;</span><br><span class="line">                <span class="comment">// Cell å­˜å‚¨æ•°æ®æ¯”è¾ƒåº•å±‚, éœ€è¦è¿›ä¸€æ­¥å¤„ç†</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(CellUtil.cloneValue(cell));</span><br><span class="line">                System.out.println(value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6. å…³é—­ Table</span></span><br><span class="line">        table.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throw</span> IOException &#123;</span><br><span class="line">        putCell(<span class="string">&quot;sdutcm&quot;</span>, <span class="string">&quot;bigdata&quot;</span>, <span class="string">&quot;2001&quot;</span>, <span class="string">&quot;info&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/leslies2/p/9530378.html">Hadoop ç»¼åˆæ­ç§˜â€”â€”HBaseçš„åŸç†ä¸åº”ç”¨ - é£å°˜æµªå­ - åšå®¢å›­ (cnblogs.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013332124/article/details/100125269">HBaseçš„ç»„ä»¶</a></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">ä¸Šä¸€é¡µ</a></div><div class="pagination-next"><a href="/page/2/">ä¸‹ä¸€é¡µ</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatarMyself.jpg" alt="NilEra"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">NilEra</p><p class="is-size-6 is-block">C/C++ Developer!</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Jinan Shandong</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">31</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">27</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">32</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/NilEra-K" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/NilEra-K"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">é“¾æ¥</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://github.com/NilEra-K" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">GitHub</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://nano.chemtian.top/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Thymol Blue</span></span><span class="level-right"><span class="level-item tag">nano.chemtian.top</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">åˆ†ç±»</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/CppDev/"><span class="level-start"><span class="level-item">CppDev</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/CppDev/Gaming/"><span class="level-start"><span class="level-item">Gaming</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CppDev/QT6/"><span class="level-start"><span class="level-item">QT6</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CppDev/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">å¤šçº¿ç¨‹ç¼–ç¨‹</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/%E8%BD%AF%E4%BB%B6%E6%BA%90/"><span class="level-start"><span class="level-item">è½¯ä»¶æº</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/"><span class="level-start"><span class="level-item">å¤§æ•°æ®æŠ€æœ¯</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/ECharts/"><span class="level-start"><span class="level-item">ECharts</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/HBase/"><span class="level-start"><span class="level-item">HBase</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/Scala/"><span class="level-start"><span class="level-item">Scala</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/Spark/"><span class="level-start"><span class="level-item">Spark</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"><span class="level-start"><span class="level-item">æ•°æ®å¯è§†åŒ–</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">é¡¹ç›®</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">å¼€å‘å·¥å…·</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Axure-RP-9/"><span class="level-start"><span class="level-item">Axure RP 9</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/VSCode/"><span class="level-start"><span class="level-item">VSCode</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">æ•°æ®ç»“æ„/ç®—æ³•</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/%E5%93%88%E5%B8%8C-Hash/"><span class="level-start"><span class="level-item">å“ˆå¸Œ(Hash)</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/%E6%A0%88-Stack/"><span class="level-start"><span class="level-item">æ ˆ(Stack)</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/%E6%A0%91-Tree/"><span class="level-start"><span class="level-item">æ ‘(Tree)</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">æ·±åº¦å­¦ä¹ </span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/Kaggle/"><span class="level-start"><span class="level-item">Kaggle</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/PyTorch/"><span class="level-start"><span class="level-item">PyTorch</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E9%97%B2%E8%81%8A/"><span class="level-start"><span class="level-item">é—²èŠ</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E9%97%B2%E8%81%8A/%E8%AE%A1%E5%88%92/"><span class="level-start"><span class="level-item">è®¡åˆ’</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">è®¢é˜…æ›´æ–°</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="è®¢é˜…"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="è®¢é˜…"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-08-01T07:29:16.000Z">2024-08-01</time></p><p class="title"><a href="/2024/08/01/LLM-General-Education/">LLM_General_Education</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-07-30T14:55:47.000Z">2024-07-30</time></p><p class="title"><a href="/2024/07/30/MyBatisPlus/">MyBatisPlus</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-07-30T14:36:18.000Z">2024-07-30</time></p><p class="title"><a href="/2024/07/30/SpringCloud/">SpringCloud</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-07-29T07:32:17.000Z">2024-07-29</time></p><p class="title"><a href="/2024/07/29/Cpp-Muti-Threaded/">Cpp_Muti_Threaded</a></p><p class="categories"><a href="/categories/CppDev/">CppDev</a> / <a href="/categories/CppDev/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B/">å¤šçº¿ç¨‹ç¼–ç¨‹</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-07-29T07:29:04.000Z">2024-07-29</time></p><p class="title"><a href="/2024/07/29/Cpp-Network-Programming/">Cpp_Network_Programming</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">å½’æ¡£</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/08/"><span class="level-start"><span class="level-item">å…«æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/07/"><span class="level-start"><span class="level-item">ä¸ƒæœˆ 2024</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">å…­æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">äº”æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/04/"><span class="level-start"><span class="level-item">å››æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/03/"><span class="level-start"><span class="level-item">ä¸‰æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">æ ‡ç­¾</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Axure-RP-9/"><span class="tag">Axure RP 9</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CppDev/"><span class="tag">CppDev</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ECharts/"><span class="tag">ECharts</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/EasyX/"><span class="tag">EasyX</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GameDev/"><span class="tag">GameDev</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HBase/"><span class="tag">HBase</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hadoop/"><span class="tag">Hadoop</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaDev/"><span class="tag">JavaDev</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kaggle/"><span class="tag">Kaggle</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MyBatis-Plus/"><span class="tag">MyBatis-Plus</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PyTorch/"><span class="tag">PyTorch</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/QT6/"><span class="tag">QT6</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/R/"><span class="tag">R</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Scala/"><span class="tag">Scala</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spark/"><span class="tag">Spark</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tomcat/"><span class="tag">Tomcat</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VSCode/"><span class="tag">VSCode</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZooKeeper/"><span class="tag">ZooKeeper</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B/"><span class="tag">å¤šçº¿ç¨‹ç¼–ç¨‹</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/"><span class="tag">å¤§æ•°æ®æŠ€æœ¯</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"><span class="tag">å¼€å‘å·¥å…·</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="tag">æ•°æ®ç»“æ„</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"><span class="tag">æœºå™¨å­¦ä¹ </span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="tag">æ·±åº¦å­¦ä¹ </span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">ç®—æ³•</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%A1%E5%88%92/"><span class="tag">è®¡åˆ’</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AF%E4%BB%B6%E6%BA%90/"><span class="tag">è½¯ä»¶æº</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%97%B2%E8%81%8A/"><span class="tag">é—²èŠ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%A1%B9%E7%9B%AE/"><span class="tag">é¡¹ç›®</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/StarLogo.svg" alt="Hello, NilEra :-)" height="28"></a><p class="is-size-7"><span>&copy; 2024 NilEra</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">Â© 2024 å‰æ–¹âš¡é«˜èƒ½</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/NilEra-K"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "æ­¤ç½‘ç«™ä½¿ç”¨Cookieæ¥æ”¹å–„æ‚¨çš„ä½“éªŒã€‚",
          dismiss: "çŸ¥é“äº†ï¼",
          allow: "å…è®¸ä½¿ç”¨Cookie",
          deny: "æ‹’ç»",
          link: "äº†è§£æ›´å¤š",
          policy: "Cookieæ”¿ç­–",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/javascript" id="MathJax-script" async>MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      },
      chtml: {
        matchFontHeight: false
      }
    };</script><script src="https://cdnjs.loli.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js"></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container" id="algolia-input"></div><div id="algolia-poweredby" style="display:flex;margin:0 .5em 0 1em;align-items:center;line-height:0"></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div><div class="searchbox-footer"></div></div></div><script src="https://cdnjs.loli.net/ajax/libs/algoliasearch/4.0.3/algoliasearch-lite.umd.js" crossorigin="anonymous" defer></script><script src="https://cdnjs.loli.net/ajax/libs/instantsearch.js/4.3.1/instantsearch.production.min.js" crossorigin="anonymous" defer></script><script src="/js/algolia.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadAlgolia({"applicationId":"2TB5ZZYPCO","apiKey":"00a43f1d62ca7b24c8b78d5f0223c065","indexName":"dev_nilera_blog"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","no_result":"æœªæ‰¾åˆ°æœç´¢ç»“æœ","untitled":"(æ— æ ‡é¢˜)","empty_preview":"(æ— å†…å®¹é¢„è§ˆ)"});
        });</script></body></html>