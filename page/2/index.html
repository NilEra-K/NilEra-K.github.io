<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><meta name="theme-color" content="#123456"><meta name="generator" content="Hexo 4.2.0"><title>Hello, NilEra :-)</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hello, NilEra :-)"><meta name="msapplication-TileImage" content="/img/StarLogo.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hello, NilEra :-)"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="åŠªåŠ›åšè‡ªå·±å–œæ¬¢çš„äº‹"><meta property="og:type" content="blog"><meta property="og:title" content="Hello, NilEra :-)"><meta property="og:url" content="https://hello-nilera.com/"><meta property="og:site_name" content="Hello, NilEra :-)"><meta property="og:description" content="åŠªåŠ›åšè‡ªå·±å–œæ¬¢çš„äº‹"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://hello-nilera.com/img/og_image.png"><meta property="article:author" content="NilEra"><meta property="article:tag" content="Hello NilEra"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://hello-nilera.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hello-nilera.com"},"headline":"Hello, NilEra :-)","image":["https://hello-nilera.com/img/og_image.png"],"author":{"@type":"Person","name":"NilEra"},"publisher":{"@type":"Organization","name":"Hello, NilEra :-)","logo":{"@type":"ImageObject","url":"https://hello-nilera.com/img/StarLogo.svg"}},"description":"åŠªåŠ›åšè‡ªå·±å–œæ¬¢çš„äº‹"}</script><link rel="icon" href="/img/StarLogo.svg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/6.0.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?249654dcf9a3bf70708fdfc6e2b1ec2b";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><meta name="msvalidate.01" content="F6BD78C6BD0096D2218CF88334111125"><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdnjs.loli.net/ajax/libs/pace/1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/StarLogo.svg" alt="Hello, NilEra :-)" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">é¦–é¡µ</a><a class="navbar-item" href="/archives">å½’æ¡£</a><a class="navbar-item" href="/categories">ç›®å½•</a><a class="navbar-item" href="/tags">æ ‡ç­¾</a><a class="navbar-item" href="/about">å…³äº</a><a class="navbar-item" href="/me">æˆ‘</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/NilEra-K"><i class="fab fa-github"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-08-06T02:54:59.000Z" title="2024/8/6 10:54:59">2024-08-06</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-08-06T04:02:29.167Z" title="2024/8/6 12:02:29">2024-08-06</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/CppDev/">CppDev</a><span>Â /Â </span><a class="link-muted" href="/categories/CppDev/%E8%AF%AD%E6%B3%95%E7%82%B9/">è¯­æ³•ç‚¹</a><span>Â /Â </span><a class="link-muted" href="/categories/CppDev/%E8%AF%AD%E6%B3%95%E7%82%B9/enum-class/">enum class</a></span><span class="level-item">2 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦372ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/06/CPP-11-Enum-Class/">CPP_11 Enum Class</a></p><div class="content"><h2 id="C-11-æšä¸¾ç±»-enum-class"><a href="#C-11-æšä¸¾ç±»-enum-class" class="headerlink" title="C++ 11 æšä¸¾ç±» enum class"></a>C++ 11 æšä¸¾ç±» <code>enum class</code></h2><p>æˆ‘ä»¬åœ¨ <code>C++</code> ä¸­å¸¸ä½¿ç”¨ <code>enum</code> æ¥ç»™åŒä¸€ç±»åˆ«ä¸­çš„å¤šä¸ªå€¼å‘½åï¼Œå¦‚ï¼šç»™é¢œè‰²ä¸­çš„ <code>0, 1, 2, 3, ...</code> å€¼å‘½åï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å†™æ³•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    Red,</span><br><span class="line">    Yellow,</span><br><span class="line">    Blue,</span><br><span class="line">    Gray,</span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>C++</code> çš„ <code>C98</code> æ ‡å‡†ç§° <code>enum</code> ä¸º<strong>ä¸é™èŒƒå›´çš„æšä¸¾å‹åˆ«</strong>ã€‚å› ä¸º <code>C++</code> ä¸­çš„æšä¸¾é‡ä¼šæ³„éœ²åˆ°åŒ…å«è¿™ä¸ªæšä¸¾ç±»å‹çš„ä½œç”¨åŸŸå†…ï¼Œåœ¨è¿™ä¸ªä½œç”¨åŸŸå†…å°±ä¸èƒ½æœ‰å…¶ä»–å®ä½“å–ç›¸åŒçš„åå­—ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€æ®µä»£ç æ¥æ¼”ç¤ºè¿™ä¸€ç°è±¡ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    RED,</span><br><span class="line">    YELLOW,</span><br><span class="line">    BLUE,</span><br><span class="line">    GRAY</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> GRAY = <span class="number">10</span>; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; GRAY &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬ç¼–è¯‘æ—¶ï¼Œä¼šå‡ºç°é‡å®šä¹‰é”™è¯¯ï¼š<code>error: &#39;auto GRAY&#39; redeclared as different kind of entity</code>ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œ<code>C++ 11</code> æ–°æ ‡å‡†æä¾›äº† <strong><code>enum Class</code> æšä¸¾ç±»</strong>ã€‚å¯¹äºä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å†ä¸€æ¬¡åšå‡ºæ¼”ç¤ºï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum class</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    RED,</span><br><span class="line">    YELLOW,</span><br><span class="line">    BLUE,</span><br><span class="line">    GRAY</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> GRAY = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(Color::GRAY) &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; GRAY &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œè¾“å‡º <code>3</code> å’Œ <code>10</code>ã€‚å¯ä»¥çœ‹åˆ°åœ¨å…¨å±€ä½œç”¨åŸŸçš„ <code>GRAY</code> è¢«èµ‹å€¼æˆäº† <code>10</code>ï¼Œè€Œæšä¸¾ç±»ä¸­çš„ <code>GRAY</code> è¿˜æ˜¯ <code>3</code>ï¼Œä¸”å¿…é¡»ä½¿ç”¨ä½œç”¨åŸŸé™å®šç¬¦è¿›è¡Œè®¿é—®ã€‚ è¿™é‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä½¿ç”¨äº†ä¸€ä¸ª <code>static_cast&lt;int&gt; (Color::GRAY)</code> è¿›è¡Œäº†ä¸€ä¸ªå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè¿™æ˜¯å› ä¸º <code>enum</code> ä¸æ”¯æŒéšå¼ç±»å‹è½¬æ¢ã€‚å¦‚æœæƒ³è¦è¿›è¡Œè½¬æ¢ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ <code>static_cast</code> è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-08-05T02:37:16.000Z" title="2024/8/5 10:37:16">2024-08-05</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-08-14T10:13:32.001Z" title="2024/8/14 18:13:32">2024-08-14</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">æ·±åº¦å­¦ä¹ </a><span>Â /Â </span><a class="link-muted" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/LLMs/">LLMs</a></span><span class="level-item">8 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦1240ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/05/Deploy-LLMs-ON-PC/">Deploy_LLMs_ON_PC</a></p><div class="content"><h2 id="å¦‚ä½•æ­å»ºè¿è¡Œåœ¨æœ¬åœ°çš„-LLMs-ğŸ¤”"><a href="#å¦‚ä½•æ­å»ºè¿è¡Œåœ¨æœ¬åœ°çš„-LLMs-ğŸ¤”" class="headerlink" title="å¦‚ä½•æ­å»ºè¿è¡Œåœ¨æœ¬åœ°çš„ LLMs ğŸ¤”"></a>å¦‚ä½•æ­å»ºè¿è¡Œåœ¨æœ¬åœ°çš„ LLMs ğŸ¤”</h2><p>[TOC]</p>
<h3 id="ğŸ¤—-1-åŸºäº-LM-Studio"><a href="#ğŸ¤—-1-åŸºäº-LM-Studio" class="headerlink" title="ğŸ¤— 1. åŸºäº LM-Studio"></a>ğŸ¤— 1. åŸºäº <code>LM-Studio</code></h3><ol>
<li><p>è®¿é—® <code>LM-Studio</code>ï¼Œç½‘å€ï¼š<a target="_blank" rel="noopener" href="https://lmstudio.ai/">LM Studio - Discover, download, and run local LLMs</a></p>
<p>ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å®‰è£…åŒ…ï¼Œç„¶ååŒå‡»è¿è¡Œå³å¯ã€‚</p>
</li>
</ol>
<img src="./Deploy_LLMs_ON_PC/LM_Studio_Website.png">

<ol start="2">
<li>è®¿é—® <code>ModelScope</code><a target="_blank" rel="noopener" href="https://community.modelscope.cn/">é­”æ­ç¤¾åŒº</a> æˆ–è€… ğŸ¤—<code>Hugging Face</code><a target="_blank" rel="noopener" href="https://huggingface.co/">Hugging Face</a>ï¼Œè¿™é‡Œä»¥ <code>ModelScope</code> ä¸ºä¾‹ï¼Œè¿›å…¥æ¨¡å‹åº“ï¼Œä¸‹è½½ç›¸åº”æ¨¡å‹ã€‚</li>
</ol>
<img src="./Deploy_LLMs_ON_PC/ModelScope.png">

<center>é­”æ­ç¤¾åŒºå®˜ç½‘</center>

<img src="./Deploy_LLMs_ON_PC/ModelScopeDownloadModels.png">

<center>æ‰¾åˆ°éœ€è¦çš„æ¨¡å‹å¹¶ä¸‹è½½</center>

<ol start="3">
<li>ä¸‹è½½å¥½å“åº”çš„æ¨¡å‹åï¼Œå°†æ¨¡å‹ç»„ç»‡å¥½ï¼Œæ”¾åˆ°ç›¸åº”çš„æ–‡ä»¶å¤¹ä¸­ï¼Œè¿™é‡ŒæŒ‰ç…§ <code>models/Publisher/Repository/*.gguf</code> çš„è·¯å¾„ç»„ç»‡æ¨¡å‹è·¯å¾„ï¼Œç„¶åé€‰æ‹© <code>Change</code> æ›´æ”¹æ¨¡å‹çš„ä½ç½®ã€‚å¦‚æœä¸æŒ‰ç…§è¯¥è·¯å¾„ç»„ç»‡ï¼Œåˆ™ä¼šå‡ºç° <code>You have 1 uncategorized model files.</code> é”™è¯¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li>
</ol>
<img src="./Deploy_LLMs_ON_PC/Error_With_Wrong_Project_Structure.png">

<img src="./Deploy_LLMs_ON_PC/LM_Studio_Change_ModelFile.png">

<ol start="4">
<li>ä½†æ˜¯é‚£ç§æ–¹å¼æ˜¯ä¸å¤ªæ¨èçš„ï¼Œæˆ‘ä»¬ç»„ç»‡ <code>USER/MODEL_NAME/*.gguf</code> çš„ç»“æ„ï¼Œè¿™ç§ç»“æ„ä¼šæ¯”è¾ƒæ˜äº†ï¼š</li>
</ol>
<img src="./Deploy_LLMs_ON_PC/LM_Studio_Change_ModelFile0002.png">

<ol start="5">
<li>å®Œæˆæ¨¡å‹æ–‡ä»¶çš„ä¸‹è½½å’Œç»„ç»‡åï¼Œæˆ‘ä»¬å¯ä»¥è¿›å…¥èŠå¤©é¡µé¢ï¼Œé€‰æ‹©æ¨¡å‹è¿›è¡ŒåŠ è½½ã€‚è¿™é‡Œä¸ºäº†èŠ‚çº¦ç©ºé—´ï¼Œæˆ‘åˆ é™¤äº† <code>nilera/Qwen1.5-7B-Chat-Q4-GGUF</code> ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚</li>
</ol>
<img src="./Deploy_LLMs_ON_PC/SelectAModel2Load.png">

<ol start="6">
<li>é€‰æ‹©æ¨¡å‹åŠ è½½ï¼Œç­‰å¾…åŠ è½½å®Œæˆå³å¯åƒå¹³æ—¶ä½¿ç”¨å…¶ä»–å¤§æ¨¡å‹çš„æ—¶å€™ä¸€æ ·ä½¿ç”¨è¿™äº›æ¨¡å‹ã€‚</li>
</ol>
<img src="./Deploy_LLMs_ON_PC/LM_Studio_Change_Test_qwen1_5.png">

<ol start="7">
<li>ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³åœ¨ä»£ç ä¸­ä½¿ç”¨æˆ‘ä»¬çš„å¤§æ¨¡å‹åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€‰æ‹© <code>LM-Studio</code> çš„ <code>Local Server</code> èœå•é¡¹ï¼Œé€‰æ‹© <code>Start Server</code> å³å¯éƒ¨ç½²åˆ°ä¸€ä¸ªæœ¬åœ°æŒ‡å®šçš„ç«¯å£ï¼ˆé»˜è®¤æ˜¯ <code>1234</code>ï¼‰ã€‚</li>
</ol>
<img src="./Deploy_LLMs_ON_PC/LM_Studio_Change_Start_Local_Server0001.png">

<img src="./Deploy_LLMs_ON_PC/LM_Studio_Change_Start_Local_Server_0002.png">

<ol start="8">
<li>å³ä¾§æœ‰è®¸å¤šæ ·ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸€æ®µæ ·ä¾‹ï¼Œå¦‚ï¼š<code>chat(python)</code>ï¼Œè¿™é‡Œå¯¹è¿™æ®µä»£ç è¿›è¡Œç®€å•çš„è§£é‡Šã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Example: reuse your existing OpenAI setup</span></span><br><span class="line"><span class="keyword">from</span> openai <span class="keyword">import</span> OpenAI</span><br><span class="line"></span><br><span class="line"><span class="comment"># Point to the local server</span></span><br><span class="line">client = OpenAI(base_url=<span class="string">&quot;http://localhost:1234/v1&quot;</span>, api_key=<span class="string">&quot;lm-studio&quot;</span>)</span><br><span class="line"></span><br><span class="line">completion = client.chat.completions.create(</span><br><span class="line">  model=<span class="string">&quot;Publisher/Repository&quot;</span>,									<span class="comment"># å¯ä»¥ç†è§£ä¸ºæ¨¡å‹è·¯å¾„, è¿™é‡Œä»¥å¯åŠ¨åœ¨è¿™ä¸ªç«¯å£çš„æ¨¡å‹ä¸ºå‡†</span></span><br><span class="line">  messages=[</span><br><span class="line">    &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;system&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;Always answer in Chinese.&quot;</span>&#125;,	<span class="comment"># ç³»ç»Ÿè®¾ç½®: æ¯æ¬¡éƒ½ç”¨ä¸­æ–‡å›ç­”</span></span><br><span class="line">    &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;Introduce yourself.&quot;</span>&#125;			<span class="comment"># å¯¹è¯è®¾ç½®: è¿™é‡Œå¸Œæœ› AI ä»‹ç»ä¸€ä¸‹ä»–è‡ªå·±</span></span><br><span class="line">  ],</span><br><span class="line">  temperature=<span class="number">0.7</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(completion.choices[<span class="number">0</span>].message)							<span class="comment"># è·å–æ¨¡å‹çš„å›å¤</span></span><br></pre></td></tr></table></figure>

<ol start="9">
<li>ç„¶åæˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨ <code>Python</code> è°ƒç”¨æˆ‘ä»¬çš„æœ¬åœ°å¤§æ¨¡å‹äº†ã€‚</li>
</ol>
<h3 id="â›µ-2-ä½¿ç”¨-PowerInfer-æ¡†æ¶"><a href="#â›µ-2-ä½¿ç”¨-PowerInfer-æ¡†æ¶" class="headerlink" title="â›µ 2. ä½¿ç”¨ PowerInfer æ¡†æ¶"></a>â›µ 2. ä½¿ç”¨ <code>PowerInfer</code> æ¡†æ¶</h3><p><code>PowerInfer</code> æ¡†æ¶ <em>GitHub</em> é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://github.com/SJTU-IPADS/PowerInfer">SJTU-IPADS&#x2F;PowerInfer: High-speed Large Language Model Serving on PCs with Consumer-grade GPUs (github.com)</a></p>
<p>$2024$ å¹´å‘å¸ƒè®ºæ–‡ <code>PowerInfer-2</code>ï¼š<font color=Blue>[</font><a target="_blank" rel="noopener" href="https://arxiv.org/abs/2406.06282">2406.06282] PowerInfer-2: Fast Large Language Model Inference on a Smartphone (arxiv.org)</a></p>
<p><code>Anaconda</code> å‘½ä»¤ä½¿ç”¨ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/miracleoa/article/details/106115730">ã€anacondaã€‘condaåˆ›å»ºã€æŸ¥çœ‹ã€åˆ é™¤è™šæ‹Ÿç¯å¢ƒï¼ˆanacondaå‘½ä»¤é›†ï¼‰_conda åˆ›å»ºç¯å¢ƒ-CSDNåšå®¢</a></p>
<p>å‚è€ƒåšå®¢ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42232045/article/details/135113112">å¤§æ¨¡å‹ç¬”è®°ä¹‹-3090æ˜¾å¡æ¨ç†70Bå‚æ•°æ¨¡å‹|åŸºäºPowerInfer ä¸€ä¸ª CPU&#x2F;GPU LLM æ¨ç†å¼•æ“-CSDNåšå®¢</a></p>
<ol>
<li>ä½¿ç”¨ <code>Conda</code> åˆ›å»ºç¯å¢ƒï¼Œè¿™é‡Œ Python ç‰ˆæœ¬éœ€è¦å¤§äº <code>3.8</code>ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n powerinfer1 python=3.8</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ¿€æ´» <code>Conda</code> ç¯å¢ƒï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate powerinfer1</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å…‹éš† <code>PowerInfer</code> æ¡†æ¶ä»£ç ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:SJTU-IPADS/PowerInfer.git</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>å®‰è£…æ‰€éœ€ä¾èµ–ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><p>ä½¿ç”¨ <code>CMake</code> è¿›è¡Œç¼–è¯‘ï¼ˆ<code>CMake</code> ç‰ˆæœ¬éœ€è¦å¤§äºï¼š<code>3.17+</code>ï¼‰</p>
<p>è¿™é‡Œå¾ˆå¤§æ¦‚ç‡å¯èƒ½ä¼šå‡ºç°ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸ CUDA ç‰ˆæœ¬ä¸ä¸€è‡´çš„æƒ…å†µï¼Œè§£å†³æ–¹æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/lishiyu93/article/details/114599859">fatal error C1189: #error: â€“ unsupported Microsoft Visual Studio version! - CSDNåšå®¢</a></p>
<p>è¿™é‡Œæˆ‘æœ‰ä¸‰ä¸ª <code>CUDA</code> ç‰ˆæœ¬ï¼Œè²Œä¼¼ä¿®æ”¹å…¶ä¸­ä»»æ„ä¸€ä¸ªå°±å¯ä»¥ï¼Œè¿™é‡Œæˆ‘ä¿®æ”¹çš„æ˜¯ <code>CUDA v11.6</code> ç‰ˆæœ¬ã€‚</p>
<p>â‘  å¦‚æœæ˜¯ <code>NVIDIA GPUs</code>ï¼Œéœ€è¦ä½¿ç”¨å¦‚ä¸‹æ–¹å¼è¿›è¡Œç¼–è¯‘ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cmake -S . -B build -DLLAMA_CUBLAS=ON</span><br><span class="line">cmake --build build --config Release</span><br></pre></td></tr></table></figure>

<p>â‘¡ å¦‚æœæ˜¯ <code>AMD GPUs</code>ï¼Œéœ€è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼è¿›è¡Œç¼–è¯‘ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Replace &#x27;1100&#x27; to your card architecture name, you can get it by rocminfo</span></span><br><span class="line">CC=/opt/rocm/llvm/bin/clang CXX=/opt/rocm/llvm/bin/clang++ cmake -S . -B build -</span><br><span class="line">DLLAMA_HIPBLAS=ON -DAMDGPU_TARGETS=gfx1100</span><br><span class="line">cmake --build build --config Release</span><br></pre></td></tr></table></figure>

<p>â‘¢ å¦‚æœæ˜¯ <code>CPU ONLY</code>ï¼Œéœ€è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼è¿›è¡Œç¼–è¯‘ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cmake -S . -B build</span><br><span class="line">cmake --build build --config Release</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘æœ‰ä¸€å— <code>Nvidia 1050ti</code> æ‰€ä»¥æˆ‘ä½¿ç”¨<strong>æ–¹å¼ â‘ </strong>è¿›è¡Œç¼–è¯‘ã€‚</p>
</li>
<li><p>å¯¹äºæˆ‘ä»¬ä¸‹è½½çš„æ¨¡å‹ï¼Œå¯ä»¥ä½¿ç”¨æä¾›çš„æ–¹å¼è¿›è¡Œè½¬åŒ–ï¼Œè½¬åŒ–ä¸º PowerInfer å¯ä»¥ä½¿ç”¨çš„ç±»å‹ï¼š</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># make sure that you have done `pip install -r requirements.txt`</span></span><br><span class="line">python convert.py --outfile /PATH/TO/POWERINFER/GGUF/REPO/MODELNAME.powerinfer.gguf /PATH/TO/ORIGINAL/MODEL /PATH/TO/PREDICTOR</span><br><span class="line"><span class="comment"># python convert.py --outfile ./ReluLLaMA-70B-PowerInfer-GGUF/llama-70b-relu.powerinfer.gguf ./SparseLLM/ReluLLaMA-70B ./PowerInfer/ReluLLaMA-70B-Predictor</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python convert.py --outfile D:/LMStudio/models/Publisher/Repository/qwen1_5-7b-chat-q4_0.gguf ./SparseLLM/ReluLLaMA-70B ./PowerInfer/ReluLLaMA-70B-Predictor</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>æˆ–è€…å°†è¦ åŸå§‹æ¨¡å‹è½¬åŒ–ä¸º GGUF æ¨¡å‹</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python convert-dense.py --outfile /PATH/TO/DENSE/GGUF/REPO/MODELNAME.gguf /PATH/TO/ORIGINAL/MODEL</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>è¿è¡Œæ¨¡å‹</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./build/bin/Release/main.exe -m C:/Users/NilEra/Downloads/llama-7b-relu.powerinfer.gguf -n 128 -t 2 -p <span class="string">&quot;Once upon a time&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¶ä¸­/home/user/data/ReluLLaMA-70B-PowerInfer-GGUF/llama-70b-relu.q4.powerinfer.ggufä¸ºGPTQé‡åŒ–è¿‡çš„æ¨¡å‹æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>

<ol start="9">
<li>ä¸€äº›é—®é¢˜ï¼š</li>
</ol>
<p><img src="/./Deploy_LLMs_ON_PC/Issues22.png" alt="Issus22"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-08-01T07:29:16.000Z" title="2024/8/1 15:29:16">2024-08-01</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-08-13T12:18:19.674Z" title="2024/8/13 20:18:19">2024-08-13</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">æ·±åº¦å­¦ä¹ </a><span>Â /Â </span><a class="link-muted" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/LLMs/">LLMs</a></span><span class="level-item">2 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦289ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/08/01/LLM-General-Education/">LLM_General_Education</a></p><div class="content"><h2 id="ğŸ¤—-å¤§è¯­è¨€æ¨¡å‹é€šè¯†"><a href="#ğŸ¤—-å¤§è¯­è¨€æ¨¡å‹é€šè¯†" class="headerlink" title="ğŸ¤— å¤§è¯­è¨€æ¨¡å‹é€šè¯†"></a>ğŸ¤— å¤§è¯­è¨€æ¨¡å‹é€šè¯†</h2><h3 id="å¤§è¯­è¨€æ¨¡å‹çš„é…ç½®éœ€æ±‚"><a href="#å¤§è¯­è¨€æ¨¡å‹çš„é…ç½®éœ€æ±‚" class="headerlink" title="å¤§è¯­è¨€æ¨¡å‹çš„é…ç½®éœ€æ±‚"></a>å¤§è¯­è¨€æ¨¡å‹çš„é…ç½®éœ€æ±‚</h3><p>é¦–å…ˆè¦ææ¸…æ¥šï¼Œæœ¬åœ°å¯ä»¥éƒ¨ç½²ä»€ä¹ˆå¤§æ¨¡å‹ï¼Œå–å†³äºä¸ªäººç”µè„‘çš„ç¡¬ä»¶é…ç½®ï¼Œå°¤å…¶éœ€è¦å…³æ³¨ <code>GPU</code> çš„æ˜¾å­˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦æœ¬åœ°æœºå™¨ <code>GPU</code> çš„æ˜¾å­˜èƒ½å¤Ÿæ»¡è¶³å¤§æ¨¡å‹çš„è¦æ±‚ï¼Œé‚£åŸºæœ¬ä¸Šéƒ½å¯ä»¥æœ¬åœ°éƒ¨ç½²ã€‚</p>
<p>é‚£ä¹ˆå¤§æ¨¡å‹ç±»åˆ«è¿™ä¹ˆå¤šï¼Œæœ‰ $7B$ã€$13B$ã€$70B$ ç­‰ç­‰ï¼Œ<code>GPU</code> æ˜¾å­˜å¦‚ä½•å‡†å¤‡å‘¢ï¼Ÿ</p>
<p>åœ¨æ²¡æœ‰è€ƒè™‘ä»»ä½•æ¨¡å‹é‡åŒ–æŠ€æœ¯çš„å‰æä¸‹ï¼Œæœ‰å…¬å¼å¦‚ä¸‹ï¼š<br>$$<br>GB &#x3D; B Ã— 2<br>$$</p>
<p>å…¶ä¸­ä¸º $GB$ æ¨¡å‹æ˜¾å­˜å ç”¨ï¼Œ$B$ ä¸ºå¤§æ¨¡å‹å‚æ•°é‡ã€‚</p>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv33371756/">AIå¤§æ¨¡å‹æœ¬åœ°åŒ–éƒ¨ç½²Q&#x2F;Aç¡¬ä»¶ç¯‡</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_35054222/article/details/139123564">å¦‚ä½•æ‰¾åˆ°æœ€æ–°çš„å¤§æ¨¡å‹ã€å¦‚ä½•åˆ¤æ–­æœ¬åœ°ç¡¬ä»¶æ˜¯å¦æ»¡è¶³å¤§æ¨¡å‹éœ€æ±‚ã€å¦‚ä½•å¿«é€Ÿéƒ¨ç½²å¤§æ¨¡å‹</a></p>
<p><a target="_blank" rel="noopener" href="https://www.datalearner.com/ai-models/leaderboard/datalearner-llm-leaderboard">å¤§æ¨¡å‹ç»¼åˆè¯„æµ‹å¯¹æ¯” | å½“å‰ä¸»æµå¤§æ¨¡å‹åœ¨å„è¯„æµ‹æ•°æ®é›†ä¸Šçš„è¡¨ç°æ€»æ¦œå• | æ•°æ®å­¦ä¹  (DataLearner)</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-30T14:55:47.000Z" title="2024/7/30 22:55:47">2024-07-30</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-07-31T09:22:55.139Z" title="2024/7/31 17:22:55">2024-07-31</time>æ›´æ–°</span><span class="level-item">30 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦4524ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/30/MyBatisPlus/">MyBatisPlus</a></p><div class="content"><h2 id="ğŸ¦MyBatis-Plus"><a href="#ğŸ¦MyBatis-Plus" class="headerlink" title="ğŸ¦MyBatis-Plus"></a>ğŸ¦MyBatis-Plus</h2><p>[TOC]</p>
<h3 id="ğŸšª-1-å¿«é€Ÿå…¥é—¨"><a href="#ğŸšª-1-å¿«é€Ÿå…¥é—¨" class="headerlink" title="ğŸšª 1. å¿«é€Ÿå…¥é—¨"></a>ğŸšª 1. å¿«é€Ÿå…¥é—¨</h3><h4 id="1-1-å…¥é—¨æ¡ˆä¾‹"><a href="#1-1-å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="1.1 å…¥é—¨æ¡ˆä¾‹"></a>1.1 å…¥é—¨æ¡ˆä¾‹</h4><p>å…¥é—¨æ¡ˆä¾‹ï¼šåŸºäºè¯¾å‰èµ„æ–™æä¾›çš„é¡¹ç›®ï¼Œå®ç°ä¸‹åˆ—åŠŸèƒ½:</p>
<ul>
<li>æ–°å¢ç”¨æˆ·åŠŸèƒ½</li>
<li>æ ¹æ® <code>id</code> æŸ¥è¯¢ç”¨æˆ·</li>
<li>æ ¹æ® <code>id</code> æ‰¹é‡æŸ¥è¯¢ç”¨æˆ·</li>
<li>æ ¹æ® <code>id</code> æ›´æ–°ç”¨æˆ·</li>
<li>æ ¹æ® <code>id</code> åˆ é™¤ç”¨æˆ·</li>
</ul>
<h5 id="1-1-1-å¼•å…¥-MyBatis-Plus-çš„ä¾èµ–"><a href="#1-1-1-å¼•å…¥-MyBatis-Plus-çš„ä¾èµ–" class="headerlink" title="1.1.1 å¼•å…¥ MyBatis-Plus çš„ä¾èµ–"></a>1.1.1 å¼•å…¥ <code>MyBatis-Plus</code> çš„ä¾èµ–</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- MyBatisPlus --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="1-1-2-å®šä¹‰-Mapper"><a href="#1-1-2-å®šä¹‰-Mapper" class="headerlink" title="1.1.2 å®šä¹‰ Mapper"></a>1.1.2 å®šä¹‰ <code>Mapper</code></h5><p>è‡ªå®šä¹‰çš„ <code>Mapper</code> ç»§æ‰¿ <code>MybatisPlus</code>æä¾›çš„ <code>BaseMapper</code> æ¥å£ã€‚</p>
<p><code>BaseMapper&lt;T&gt;</code> ç»™æˆ‘ä»¬æä¾›äº†å¾ˆå¤šåŸºç¡€æ–¹æ³•ï¼Œå¦‚å¸¸ç”¨çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥ç­‰æ“ä½œã€‚</p>
<p><img src="/./MyBatisPlus/BaseMapperInterface.png" alt="BaseMapperInterface"> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123; &#125;</span><br></pre></td></tr></table></figure>

<h5 id="1-1-3-ç›´æ¥ä½¿ç”¨"><a href="#1-1-3-ç›´æ¥ä½¿ç”¨" class="headerlink" title="1.1.3 ç›´æ¥ä½¿ç”¨"></a>1.1.3 ç›´æ¥ä½¿ç”¨</h5><p>åšå®Œä¸Šé¢ä¸¤æ­¥æ“ä½œï¼Œæ­¤æ—¶æˆ‘ä»¬ä¸éœ€è¦å†ç¼–å†™å¤æ‚çš„ <code>SQL</code> è¯­å¥å³å¯å¯¹æ•°æ®åº“è¿›è¡Œå¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œã€‚</p>
<p>å½“ç„¶å¯¹äºåŸæœ‰ <code>MyBatis</code> æ“ä½œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå› ä¸º <code>MyBatis-Plus</code> å¯¹ <code>MyBatis</code> æ˜¯éä¾µå…¥çš„ï¼Œä½“ç°äº†å…¶<strong>æ¶¦ç‰©æ— å£°</strong>çš„ç‰¹ç‚¹ã€‚</p>
<h4 id="1-2-å¸¸è§æ³¨è§£"><a href="#1-2-å¸¸è§æ³¨è§£" class="headerlink" title="1.2 å¸¸è§æ³¨è§£"></a>1.2 å¸¸è§æ³¨è§£</h4><p>åœ¨åˆæ¬¡ä½¿ç”¨ <code>MyBatis-Plus</code> æ—¶ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰æŒ‡å®šè¦æ‰§è¡Œæ“ä½œçš„è¡¨ä¿¡æ¯å’Œå­—æ®µä¿¡æ¯ï¼Œé‚£ä¹ˆ <code>Mybatis-Plus</code> æ˜¯å¦‚ä½•çŸ¥é“æˆ‘ä»¬è¦æŸ¥è¯¢çš„æ˜¯å“ªå¼ è¡¨ï¼Ÿè¡¨ä¸­æœ‰å“ªäº›å­—æ®µå‘¢ï¼Ÿ</p>
<p><code>MyBatisPlus</code> é€šè¿‡æ‰«æå®ä½“ç±»ï¼Œå¹¶åŸºäº<strong>åå°„</strong>è·å–å®ä½“ç±»ä¿¡æ¯ä½œä¸ºæ•°æ®åº“è¡¨ä¿¡æ¯ã€‚</p>
<p>åœ¨å…¥é—¨æ¡ˆä¾‹ä¸­ <code>1.1.2</code> å®šä¹‰ <code>Mapper</code> æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç‰¹åˆ«æŒ‡å®šæ³›å‹ç±»å³ <code>&lt;User&gt;</code>ã€‚æ³›å‹ä¸­çš„ <code>User</code> å°±æ˜¯ä¸æ•°æ®åº“å¯¹åº”çš„ POã€‚</p>
<p><code>MyBatis-Plus</code> å°±æ˜¯æ ¹æ® PO å®ä½“çš„ä¿¡æ¯æ¥æ¨æ–­å‡ºè¡¨çš„ä¿¡æ¯ï¼Œä»è€Œç”Ÿæˆ <code>SQL</code> çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼š</p>
<ul>
<li><code>MyBatis-Plus</code> ä¼šæŠŠ PO å®ä½“çš„ç±»åé©¼å³°è½¬ä¸‹åˆ’çº¿ä½œä¸ºè¡¨åï¼Œå¦‚ç±»åä¸º <code>UserInfo</code>ï¼Œåå°„çš„è¡¨åä¸º <code>user_info</code>ï¼›</li>
<li><code>MyBatis-Plus</code> ä¼šæŠŠ PO å®ä½“çš„æ‰€æœ‰å˜é‡åé©¼å³°è½¬ä¸‹åˆ’çº¿ä½œä¸ºè¡¨çš„å­—æ®µåï¼Œå¹¶æ ¹æ®å˜é‡ç±»å‹æ¨æ–­å­—æ®µç±»å‹ï¼›</li>
<li><code>MyBatis-Plus</code> ä¼šæŠŠåä¸º <code>id</code> çš„å­—æ®µä½œä¸ºä¸»é”®ã€‚</li>
</ul>
<p>ä½†å¾ˆå¤šæƒ…å†µä¸‹ï¼Œé»˜è®¤çš„å®ç°ä¸å®é™…åœºæ™¯ä¸ç¬¦ï¼Œå› æ­¤ <code>MyBatis-Plus</code> æä¾›äº†ä¸€äº›æ³¨è§£ä¾¿äºæˆ‘ä»¬å£°æ˜è¡¨ä¿¡æ¯ã€‚</p>
<h5 id="1-2-1-TableName-æ³¨è§£"><a href="#1-2-1-TableName-æ³¨è§£" class="headerlink" title="1.2.1 @TableName æ³¨è§£"></a>1.2.1 <code>@TableName</code> æ³¨è§£</h5><ul>
<li>æè¿°ï¼šè¡¨åæ³¨è§£ï¼Œæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„è¡¨</li>
<li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ ‡æ³¨å®ä½“ç±»å¯¹åº”çš„è¡¨å */</span></span><br><span class="line"><span class="meta">@TableName(&quot;t_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@TableName</code> æ³¨è§£é™¤äº†æŒ‡å®šè¡¨åä»¥å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šå¾ˆå¤šå…¶å®ƒå±æ€§ï¼š</p>
<table>
<thead>
<tr>
<th><strong>å±æ€§</strong></th>
<th><strong>ç±»å‹</strong></th>
<th><strong>å¿…é¡»æŒ‡å®š</strong></th>
<th><strong>é»˜è®¤å€¼</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>String</td>
<td>å¦</td>
<td>â€œâ€</td>
<td>è¡¨å</td>
</tr>
<tr>
<td>schema</td>
<td>String</td>
<td>å¦</td>
<td>â€œâ€</td>
<td>schema</td>
</tr>
<tr>
<td>keepGlobalPrefix</td>
<td>boolean</td>
<td>å¦</td>
<td>false</td>
<td>æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ tablePrefix çš„å€¼ï¼ˆå½“å…¨å±€ tablePrefix ç”Ÿæ•ˆæ—¶ï¼‰</td>
</tr>
<tr>
<td>resultMap</td>
<td>String</td>
<td>å¦</td>
<td>â€œâ€</td>
<td>xml ä¸­ resultMap çš„ idï¼ˆç”¨äºæ»¡è¶³ç‰¹å®šç±»å‹çš„å®ä½“ç±»å¯¹è±¡ç»‘å®šï¼‰</td>
</tr>
<tr>
<td>autoResultMap</td>
<td>boolean</td>
<td>å¦</td>
<td>false</td>
<td>æ˜¯å¦è‡ªåŠ¨æ„å»º resultMap å¹¶ä½¿ç”¨ï¼ˆå¦‚æœè®¾ç½® resultMap åˆ™ä¸ä¼šè¿›è¡Œ resultMap çš„è‡ªåŠ¨æ„å»ºä¸æ³¨å…¥ï¼‰</td>
</tr>
<tr>
<td>excludeProperty</td>
<td>String[]</td>
<td>å¦</td>
<td>{}</td>
<td>éœ€è¦æ’é™¤çš„å±æ€§å @since 3.3.1</td>
</tr>
</tbody></table>
<h5 id="1-2-2-TableId-æ³¨è§£"><a href="#1-2-2-TableId-æ³¨è§£" class="headerlink" title="1.2.2 @TableId æ³¨è§£"></a>1.2.2 <code>@TableId</code> æ³¨è§£</h5><ul>
<li>æè¿°ï¼šä¸»é”®æ³¨è§£ï¼Œæ ‡è¯†å®ä½“ç±»ä¸­çš„ä¸»é”®å­—æ®µ</li>
<li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±»çš„ä¸»é”®å­—æ®µ</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName(&quot;t_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(value=&quot;id&quot;, type=IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>TableId</code> æ³¨è§£æ”¯æŒä¸¤ä¸ªå±æ€§ï¼š</p>
<table>
<thead>
<tr>
<th align="left"><strong>å±æ€§</strong></th>
<th align="left"><strong>ç±»å‹</strong></th>
<th align="left"><strong>å¿…é¡»æŒ‡å®š</strong></th>
<th align="left"><strong>é»˜è®¤å€¼</strong></th>
<th align="left"><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>value</code></td>
<td align="left"><code>String</code></td>
<td align="left">å¦</td>
<td align="left">â€œâ€</td>
<td align="left">è¡¨å</td>
</tr>
<tr>
<td align="left"><code>type</code></td>
<td align="left"><code>Enum</code></td>
<td align="left">å¦</td>
<td align="left"><code>IdType.NONE</code></td>
<td align="left">æŒ‡å®šä¸»é”®ç±»å‹</td>
</tr>
</tbody></table>
<p><code>IdType</code>æ”¯æŒçš„ç±»å‹æœ‰ï¼š</p>
<table>
<thead>
<tr>
<th align="left"><strong>å€¼</strong></th>
<th align="left"><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>AUTO</code></td>
<td align="left">æ•°æ®åº“ <code>ID</code> è‡ªå¢</td>
</tr>
<tr>
<td align="left"><code>NONE</code></td>
<td align="left">æ— çŠ¶æ€ï¼Œè¯¥ç±»å‹ä¸ºæœªè®¾ç½®ä¸»é”®ç±»å‹ï¼ˆæ³¨è§£é‡Œç­‰äºè·Ÿéšå…¨å±€ï¼Œå…¨å±€é‡Œçº¦ç­‰äº <code>INPUT</code>ï¼‰</td>
</tr>
<tr>
<td align="left"><code>INPUT</code></td>
<td align="left"><code>insert</code> å‰è‡ªè¡Œ <code>set</code> ä¸»é”®å€¼</td>
</tr>
<tr>
<td align="left"><code>ASSIGN_ID</code></td>
<td align="left">åˆ†é… <code>ID</code>ï¼ˆä¸»é”®ç±»å‹ä¸º <code>Number</code>ï¼ˆ<code>Long</code> å’Œ <code>Integer</code>ï¼‰æˆ–ï¼ˆ<code>String</code>ï¼‰<em>ï¼ˆsince 3.3.0ï¼‰</em>ï¼Œä½¿ç”¨æ¥å£<code>IdentifierGenerator</code> çš„æ–¹æ³• <code>nextId</code> ï¼ˆé»˜è®¤å®ç°ç±»ä¸º <code>DefaultIdentifierGenerator</code> é›ªèŠ±ç®—æ³•ï¼‰</td>
</tr>
<tr>
<td align="left"><code>ASSIGN_UUID</code></td>
<td align="left">åˆ†é… <code>UUID</code>ï¼Œä¸»é”®ç±»å‹ä¸º <code>String</code>*(since 3.3.0)*ï¼Œä½¿ç”¨æ¥å£ <code>IdentifierGenerator</code> çš„æ–¹æ³• <code>nextUUID</code>ï¼ˆé»˜è®¤ <code>default</code> æ–¹æ³•ï¼‰</td>
</tr>
<tr>
<td align="left"><code>ID_WORKER</code></td>
<td align="left">åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ ID é•¿æ•´å‹ç±»å‹(please use ASSIGN_ID)</td>
</tr>
<tr>
<td align="left"><code>UUID</code></td>
<td align="left"><code>32</code> ä½ <code>UUID</code> å­—ç¬¦ä¸²ï¼ˆplease use ASSIGN_UUIDï¼‰</td>
</tr>
<tr>
<td align="left"><code>ID_WORKER_STR</code></td>
<td align="left">åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ ID å­—ç¬¦ä¸²ç±»å‹(please use ASSIGN_ID)</td>
</tr>
</tbody></table>
<p>è¿™é‡Œæ¯”è¾ƒå¸¸è§çš„æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li><code>AUTO</code>ï¼šåˆ©ç”¨æ•°æ®åº“çš„ <code>id</code> è‡ªå¢é•¿</li>
<li><code>INPUT</code>ï¼šæ‰‹åŠ¨ç”Ÿæˆ <code>id</code></li>
<li><code>ASSIGN_ID</code>ï¼šé›ªèŠ±ç®—æ³•ç”Ÿæˆ <code>Long</code> ç±»å‹çš„å…¨å±€å”¯ä¸€ <code>id</code>ï¼Œè¿™æ˜¯é»˜è®¤çš„IDç­–ç•¥</li>
</ul>
<h5 id="1-2-3-TableField-æ³¨è§£"><a href="#1-2-3-TableField-æ³¨è§£" class="headerlink" title="1.2.3 @TableField æ³¨è§£"></a>1.2.3 <code>@TableField</code> æ³¨è§£</h5><ul>
<li><p>æè¿°ï¼šæ™®é€šå­—æ®µæ³¨è§£</p>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName(&quot;user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(value=&quot;u_id&quot;, type=IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@TableField(&quot;username&quot;)</span>		<span class="comment">// æˆå‘˜å˜é‡åä¸æ•°æ®åº“å­—æ®µåä¸ä¸€è‡´</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@TableField(&quot;isMarried&quot;)</span>	<span class="comment">// æˆå‘˜å˜é‡æ˜¯ä»¥ `isXXX` å‘½å</span></span><br><span class="line">    <span class="keyword">private</span> Boolean isMarried;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@TableField(&quot;`concat`&quot;)</span>		<span class="comment">// æˆå‘˜å˜é‡åä¸æ•°æ®åº“ä¸€è‡´, ä½†æ˜¯ä¸æ•°æ®åº“çš„å…³é”®å­—å†²çª</span></span><br><span class="line">    <span class="keyword">private</span> String concat;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(exist = false)</span>	<span class="comment">// æˆå‘˜å˜é‡ä¸æ˜¯æ•°æ®åº“å­—æ®µ</span></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬å¹¶ä¸éœ€è¦ç»™å­—æ®µæ·»åŠ  <code>@TableField</code> æ³¨è§£ï¼Œä¸€äº›ç‰¹æ®Šæƒ…å†µé™¤å¤–ï¼š</p>
<ul>
<li>æˆå‘˜å˜é‡åä¸æ•°æ®åº“å­—æ®µåä¸ä¸€è‡´ï¼›</li>
<li>æˆå‘˜å˜é‡æ˜¯ä»¥ <code>isXXX</code> å‘½åï¼ŒæŒ‰ç…§<code>JavaBean</code>çš„è§„èŒƒï¼Œ<code>MyBatis-Plus</code>è¯†åˆ«å­—æ®µæ—¶ä¼šæŠŠ <code>is</code> å»é™¤ï¼Œè¿™å°±å¯¼è‡´ä¸æ•°æ®åº“ä¸ç¬¦ï¼›</li>
<li>æˆå‘˜å˜é‡åä¸æ•°æ®åº“ä¸€è‡´ï¼Œä½†æ˜¯ä¸æ•°æ®åº“çš„å…³é”®å­—å†²çªã€‚ä½¿ç”¨ <code>@TableField</code> æ³¨è§£ç»™å­—æ®µåæ·»åŠ è½¬ä¹‰å­—ç¬¦ï¼š<code>``</code>ï¼›</li>
<li>æˆå‘˜å˜é‡ä¸æ˜¯æ•°æ®åº“å­—æ®µï¼Œæ·»åŠ  <code>exist = false</code></li>
</ul>
<p>æ”¯æŒçš„å…¶å®ƒå±æ€§å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th><strong>å±æ€§</strong></th>
<th><strong>ç±»å‹</strong></th>
<th><strong>å¿…å¡«</strong></th>
<th><strong>é»˜è®¤å€¼</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>value</code></td>
<td><code>String</code></td>
<td>å¦</td>
<td>â€œâ€</td>
<td>æ•°æ®åº“å­—æ®µå</td>
</tr>
<tr>
<td><code>exist</code></td>
<td><code>boolean</code></td>
<td>å¦</td>
<td><code>true</code></td>
<td>æ˜¯å¦ä¸ºæ•°æ®åº“è¡¨å­—æ®µ</td>
</tr>
<tr>
<td><code>condition</code></td>
<td><code>String</code></td>
<td>å¦</td>
<td>â€œâ€</td>
<td>å­—æ®µ where å®ä½“æŸ¥è¯¢æ¯”è¾ƒæ¡ä»¶ï¼Œæœ‰å€¼è®¾ç½®åˆ™æŒ‰è®¾ç½®çš„å€¼ä¸ºå‡†ï¼Œæ²¡æœ‰åˆ™ä¸ºé»˜è®¤å…¨å±€çš„ <code>%s=#&#123;%s&#125;</code>ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/SqlCondition.java">å‚è€ƒ(opens new window)</a></td>
</tr>
<tr>
<td><code>update</code></td>
<td><code>String</code></td>
<td>å¦</td>
<td>â€œâ€</td>
<td>å­—æ®µ update set éƒ¨åˆ†æ³¨å…¥ï¼Œä¾‹å¦‚ï¼šå½“åœ¨versionå­—æ®µä¸Šæ³¨è§£<code>update=&quot;%s+1&quot;</code> è¡¨ç¤ºæ›´æ–°æ—¶ä¼š set version&#x3D;version+1 ï¼ˆè¯¥å±æ€§ä¼˜å…ˆçº§é«˜äº el å±æ€§ï¼‰</td>
</tr>
<tr>
<td><code>insertStrategy</code></td>
<td><code>Enum</code></td>
<td>å¦</td>
<td><code>FieldStrategy.DEFAULT</code></td>
<td>ä¸¾ä¾‹ï¼š<code>NOT_NULL insert into table_a(&lt;if test=&quot;columnProperty != null&quot;&gt;column&lt;/if&gt;) values (&lt;if test=&quot;columnProperty != null&quot;&gt;#&#123;columnProperty&#125;&lt;/if&gt;)</code></td>
</tr>
<tr>
<td><code>updateStrategy</code></td>
<td><code>Enum</code></td>
<td>å¦</td>
<td><code>FieldStrategy.DEFAULT</code></td>
<td>ä¸¾ä¾‹ï¼šIGNORED update table_a set column&#x3D;#{columnProperty}</td>
</tr>
<tr>
<td><code>whereStrategy</code></td>
<td><code>Enum</code></td>
<td>å¦</td>
<td><code>FieldStrategy.DEFAULT</code></td>
<td>ä¸¾ä¾‹ï¼š<code>NOT_EMPTY where &lt;if test=&quot;columnProperty != null and columnProperty!=&#39;&#39;&quot;&gt;column=#&#123;columnProperty&#125;&lt;/if&gt;</code></td>
</tr>
<tr>
<td><code>fill</code></td>
<td><code>Enum</code></td>
<td>å¦</td>
<td><code>FieldFill.DEFAULT</code></td>
<td>å­—æ®µè‡ªåŠ¨å¡«å……ç­–ç•¥</td>
</tr>
<tr>
<td><code>select</code></td>
<td><code>boolean</code></td>
<td>å¦</td>
<td><code>true</code></td>
<td>æ˜¯å¦è¿›è¡Œ <code>SELECT</code> æŸ¥è¯¢</td>
</tr>
<tr>
<td><code>keepGlobalFormat</code></td>
<td><code>boolean</code></td>
<td>å¦</td>
<td><code>false</code></td>
<td>æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ format è¿›è¡Œå¤„ç†</td>
</tr>
<tr>
<td><code>jdbcType</code></td>
<td><code>JdbcType</code></td>
<td>å¦</td>
<td><code>JdbcType.UNDEFINED</code></td>
<td>JDBC ç±»å‹ (è¯¥é»˜è®¤å€¼ä¸ä»£è¡¨ä¼šæŒ‰ç…§è¯¥å€¼ç”Ÿæ•ˆ)</td>
</tr>
<tr>
<td><code>typeHandler</code></td>
<td><code>TypeHander</code></td>
<td>å¦</td>
<td></td>
<td>ç±»å‹å¤„ç†å™¨ (è¯¥é»˜è®¤å€¼ä¸ä»£è¡¨ä¼šæŒ‰ç…§è¯¥å€¼ç”Ÿæ•ˆ)</td>
</tr>
<tr>
<td><code>numericScale</code></td>
<td><code>String</code></td>
<td>å¦</td>
<td>â€œâ€</td>
<td>æŒ‡å®šå°æ•°ç‚¹åä¿ç•™çš„ä½æ•°</td>
</tr>
</tbody></table>
<h4 id="1-3-å¸¸è§é…ç½®"><a href="#1-3-å¸¸è§é…ç½®" class="headerlink" title="1.3 å¸¸è§é…ç½®"></a>1.3 å¸¸è§é…ç½®</h4><p><code>MyBatis-Plus</code> ä¹Ÿæ”¯æŒåŸºäº <code>yaml</code> æ–‡ä»¶çš„è‡ªå®šä¹‰é…ç½®ï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://www.baomidou.com/pages/56bac0/#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE">MyBatis-Plus å®˜æ–¹æ–‡æ¡£</a></p>
<p>å¤§å¤šæ•°çš„é…ç½®éƒ½æœ‰é»˜è®¤å€¼ï¼Œå› æ­¤æˆ‘ä»¬éƒ½æ— éœ€é…ç½®ã€‚ä½†è¿˜æœ‰ä¸€äº›æ˜¯æ²¡æœ‰é»˜è®¤å€¼çš„ï¼Œä¾‹å¦‚:</p>
<ul>
<li>å®ä½“ç±»çš„åˆ«åæ‰«æåŒ…</li>
<li>å…¨å±€idç±»å‹</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">	<span class="attr">type-aliases-package:</span> <span class="string">com.itheima.mp.domain.po</span>		<span class="comment"># åˆ«åæ‰«æåŒ…</span></span><br><span class="line">	<span class="attr">mapper-locations:</span> <span class="string">&quot;classpath*:/mapper/**/*.xml&quot;</span> 	<span class="comment"># Mapper.xmlæ–‡ä»¶åœ°å€ï¼Œå½“å‰è¿™ä¸ªæ˜¯é»˜è®¤å€¼ã€‚</span></span><br><span class="line">	<span class="attr">configuration:</span></span><br><span class="line">  		<span class="attr">mapper-underscore-to-camel-case:</span> <span class="literal">true</span>			<span class="comment"># æ˜¯å¦å¼€å¯ä¸‹åˆ’çº¿é©¼å³°æ˜ å°„</span></span><br><span class="line">		<span class="attr">cache-enabled:</span> <span class="literal">false</span>							<span class="comment"># æ˜¯å¦å¼€å¯äºŒçº§ç¼“å­˜</span></span><br><span class="line">	<span class="attr">global-config:</span></span><br><span class="line">		<span class="attr">db-config:</span></span><br><span class="line">		<span class="attr">id-type:</span> <span class="string">auto</span> 									<span class="comment"># å…¨å±€ id ç±»å‹ä¸ºè‡ªå¢é•¿, å¯ä»¥æ›´æ¢ä¸ºå…¶ä»–æ–¹æ³•, å¦‚ assign_id</span></span><br><span class="line">		<span class="attr">update-strategy:</span> <span class="string">not_null</span>						<span class="comment"># æ›´æ–°ç­–ç•¥: åªæ›´æ–°éç©ºå­—æ®µ</span></span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>MyBatis-Plus</code>ä¹Ÿæ”¯æŒæ‰‹å†™ <code>SQL</code> çš„ï¼Œè€Œ <code>mapper</code> æ–‡ä»¶çš„è¯»å–åœ°å€å¯ä»¥é€šè¿‡ <code>mapper-locations</code> é…ç½®ï¼šé»˜è®¤å€¼æ˜¯<code>classpath*:/mapper/**/*.xml</code>ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªè¦æŠŠ <code>mapper.xml</code> æ–‡ä»¶æ”¾ç½®è¿™ä¸ªç›®å½•ä¸‹å°±ä¸€å®šä¼šè¢«åŠ è½½ã€‚</p>
<h3 id="ğŸ¥‘-2-æ ¸å¿ƒåŠŸèƒ½"><a href="#ğŸ¥‘-2-æ ¸å¿ƒåŠŸèƒ½" class="headerlink" title="ğŸ¥‘ 2. æ ¸å¿ƒåŠŸèƒ½"></a>ğŸ¥‘ 2. æ ¸å¿ƒåŠŸèƒ½</h3><p>å…¥é—¨æ¡ˆä¾‹ä¸­éƒ½æ˜¯ä»¥ <code>id</code> ä¸ºæ¡ä»¶çš„ç®€å•CRUDï¼Œä¸€äº›å¤æ‚æ¡ä»¶çš„ <code>SQL</code> è¯­å¥å°±è¦ç”¨åˆ°ä¸€äº›æ›´é«˜çº§çš„åŠŸèƒ½äº†ã€‚</p>
<h4 id="2-1-æ¡ä»¶æ„é€ å™¨"><a href="#2-1-æ¡ä»¶æ„é€ å™¨" class="headerlink" title="2.1 æ¡ä»¶æ„é€ å™¨"></a>2.1 æ¡ä»¶æ„é€ å™¨</h4><p>é™¤äº†æ–°å¢ä»¥å¤–ï¼Œä¿®æ”¹ã€åˆ é™¤ã€æŸ¥è¯¢çš„ <code>SQL</code> è¯­å¥éƒ½éœ€è¦æŒ‡å®š <code>WHERE</code> æ¡ä»¶ã€‚å› æ­¤ <code>BaseMapper</code> ä¸­æä¾›çš„ç›¸å…³æ–¹æ³•é™¤äº†ä»¥ <code>id</code> ä½œä¸º <code>WHERE</code> æ¡ä»¶ä»¥å¤–ï¼Œè¿˜æ”¯æŒæ›´åŠ å¤æ‚çš„ <code>WHERE</code>æ¡ä»¶ã€‚</p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=YWQ1ZTMzMTg4ZTRiNzFkYzFiNzc2YmU0N2I4OGJiZWFfS1F3dFZqVDU1TzVNSnB1VmJWS0MxNjVCVU1qYklzVGdfVG9rZW46QXlTUGJCVVVTb25wa3p4Y0x6SGNLTlhwblVjXzE3MjIzOTQwODg6MTcyMjM5NzY4OF9WNA" alt="img"></p>
<p>å‚æ•°ä¸­çš„ <code>Wrapper</code> å°±æ˜¯<strong>æ¡ä»¶æ„é€ </strong>çš„æŠ½è±¡ç±»ï¼Œå…¶ä¸‹æœ‰å¾ˆå¤šé»˜è®¤å®ç°ï¼Œç»§æ‰¿å…³ç³»å¦‚å›¾ï¼š</p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=Y2EwYmQzMWFjZTEzMmNkOTI4MDIyYzM1ZjExOWZlYTRfMW5nN1UxV3NrMHQxWHhWOHlPYWRZNmtJdGFTbmpBeVJfVG9rZW46WjFUU2JGUk1ubzZWaWp4Q1BDbmN6MmdEbjNlXzE3MjIzOTQwODg6MTcyMjM5NzY4OF9WNA" alt="img"></p>
<p><code>Wrapper</code> çš„å­ç±» <code>AbstractWrapper</code> æä¾›äº† <code>WHERE</code> ä¸­åŒ…å«çš„æ‰€æœ‰æ¡ä»¶æ„é€ æ–¹æ³•ï¼š</p>
<img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWRhOWZiYzNkODcyZjllYTk2Y2VmMmQyM2Q0ZmQzYTdfWkFMRXJSNmZyQ1dQQk1yY2h1Ujd3OHJpTHBNT2ZLUllfVG9rZW46RXlZeWJzZnBBb0FaVnF4V2p5YmNXSzNlbmFmXzE3MjIzOTQwODg6MTcyMjM5NzY4OF9WNA" alt="img" style="zoom: 67%;" />

<p>è€Œ <code>QueryWrapper</code> åœ¨ <code>AbstractWrapper</code> çš„åŸºç¡€ä¸Šæ‹“å±•äº†ä¸€ä¸ª <code>SELETE</code> æ–¹æ³•ï¼Œ<strong>å…è®¸æŒ‡å®šæŸ¥è¯¢å­—æ®µï¼š</strong></p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=YjU1MzEzNDYyMjE2MjIwNGUyZDk0NGNlNzJjNDU1NzRfdGxxZHV1c3hXQkxvcExwWW82MUhNTzBtSm14NHRsWFdfVG9rZW46RVVzUmJwaERQbzJNNTN4WjBrSGNCMWhFbmpoXzE3MjIzOTQwODg6MTcyMjM5NzY4OF9WNA" alt="img"></p>
<p>è€Œ <code>UpdateWrapper</code> åœ¨ <code>AbstractWrapper</code> çš„åŸºç¡€ä¸Šæ‹“å±•äº†ä¸€ä¸ª <code>SET</code> æ–¹æ³•ï¼Œ<strong>å…è®¸æŒ‡å®š <code>SQL</code> ä¸­çš„ <code>SET</code> éƒ¨åˆ†ï¼š</strong></p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=ZmI5OGUyOWU5ZWE4M2M1MWIwYjQ5MWZkOWQ0MDBkMWNfVk5xamtvSmNmV0VEUnFhcU9jSUU4a0s0SDhITkNDZ0ZfVG9rZW46TDZVRWJEZ1V5b0R4blZ4UW92SWNpYmEzbmRiXzE3MjIzOTQwODg6MTcyMjM5NzY4OF9WNA" alt="img"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹å¦‚ä½•åˆ©ç”¨ <code>Wrapper</code> å®ç°å¤æ‚æŸ¥è¯¢ã€‚</p>
<h5 id="2-1-1-QueryWrapper"><a href="#2-1-1-QueryWrapper" class="headerlink" title="2.1.1 QueryWrapper"></a>2.1.1 QueryWrapper</h5><p>æ— è®ºæ˜¯ä¿®æ”¹ã€åˆ é™¤ã€æŸ¥è¯¢ï¼Œéƒ½å¯ä»¥ä½¿ç”¨QueryWrapperæ¥æ„å»ºæŸ¥è¯¢æ¡ä»¶ã€‚</p>
<p>å½“å‰è¡¨çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>#</th>
<th>åç§°</th>
<th>æ•°æ®ç±»å‹</th>
<th>æ³¨é‡Š</th>
<th>é•¿åº¦&#x2F;é›†åˆ</th>
<th>é»˜è®¤</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>id</code></td>
<td><code>BIGINT</code></td>
<td>ç”¨æˆ·ID</td>
<td>19</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>2</td>
<td><code>username</code></td>
<td><code>VARCHAR</code></td>
<td>ç”¨æˆ·å</td>
<td>50</td>
<td>æ— é»˜è®¤å€¼</td>
</tr>
<tr>
<td>3</td>
<td><code>password</code></td>
<td><code>VARCHAR</code></td>
<td>å¯†ç </td>
<td>128</td>
<td>æ— é»˜è®¤å€¼</td>
</tr>
<tr>
<td>4</td>
<td><code>phone</code></td>
<td><code>VARCHAR</code></td>
<td>æ³¨å†Œæ‰‹æœºå·</td>
<td>20</td>
<td>NULL</td>
</tr>
<tr>
<td>5</td>
<td><code>info</code></td>
<td><code>JSON</code></td>
<td>è¯¦ç»†ä¿¡æ¯</td>
<td></td>
<td>æ— é»˜è®¤å€¼</td>
</tr>
<tr>
<td>6</td>
<td><code>status</code></td>
<td><code>INT</code></td>
<td>ä½¿ç”¨çŠ¶æ€(1: æ­£å¸¸ 2: å†»ç»“)</td>
<td>10</td>
<td>â€œ1â€</td>
</tr>
<tr>
<td>7</td>
<td><code>balance</code></td>
<td><code>INT</code></td>
<td>è´¦æˆ·ä½™é¢</td>
<td>10</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td><code>create_time</code></td>
<td><code>DATETIME</code></td>
<td>åˆ›å»ºæ—¶é—´</td>
<td></td>
<td>CURRENT_TIMESTAMP</td>
</tr>
<tr>
<td>9</td>
<td><code>update_time</code></td>
<td><code>DATETIME</code></td>
<td>æ›´æ–°æ—¶é—´</td>
<td></td>
<td>CURRENT_TIMESTAMP</td>
</tr>
</tbody></table>
<p>æ¥ä¸‹æ¥çœ‹ä¸€äº›ä¾‹å­ï¼š </p>
<p><strong>æŸ¥è¯¢</strong>ï¼šæŸ¥è¯¢å‡ºåå­—ä¸­å¸¦<code>o</code>çš„ï¼Œå­˜æ¬¾å¤§äºç­‰äº1000å…ƒçš„äººã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> id,username,info,balance</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">user</span></span><br><span class="line"><span class="keyword">WHERE</span> username <span class="keyword">LIKE</span> &quot;%o%&quot; <span class="keyword">AND</span> Balance <span class="operator">&gt;=</span> <span class="number">100</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testQueryWrapper</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1. æ„å»ºæŸ¥è¯¢æ¡ä»¶ WHERE name LIKE &quot;%o%&quot; AND balance &gt;= 1000</span></span><br><span class="line">    QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;User&gt;()</span><br><span class="line">            .select(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;username&quot;</span>, <span class="string">&quot;info&quot;</span>, <span class="string">&quot;balance&quot;</span>)</span><br><span class="line">            .like(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;o&quot;</span>)</span><br><span class="line">            .ge(<span class="string">&quot;balance&quot;</span>, <span class="number">1000</span>);</span><br><span class="line">    <span class="comment">// 2. æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">    List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ›´æ–°</strong>ï¼šæ›´æ–°ç”¨æˆ·åä¸º <code>Jack</code> çš„ç”¨æˆ·çš„ä½™é¢ä¸º <code>2000</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span></span><br><span class="line">	<span class="keyword">SET</span> balance<span class="operator">=</span><span class="number">2000</span></span><br><span class="line">	<span class="keyword">WHERE</span> (username<span class="operator">=</span>&quot;Jack&quot;)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testUpdateByQueryWrapper</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æ„å»ºæŸ¥è¯¢æ¡ä»¶ WHERE name=&quot;Jack&quot;</span></span><br><span class="line">    QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;User&gt;().eq(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;Jack&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.æ›´æ–°æ•°æ®, user ä¸­é NULL å­—æ®µéƒ½ä¼šä½œä¸º SET è¯­å¥</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setBalance(<span class="number">2000</span>);</span><br><span class="line">    userMapper.update(user, wrapper);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-1-2-UpdateWrapper"><a href="#2-1-2-UpdateWrapper" class="headerlink" title="2.1.2 UpdateWrapper"></a>2.1.2 UpdateWrapper</h5><p>åŸºäº <code>BaseMapper</code> ä¸­çš„ <code>UPDATE</code> æ–¹æ³•æ›´æ–°æ—¶åªèƒ½ç›´æ¥èµ‹å€¼ï¼Œå¯¹äºä¸€äº›å¤æ‚çš„éœ€æ±‚å°±éš¾ä»¥å®ç°ã€‚ </p>
<p>ä¾‹å¦‚ï¼šæ›´æ–° <code>id</code> ä¸º <code>1</code>ã€<code>2</code>ã€<code>4</code> çš„ç”¨æˆ·çš„ä½™é¢ï¼Œæ‰£ <code>200</code>ï¼Œå¯¹åº”çš„SQLåº”è¯¥æ˜¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE user <span class="type">SET</span> <span class="variable">balance</span> <span class="operator">=</span> balance - <span class="number">200</span> WHERE id <span class="title function_">in</span> <span class="params">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>)</span></span><br></pre></td></tr></table></figure>

<p><code>SET</code> çš„èµ‹å€¼ç»“æœæ˜¯åŸºäºå­—æ®µç°æœ‰å€¼çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦åˆ©ç”¨ <code>UpdateWrapper</code> ä¸­çš„ <code>setSql</code> åŠŸèƒ½äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testUpdateWrapper</span><span class="params">()</span> &#123;</span><br><span class="line">    List&lt;Long&gt; ids = List.of(<span class="number">1L</span>, <span class="number">2L</span>, <span class="number">4L</span>);</span><br><span class="line">    <span class="comment">// 1.ç”ŸæˆSQL</span></span><br><span class="line">    UpdateWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">UpdateWrapper</span>&lt;User&gt;()</span><br><span class="line">            .setSql(<span class="string">&quot;balance = balance - 200&quot;</span>) 	<span class="comment">// SET balance = balance - 200</span></span><br><span class="line">            .in(<span class="string">&quot;id&quot;</span>, ids); 					<span class="comment">// WHERE id in (1, 2, 4)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.æ›´æ–°, æ³¨æ„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ç»™null, ä¹Ÿå°±æ˜¯ä¸å¡«æ›´æ–°å­—æ®µå’Œæ•°æ®ï¼Œ</span></span><br><span class="line">    <span class="comment">// è€Œæ˜¯åŸºäº UpdateWrapper ä¸­çš„ setSQL æ¥æ›´æ–°</span></span><br><span class="line">    userMapper.update(<span class="literal">null</span>, wrapper);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-1-3-LambdaQueryWrapper"><a href="#2-1-3-LambdaQueryWrapper" class="headerlink" title="2.1.3 LambdaQueryWrapper"></a>2.1.3 LambdaQueryWrapper</h5><p>æ— è®ºæ˜¯ <code>QueryWrapper</code> è¿˜æ˜¯ <code>UpdateWrapper</code> åœ¨æ„é€ æ¡ä»¶çš„æ—¶å€™éƒ½éœ€è¦å†™æ­»å­—æ®µåç§°ï¼Œä¼šå‡ºç°å­—ç¬¦ä¸²<code>é­”æ³•å€¼</code>ã€‚è¿™åœ¨ç¼–ç¨‹è§„èŒƒä¸­æ˜¾ç„¶æ˜¯ä¸æ¨èçš„ã€‚ é‚£æ€ä¹ˆæ ·æ‰èƒ½ä¸å†™å­—æ®µåï¼Œåˆèƒ½çŸ¥é“å­—æ®µåå‘¢ï¼Ÿ</p>
<p>å…¶ä¸­ä¸€ç§åŠæ³•æ˜¯åŸºäºå˜é‡çš„ <code>getter</code> æ–¹æ³•ç»“åˆåå°„æŠ€æœ¯ã€‚å› æ­¤æˆ‘ä»¬åªè¦å°†æ¡ä»¶å¯¹åº”çš„å­—æ®µçš„ <code>getter</code> æ–¹æ³•ä¼ é€’ç»™ <code>MyBatis-Plus</code>ï¼Œå®ƒå°±èƒ½è®¡ç®—å‡ºå¯¹åº”çš„å˜é‡åäº†ã€‚è€Œä¼ é€’æ–¹æ³•å¯ä»¥ä½¿ç”¨ <code>JDK8</code> ä¸­çš„ <code>æ–¹æ³•å¼•ç”¨</code> å’Œ <code>Lambda</code> è¡¨è¾¾å¼ã€‚ å› æ­¤ <code>MyBatis-Plus</code> åˆæä¾›äº†ä¸€å¥—åŸºäº<code>Lambda</code> çš„ <code>Wrapper</code>ï¼ŒåŒ…å«ä¸¤ä¸ªï¼š</p>
<ul>
<li><code>LambdaQueryWrapper</code></li>
<li><code>LambdaUpdateWrapper</code></li>
</ul>
<p>åˆ†åˆ«å¯¹åº” <code>QueryWrapper</code> å’Œ <code>UpdateWrapper</code></p>
<p>å…¶ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testLambdaQueryWrapper</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æ„å»ºæ¡ä»¶ WHERE username LIKE &quot;%o%&quot; AND balance &gt;= 1000</span></span><br><span class="line">    QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    wrapper.lambda()</span><br><span class="line">            .select(User::getId, User::getUsername, User::getInfo, User::getBalance)</span><br><span class="line">            .like(User::getUsername, <span class="string">&quot;o&quot;</span>)</span><br><span class="line">            .ge(User::getBalance, <span class="number">1000</span>);</span><br><span class="line">    <span class="comment">// 2.æŸ¥è¯¢</span></span><br><span class="line">    List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-è‡ªå®šä¹‰-SQL"><a href="#2-2-è‡ªå®šä¹‰-SQL" class="headerlink" title="2.2 è‡ªå®šä¹‰ SQL"></a>2.2 è‡ªå®šä¹‰ SQL</h4><p>ä¸€èˆ¬ä¼ä¸šçš„å¼€å‘è§„èŒƒä¸­ï¼Œæ˜¯ä¸å…è®¸å¼€å‘äººå‘˜å°† <code>SQL</code> è„±ç¦»å‡º <code>Mapper</code> å±‚æˆ–è€… <code>mapper.xml</code> æ–‡ä»¶çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³è¦ä½¿ç”¨ <code>MyBatis-Plus</code> åˆæƒ³è¦éµå®ˆä¼ä¸šçš„å¼€å‘è§„èŒƒï¼Œåº”è¯¥å¦‚ä½•åšå‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>MyBatis-Plus</code> çš„ <code>Wrapper</code> æ¥æ„å»ºå¤æ‚çš„ <code>WHERE</code> æ¡ä»¶ï¼Œç„¶åè‡ªå·±å®šä¹‰ <code>SQL</code> è¯­å¥ä¸­å‰©ä¸‹çš„éƒ¨åˆ†ã€‚</p>
<p>â‘  åŸºäº <code>Wrapper</code> æ„é€  <code>WHERE</code> æ¡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Long&gt; ids = List.of(<span class="number">1L</span>, <span class="number">2L</span>, <span class="number">4L</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">amount</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. æ„é€ æ¡ä»¶</span></span><br><span class="line">LambdaQueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;User&gt;().in(User::getId, ids);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. è‡ªå®šä¹‰SQLæ–¹æ³•è°ƒç”¨</span></span><br><span class="line">userMapper.updateBalanceByIds(wrapper, amount);</span><br></pre></td></tr></table></figure>

<p>â‘¡ åœ¨ <code>mapper</code> æ–¹æ³•å‚æ•°ä¸­ç”¨ <code>@Param</code> æ³¨è§£å£°æ˜ <code>Wrapper</code> å˜é‡åç§°ï¼Œè¿™ä¸ªåç§°å¿…é¡»æ˜¯ <code>ew</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">updateBalanceByIds</span><span class="params">(<span class="meta">@Param(&quot;ew&quot;)</span> LambdaQueryWrapper&lt;User&gt; wrapper, <span class="meta">@Param(&quot;amount&quot;)</span> <span class="type">int</span> amount)</span>;</span><br></pre></td></tr></table></figure>

<p>â‘¢ è‡ªå®šä¹‰ <code>SQL</code>ï¼Œå¹¶ä½¿ç”¨ <code>Wrapper</code> æ¡ä»¶ï¼Œè¿™é‡Œ <code>ew.customSqlSegment</code> æ˜¯ <code>Wrapper</code> çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºè·å–ç”¨æˆ·è‡ªå®šä¹‰SQLç‰‡æ®µã€‚å¦‚æœä½¿ç”¨å‡ºç°é—®é¢˜ï¼Œå‚è€ƒåšå®¢ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/xxNGchi/article/details/120681606">MyBatis-Plus ${ew.customSqlSegment} ä½¿ç”¨çš„å²è¯—çº§å¤§å‘-CSDNåšå®¢</a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateBalanceByIds&quot;</span>&gt;</span></span><br><span class="line">    UPDATE t_user SET balance = balance - #&#123;amount&#125; $&#123;ew.customSqlSegment&#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-3-Service-æ¥å£"><a href="#2-3-Service-æ¥å£" class="headerlink" title="2.3 Service æ¥å£"></a>2.3 <code>Service</code> æ¥å£</h4><p><code>MyBatis-Plus</code> ä¸ä»…æä¾›äº† <code>BaseMapper</code>ï¼Œè¿˜æä¾›äº†é€šç”¨çš„ <code>Service</code> æ¥å£åŠé»˜è®¤å®ç°ï¼Œå°è£…äº†ä¸€äº›å¸¸ç”¨çš„ <code>service</code> æ¨¡æ¿æ–¹æ³•ã€‚ é€šç”¨æ¥å£ä¸º <code>IService</code>ï¼Œé»˜è®¤å®ç°ä¸º <code>ServiceImpl</code>ï¼Œå…¶ä¸­å°è£…çš„æ–¹æ³•å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p>
<ul>
<li><code>save</code>ï¼šæ–°å¢</li>
<li><code>remove</code>ï¼šåˆ é™¤</li>
<li><code>update</code>ï¼šæ›´æ–°</li>
<li><code>get</code>ï¼šæŸ¥è¯¢å•ä¸ªç»“æœ</li>
<li><code>list</code>ï¼šæŸ¥è¯¢é›†åˆç»“æœ</li>
<li><code>count</code>ï¼šè®¡æ•°</li>
<li><code>page</code>ï¼šåˆ†é¡µæŸ¥è¯¢</li>
</ul>
<p><img src="/./MyBatisPlus/IServiceInterface.png" alt="IServiceInterface"></p>
<h5 id="2-3-1-CRUD"><a href="#2-3-1-CRUD" class="headerlink" title="2.3.1 CRUD"></a>2.3.1 CRUD</h5><p>é¦–å…ˆäº†è§£åŸºæœ¬çš„CRUDæ¥å£ã€‚</p>
<p><strong>æ–°å¢</strong>ï¼š</p>
<img src="./MyBatisPlus/IServiceSave.png" alt="" style="zoom: 50%;" />

<ul>
<li><code>save</code> æ˜¯æ–°å¢å•ä¸ªå…ƒç´ </li>
<li><code>saveBatch</code> æ˜¯æ‰¹é‡æ–°å¢</li>
<li><code>saveOrUpdate</code> æ˜¯æ ¹æ®idåˆ¤æ–­ï¼Œå¦‚æœæ•°æ®å­˜åœ¨å°±æ›´æ–°ï¼Œä¸å­˜åœ¨åˆ™æ–°å¢</li>
<li><code>saveOrUpdateBatch</code> æ˜¯æ‰¹é‡çš„æ–°å¢æˆ–ä¿®æ”¹</li>
</ul>
<p><strong>åˆ é™¤ï¼š</strong></p>
<img src="./MyBatisPlus/IServiceRemove.png" alt="IServiceRemove" style="zoom: 80%;" />

<ul>
<li><code>removeById</code>ï¼šæ ¹æ®idåˆ é™¤</li>
<li><code>removeByIds</code>ï¼šæ ¹æ®idæ‰¹é‡åˆ é™¤</li>
<li><code>removeByMap</code>ï¼šæ ¹æ®Mapä¸­çš„é”®å€¼å¯¹ä¸ºæ¡ä»¶åˆ é™¤</li>
<li><code>remove(Wrapper&lt;T&gt;)</code>ï¼šæ ¹æ®Wrapperæ¡ä»¶åˆ é™¤</li>
<li><code>~~removeBatchByIds~~</code>ï¼šæš‚ä¸æ”¯æŒ</li>
</ul>
<p><strong>ä¿®æ”¹ï¼š</strong></p>
<p><img src="/./MyBatisPlus/IServiceUpdate.png" alt="IServiceUpdate"></p>
<ul>
<li><code>updateById</code>ï¼šæ ¹æ®idä¿®æ”¹</li>
<li><code>update(Wrapper&lt;T&gt;)</code>ï¼šæ ¹æ®<code>UpdateWrapper</code>ä¿®æ”¹ï¼Œ<code>Wrapper</code>ä¸­åŒ…å«<code>set</code>å’Œ<code>where</code>éƒ¨åˆ†</li>
<li><code>update(Tï¼ŒWrapper&lt;T&gt;)</code>ï¼šæŒ‰ç…§<code>T</code>å†…çš„æ•°æ®ä¿®æ”¹ä¸<code>Wrapper</code>åŒ¹é…åˆ°çš„æ•°æ®</li>
<li><code>updateBatchById</code>ï¼šæ ¹æ®idæ‰¹é‡ä¿®æ”¹</li>
</ul>
<p><strong>Getï¼š</strong></p>
<p><img src="/./MyBatisPlus/IServiceGet.png" alt="IServiceGet"></p>
<ul>
<li><code>getById</code>ï¼šæ ¹æ® <code>id</code> æŸ¥è¯¢ <code>1</code> æ¡æ•°æ®</li>
<li><code>getOne(Wrapper&lt;T&gt;)</code>ï¼šæ ¹æ®<code>Wrapper</code> æŸ¥è¯¢ <code>1</code> æ¡æ•°æ®</li>
<li><code>getBaseMapper</code>ï¼šè·å–<code>Service</code> å†…çš„ <code>BaseMapper</code> å®ç°ï¼ŒæŸäº›æ—¶å€™éœ€è¦ç›´æ¥è°ƒç”¨ <code>Mapper</code> å†…çš„è‡ªå®šä¹‰ <code>SQL</code> æ—¶å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•è·å–åˆ° <code>Mapper</code></li>
</ul>
<p><strong>Listï¼š</strong></p>
<p><img src="/./MyBatisPlus/IServiceList.png" alt="IServiceList"></p>
<ul>
<li><code>listByIds</code>ï¼šæ ¹æ®idæ‰¹é‡æŸ¥è¯¢</li>
<li><code>list(Wrapper&lt;T&gt;)</code>ï¼šæ ¹æ®Wrapperæ¡ä»¶æŸ¥è¯¢å¤šæ¡æ•°æ®</li>
<li><code>list()</code>ï¼šæŸ¥è¯¢æ‰€æœ‰</li>
</ul>
<p><strong>Count</strong>ï¼š</p>
<p><img src="/./MyBatisPlus/IServiceCount.png" alt="IServiceCount"></p>
<ul>
<li><code>count()</code>ï¼šç»Ÿè®¡æ‰€æœ‰æ•°é‡</li>
<li><code>count(Wrapper&lt;T&gt;)</code>ï¼šç»Ÿè®¡ç¬¦åˆ<code>Wrapper</code>æ¡ä»¶çš„æ•°æ®æ•°é‡</li>
</ul>
<p><strong>getBaseMapper</strong>ï¼š å½“æˆ‘ä»¬åœ¨serviceä¸­è¦è°ƒç”¨Mapperä¸­è‡ªå®šä¹‰SQLæ—¶ï¼Œå°±å¿…é¡»è·å–serviceå¯¹åº”çš„Mapperï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼š</p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=MGM1NDYyZmU0NjEyZmE1MTY1ZDBhZDM5NTMzNWQ1YjlfQ1pCTVFyWEt6cWV4bjdDSkE0NDFjazRrYWpSeUxTVTdfVG9rZW46TFdqc2JTMVUzb1JCdXh4MWhDMGMxMzdBbmpoXzE3MjI0MTI1ODk6MTcyMjQxNjE4OV9WNA" alt="img"></p>
<h5 id="2-3-2-åŸºæœ¬ç”¨æ³•"><a href="#2-3-2-åŸºæœ¬ç”¨æ³•" class="headerlink" title="2.3.2 åŸºæœ¬ç”¨æ³•"></a>2.3.2 åŸºæœ¬ç”¨æ³•</h5><p>ç”±äº <code>Service</code> ä¸­ç»å¸¸éœ€è¦å®šä¹‰ä¸ä¸šåŠ¡æœ‰å…³çš„è‡ªå®šä¹‰æ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½ç›´æ¥ä½¿ç”¨ <code>IService</code>ï¼Œè€Œæ˜¯è‡ªå®šä¹‰ <code>Service</code> æ¥å£ï¼Œç„¶åç»§æ‰¿ <code>IService</code> ä»¥æ‹“å±•æ–¹æ³•ã€‚åŒæ—¶ï¼Œè®©è‡ªå®šä¹‰çš„ <code>Serviceå®ç°ç±»</code> ç»§æ‰¿ <code>ServiceImpl</code>ï¼Œè¿™æ ·å°±ä¸ç”¨è‡ªå·±å®ç° <code>IService</code> ä¸­çš„æ¥å£äº†ã€‚</p>
<p>å…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>â‘  é¦–å…ˆï¼Œå®šä¹‰ <code>IUserService</code> ç±»ï¼Œç»§æ‰¿ <code>IService</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.mp.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itheima.mp.domain.po.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">IUserService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;User&gt; &#123;</span><br><span class="line">    <span class="comment">// æ‹“å±•è‡ªå®šä¹‰æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â‘¡ ç„¶åï¼Œç¼–å†™ <code>UserServiceImpl</code> ç±»ï¼Œç»§æ‰¿ <code>ServiceImpl</code>ï¼Œå®ç° <code>UserService</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.mp.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itheima.mp.domain.po.User;</span><br><span class="line"><span class="keyword">import</span> com.itheima.mp.domain.po.service.IUserService;</span><br><span class="line"><span class="keyword">import</span> com.itheima.mp.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;UserMapper, User&gt; <span class="keyword">implements</span> <span class="title class_">IUserService</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://b11et3un53m.feishu.cn/space/api/box/stream/download/asynccode/?code=MjZmNzNiNWRlZmQ1MzU1YjYyN2VmYzgzNmNiNTBiOGZfblhsa1NaS1NSbXFpUlByaWNDU1NrcGtmMWIyMXpndVRfVG9rZW46S1BYcGJkM3Y4b2pZVkt4ZHhFUmNmcHpPbnJnXzE3MjI0MDkzNTg6MTcyMjQxMjk1OF9WNA" alt="img"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åŸºäº <code>RESTful</code> é£æ ¼å¿«é€Ÿå®ç°ä¸‹é¢å‡ ä¸ªæ¥å£ï¼ˆ<a target="_blank" rel="noopener" href="https://blog.csdn.net/SeniorShen/article/details/111591122">ä»€ä¹ˆæ˜¯<code>RESTful</code>é£æ ¼</a>ï¼‰ï¼š</p>
<p>ç®€å•ç†è§£ <code>REST</code> å°±æ˜¯ï¼š<code>URL</code> ä¸­åªä½¿ç”¨åè¯æ¥å®šä½èµ„æºï¼Œç”¨ <code>HTTP</code> åè®®é‡Œçš„åŠ¨è¯ï¼ˆ<code>GET</code>ã€<code>POST</code>ã€<code>PUT</code>ã€<code>DELETE</code>ï¼‰æ¥å®ç°èµ„æºçš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚</p>
<p>ä»€ä¹ˆæ˜¯ <code>RESTful</code>ï¼š</p>
<ul>
<li>ä½¿ç”¨å®¢æˆ·&#x2F;æœåŠ¡å™¨ï¼ˆB&#x2F;Sã€ C&#x2F;Sï¼‰æ¨¡å‹ï¼šå®¢æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´é€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥äº’ç›¸é€šè®¯ã€‚</li>
<li>å±‚æ¬¡åŒ–çš„ç³»ç»Ÿï¼šåœ¨ä¸€ä¸ª <code>REST</code> ç³»ç»Ÿä¸­ï¼Œå®¢æˆ·ç«¯å¹¶ä¸ä¼šå›ºå®šåœ°ä¸ä¸€ä¸ªæœåŠ¡å™¨æ‰“äº¤é“ã€‚</li>
<li>æ— çŠ¶æ€ï¼šåœ¨ä¸€ä¸ª <code>REST</code> ç³»ç»Ÿä¸­ï¼ŒæœåŠ¡ç«¯å¹¶ä¸ä¼šä¿å­˜æœ‰å…³å®¢æˆ·çš„ä»»ä½•çŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯è‡ªèº«è´Ÿè´£ç”¨æˆ·çŠ¶æ€çš„ç»´æŒï¼Œå¹¶åœ¨æ¯æ¬¡å‘é€è¯·æ±‚æ—¶éƒ½éœ€è¦æä¾›è¶³å¤Ÿçš„ä¿¡æ¯ã€‚</li>
<li>å¯ç¼“å­˜ï¼š<code>REST</code> ç³»ç»Ÿéœ€è¦èƒ½å¤Ÿæ°å½“åœ°ç¼“å­˜è¯·æ±‚ï¼Œä»¥å°½é‡å‡å°‘æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„ä¿¡æ¯ä¼ è¾“ï¼Œä»¥æé«˜æ€§èƒ½ã€‚</li>
<li>ç»Ÿä¸€çš„æ¥å£ã€‚ä¸€ä¸ª <code>REST</code> ç³»ç»Ÿéœ€è¦ä½¿ç”¨ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥å®Œæˆå­ç³»ç»Ÿä¹‹é—´ä»¥åŠæœåŠ¡ä¸ç”¨æˆ·ä¹‹é—´çš„äº¤äº’ã€‚è¿™ä½¿å¾— <code>REST</code> ç³»ç»Ÿä¸­çš„å„ä¸ªå­ç³»ç»Ÿå¯ä»¥ç‹¬è‡ªå®Œæˆæ¼”åŒ–ã€‚</li>
</ul>
<p>å¦‚æœä¸€ä¸ªç³»ç»Ÿæ»¡è¶³äº†ä¸Šé¢æ‰€åˆ—å‡ºçš„äº”æ¡çº¦æŸï¼Œé‚£ä¹ˆè¯¥ç³»ç»Ÿå°±è¢«ç§°ä¸ºæ˜¯ <code>RESTful</code> çš„ã€‚</p>
<table>
<thead>
<tr>
<th align="left"><strong>ç¼–å·</strong></th>
<th align="left"><strong>æ¥å£</strong></th>
<th align="left"><strong>è¯·æ±‚æ–¹å¼</strong></th>
<th align="left"><strong>è¯·æ±‚è·¯å¾„</strong></th>
<th align="left"><strong>è¯·æ±‚å‚æ•°</strong></th>
<th align="left"><strong>è¿”å›å€¼</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">æ–°å¢ç”¨æˆ·</td>
<td align="left">POST</td>
<td align="left">&#x2F;users</td>
<td align="left">ç”¨æˆ·è¡¨å•å®ä½“</td>
<td align="left">æ— </td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">åˆ é™¤ç”¨æˆ·</td>
<td align="left">DELETE</td>
<td align="left">&#x2F;users&#x2F;{id}</td>
<td align="left">ç”¨æˆ· <code>id</code></td>
<td align="left">æ— </td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">æ ¹æ® <code>id</code> æŸ¥è¯¢ç”¨æˆ·</td>
<td align="left">GET</td>
<td align="left">&#x2F;users&#x2F;{id}</td>
<td align="left">ç”¨æˆ· <code>id</code></td>
<td align="left">ç”¨æˆ·VO</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">æ ¹æ® <code>id</code> æ‰¹é‡æŸ¥è¯¢</td>
<td align="left">GET</td>
<td align="left">&#x2F;users</td>
<td align="left">ç”¨æˆ· <code>id</code> é›†åˆ</td>
<td align="left">ç”¨æˆ·VOé›†åˆ</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">æ ¹æ® <code>id</code> æ‰£é™¤ä½™é¢</td>
<td align="left">PUT</td>
<td align="left">&#x2F;users&#x2F;{id}&#x2F;deduction&#x2F;{money}</td>
<td align="left">1. ç”¨æˆ· <code>id</code><br />2. æ‰£é™¤é‡‘é¢</td>
<td align="left">æ— </td>
</tr>
</tbody></table>
<h3 id="ğŸ•¸-3-æ‹“å±•åŠŸèƒ½"><a href="#ğŸ•¸-3-æ‹“å±•åŠŸèƒ½" class="headerlink" title="ğŸ•¸ 3. æ‹“å±•åŠŸèƒ½"></a>ğŸ•¸ 3. æ‹“å±•åŠŸèƒ½</h3><h3 id="ğŸ§©-4-æ’ä»¶åŠŸèƒ½"><a href="#ğŸ§©-4-æ’ä»¶åŠŸèƒ½" class="headerlink" title="ğŸ§© 4. æ’ä»¶åŠŸèƒ½"></a>ğŸ§© 4. æ’ä»¶åŠŸèƒ½</h3></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-30T14:36:18.000Z" title="2024/7/30 22:36:18">2024-07-30</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-07-30T14:55:50.823Z" title="2024/7/30 22:55:50">2024-07-30</time>æ›´æ–°</span><span class="level-item">1 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦222ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/30/SpringCloud/">SpringCloud</a></p><div class="content"><h2 id="SpringCloud"><a href="#SpringCloud" class="headerlink" title="SpringCloud"></a>SpringCloud</h2><p>[TOC]</p>
<h3 id="1-å¾®æœåŠ¡"><a href="#1-å¾®æœåŠ¡" class="headerlink" title="1. å¾®æœåŠ¡"></a>1. å¾®æœåŠ¡</h3><p><strong>ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼š</strong>å¾®æœåŠ¡æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ï¼Œå®ƒæ˜¯ä»¥ä¸“æ³¨äºå•ä¸€èŒè´£çš„å¾ˆå¤šå°å‹é¡¹ç›®ä¸ºåŸºç¡€ï¼Œç»„åˆå‡ºå¤æ‚çš„å¤§å‹åº”ç”¨ã€‚</p>
<p>ä¼ ç»Ÿçš„<strong>å•ä½“é¡¹ç›®</strong>å¼€å‘å°†ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æ¨¡å—éƒ½é›†ä¸­åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ã€‚è€Œ<strong>å¾®æœåŠ¡</strong>å¯ä»¥ç†è§£ä¸ºå¯¹ä¸€ä¸ª<strong>å•ä½“é¡¹ç›®</strong>çš„æ‹†åˆ†ï¼Œå°†å•ä½“é¡¹ç›®çš„è¾¹ç•Œæ‰“ç ´ï¼Œå¹¶ä¸”å°†ä¸€ä¸ªåºå¤§çš„é¡¹ç›®æ‹†åˆ†æˆä¸€ä¸ªä¸€ä¸ªå°é¡¹ç›®ã€‚</p>
<p>å½“ç„¶å¾®æœåŠ¡ä¼šæ¶‰åŠåˆ°ä¸€äº›é—®é¢˜ï¼Œä¸»è¦åŒ…æ‹¬ä¸‹é¢è¿™äº›æ–¹é¢ï¼š</p>
<ul>
<li>æœåŠ¡æ‹†åˆ†</li>
<li>è¿œç¨‹è°ƒç”¨</li>
<li>æœåŠ¡æ²»ç†</li>
<li>è¯·æ±‚è·¯ç”±</li>
<li>èº«ä»½è®¤è¯</li>
<li>é…ç½®ç®¡ç†</li>
<li>æœåŠ¡ä¿æŠ¤</li>
<li>åˆ†å¸ƒå¼äº‹åŠ¡</li>
<li>å¼‚æ­¥é€šä¿¡</li>
<li>æ¶ˆæ¯å¯é æ€§</li>
<li>å»¶è¿Ÿæ¶ˆæ¯</li>
<li>åˆ†å¸ƒå¼æœç´¢</li>
<li>å€’æ’ç´¢å¼•</li>
<li>æ•°æ®èšåˆ</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-29T07:32:17.000Z" title="2024/7/29 15:32:17">2024-07-29</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-08-06T02:56:04.097Z" title="2024/8/6 10:56:04">2024-08-06</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/CppDev/">CppDev</a><span>Â /Â </span><a class="link-muted" href="/categories/CppDev/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B/">å¤šçº¿ç¨‹ç¼–ç¨‹</a></span><span class="level-item">2 å°æ—¶è¯»å®Œ (å¤§çº¦14429ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/29/Cpp-Muti-Threaded/">Cpp_Muti_Threaded</a></p><div class="content"><h2 id="ğŸ”±-C-å¤šçº¿ç¨‹ç¼–ç¨‹"><a href="#ğŸ”±-C-å¤šçº¿ç¨‹ç¼–ç¨‹" class="headerlink" title="ğŸ”± C++ å¤šçº¿ç¨‹ç¼–ç¨‹"></a>ğŸ”± C++ å¤šçº¿ç¨‹ç¼–ç¨‹</h2><p>[TOC]</p></div><a class="article-more button is-small is-size-7" href="/2024/07/29/Cpp-Muti-Threaded/#more">é˜…è¯»æ›´å¤š</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-29T07:29:04.000Z" title="2024/7/29 15:29:04">2024-07-29</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-08-07T14:38:34.610Z" title="2024/8/7 22:38:34">2024-08-07</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/CppDev/">CppDev</a><span>Â /Â </span><a class="link-muted" href="/categories/CppDev/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">ç½‘ç»œç¼–ç¨‹</a></span><span class="level-item">å‡ ç§’è¯»å®Œ (å¤§çº¦0ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/29/Cpp-Network-Programming/">Cpp_Network_Programming</a></p><div class="content"></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-24T02:38:18.000Z" title="2024/7/24 10:38:18">2024-07-24</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-07-29T01:12:11.311Z" title="2024/7/29 09:12:11">2024-07-29</time>æ›´æ–°</span><span class="level-item">31 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦4638ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/24/NginxQuickIN/">NginxQuickIN</a></p><div class="content"><h2 id="ENGINE-X-Nginx-å¿«é€Ÿä¸Šæ‰‹æŒ‡å—"><a href="#ENGINE-X-Nginx-å¿«é€Ÿä¸Šæ‰‹æŒ‡å—" class="headerlink" title="ENGINE X - Nginx å¿«é€Ÿä¸Šæ‰‹æŒ‡å—"></a>ENGINE X - <code>Nginx</code> å¿«é€Ÿä¸Šæ‰‹æŒ‡å—</h2><p>[TOC]</p>
<h3 id="ğŸŒ-1-Nginx-åŸºæœ¬æ¦‚å¿µ"><a href="#ğŸŒ-1-Nginx-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ğŸŒ 1. Nginx åŸºæœ¬æ¦‚å¿µ"></a>ğŸŒ 1. <code>Nginx</code> åŸºæœ¬æ¦‚å¿µ</h3><p><code>Nginx</code> æ˜¯ç›®å‰æœ€æµè¡Œçš„ Web æœåŠ¡å™¨è½¯ä»¶ï¼Œä¹Ÿæ˜¯äº’è”ç½‘å…¬å¸å’Œç½‘ç«™çš„é¦–é€‰ã€‚ä¸€å¼€å§‹æ˜¯ç”±ä¸€ä¸ªåä¸º <code>Igor Sysoev</code> çš„ä¿„ç½—æ–¯ç¨‹åºå‘˜å¼€å‘çš„ï¼Œç›®çš„æ˜¯ç”¨äºè§£å†³ <code>C10K</code> é—®é¢˜ï¼Œ<code>C10K</code> é—®é¢˜æ˜¯æŒ‡æœåŠ¡å™¨åŒæ—¶æ”¯æŒæˆåƒä¸Šä¸‡ä¸ªå¹¶å‘å®¢æˆ·ç«¯çš„é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜åœ¨å½“æ—¶æ˜¯éå¸¸ä¸¥é‡çš„ï¼Œå› ä¸ºå½“æ—¶çš„æœåŠ¡å™¨è½¯ä»¶éƒ½æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨çš„æ€§èƒ½ä¼šå˜å¾—éå¸¸çš„å·®ã€‚</p>
<p><code>Nginx</code> çš„å‡ºç°å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ <code>Nginx</code> å®˜æ–¹çš„æµ‹è¯•ç»“æœä¸­ï¼Œ<code>Nginx</code> å¯ä»¥æ”¯æŒ <code>50000</code> ä¸ªå¹¶å‘è¿æ¥ï¼Œåœ¨åæ¥çš„å‘å±•ä¸­ï¼Œ<code>Nginx</code> ä¹Ÿé€æ¸æˆä¸ºäº†æœ€æµè¡Œçš„ Web æœåŠ¡å™¨è½¯ä»¶ã€‚</p>
<p><code>Nginx</code> å…·æœ‰ <strong><code>epoll</code> I&#x2F;Oå¤šè·¯å¤ç”¨</strong>ã€<strong>é«˜å¹¶å‘</strong>ã€<strong>é«˜æ€§èƒ½</strong>ã€<strong>ä½å†…å­˜æ¶ˆè€—</strong>ã€<strong>çƒ­éƒ¨ç½²</strong>ç­‰ä¼˜åŠ¿ã€‚</p>
<h3 id="ğŸŒ-2-Nginx-å®‰è£…é…ç½®"><a href="#ğŸŒ-2-Nginx-å®‰è£…é…ç½®" class="headerlink" title="ğŸŒ 2. Nginx å®‰è£…é…ç½®"></a>ğŸŒ 2. <code>Nginx</code> å®‰è£…é…ç½®</h3><h4 id="2-1-é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£…-Nginx"><a href="#2-1-é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£…-Nginx" class="headerlink" title="2.1 é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£… Nginx"></a>2.1 é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£… <code>Nginx</code></h4><p>â‘  åœ¨ Linux  ç¯å¢ƒä¸‹ï¼š</p>
<p>æ‰§è¡Œ <code>sudo apt update</code> æ›´æ–° <code>apt</code> åŒ…ï¼Œå¹¶æ‰§è¡Œ <code>sudo apt install nginx </code> å®‰è£… <code>Nginx</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ sudo apt update</span><br><span class="line">[sudo] password <span class="keyword">for</span> nilera: </span><br><span class="line">Get:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]                                                                                                                  </span><br><span class="line">Hit:3 https://packages.microsoft.com/repos/edge stable InRelease                                                                                        </span><br><span class="line">Hit:1 https://packages.microsoft.com/repos/code stable InRelease                                                                                        </span><br><span class="line">Hit:4 https://ppa.launchpadcontent.net/christian-boxdoerfer/fsearch-stable/ubuntu jammy InRelease</span><br><span class="line">Hit:5 https://ppa.launchpadcontent.net/git-core/ppa/ubuntu jammy InRelease                     </span><br><span class="line">Hit:6 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy InRelease                               </span><br><span class="line">Hit:7 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates InRelease</span><br><span class="line">Hit:8 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-backports InRelease</span><br><span class="line">Fetched 129 kB <span class="keyword">in</span> 4s (29.4 kB/s)</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">271 packages can be upgraded. Run <span class="string">&#x27;apt list --upgradable&#x27;</span> to see them.</span><br><span class="line"></span><br><span class="line">nilera@nilera-virtual-machine:~$ sudo apt install nginx </span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">The following additional packages will be installed:</span><br><span class="line">  libnginx-mod-http-geoip2 libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 nginx-common nginx-core</span><br><span class="line">Suggested packages:</span><br><span class="line">  fcgiwrap nginx-doc</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  libnginx-mod-http-geoip2 libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 nginx nginx-common nginx-core</span><br><span class="line">0 upgraded, 9 newly installed, 0 to remove and 271 not upgraded.</span><br><span class="line">Need to get 697 kB of archives.</span><br><span class="line">After this operation, 2,395 kB of additional disk space will be used.</span><br><span class="line">Do you want to <span class="built_in">continue</span>? [Y/n] Y</span><br><span class="line">Get:1 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.4 [40.0 kB]</span><br><span class="line">Get:2 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.4 [11.9 kB]</span><br><span class="line">Get:3 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.4 [15.4 kB]</span><br><span class="line">Get:4 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.4 [13.7 kB]</span><br><span class="line">Get:5 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.4 [45.7 kB]</span><br><span class="line">Get:6 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.4 [72.9 kB]</span><br><span class="line">Get:7 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.4 [10.1 kB]</span><br><span class="line">Get:8 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.4 [484 kB]</span><br><span class="line">Get:9 http://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.4 [3,872 B]</span><br><span class="line">Fetched 697 kB <span class="keyword">in</span> 5s (128 kB/s)  </span><br><span class="line"></span><br><span class="line">debconf: unable to initialize frontend: Dialog</span><br><span class="line">debconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)</span><br><span class="line">debconf: falling back to frontend: Readline</span><br><span class="line">Preconfiguring packages ...</span><br><span class="line">Selecting previously unselected package nginx-common.</span><br><span class="line">(Reading database ... 229379 files and directories currently installed.)</span><br><span class="line">Preparing to unpack .../0-nginx-common_1.18.0-6ubuntu14.4_all.deb ...</span><br><span class="line">Unpacking nginx-common (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-http-geoip2.</span><br><span class="line">Preparing to unpack .../1-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-http-image-filter.</span><br><span class="line">Preparing to unpack .../2-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-http-xslt-filter.</span><br><span class="line">Preparing to unpack .../3-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-mail.</span><br><span class="line">Preparing to unpack .../4-libnginx-mod-mail_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-stream.</span><br><span class="line">Preparing to unpack .../5-libnginx-mod-stream_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package libnginx-mod-stream-geoip2.</span><br><span class="line">Preparing to unpack .../6-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package nginx-core.</span><br><span class="line">Preparing to unpack .../7-nginx-core_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking nginx-core (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Selecting previously unselected package nginx.</span><br><span class="line">Preparing to unpack .../8-nginx_1.18.0-6ubuntu14.4_amd64.deb ...</span><br><span class="line">Unpacking nginx (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up nginx-common (1.18.0-6ubuntu14.4) ...</span><br><span class="line">debconf: unable to initialize frontend: Dialog</span><br><span class="line">debconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)</span><br><span class="line">debconf: falling back to frontend: Readline</span><br><span class="line">Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service â†’ /lib/systemd/system/nginx.service.</span><br><span class="line">Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up libnginx-mod-mail (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up libnginx-mod-stream (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Setting up nginx-core (1.18.0-6ubuntu14.4) ...</span><br><span class="line"> * Upgrading binary nginx                                                                                                                                                            [ OK ] </span><br><span class="line">Setting up nginx (1.18.0-6ubuntu14.4) ...</span><br><span class="line">Processing triggers <span class="keyword">for</span> man-db (2.10.2-1) ...</span><br><span class="line">Processing triggers <span class="keyword">for</span> ufw (0.36.1-4ubuntu0.1) ...</span><br></pre></td></tr></table></figure>

<p>â‘¡ åœ¨ Mac OS ç¯å¢ƒä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nginx</span><br></pre></td></tr></table></figure>

<p>â‘¢ åœ¨ Windows ç¯å¢ƒä¸‹ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop install nginx</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½¿ç”¨ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco install nginx</span><br></pre></td></tr></table></figure>

<h4 id="2-2-é€šè¿‡æºç ç¼–è¯‘çš„æ–¹å¼å®‰è£…-Nginx"><a href="#2-2-é€šè¿‡æºç ç¼–è¯‘çš„æ–¹å¼å®‰è£…-Nginx" class="headerlink" title="2.2 é€šè¿‡æºç ç¼–è¯‘çš„æ–¹å¼å®‰è£… Nginx"></a>2.2 é€šè¿‡æºç ç¼–è¯‘çš„æ–¹å¼å®‰è£… <code>Nginx</code></h4><p><code>Nginx</code> æ˜¯ä½¿ç”¨ <code>C</code> è¯­è¨€å¼€å‘çš„ï¼Œå› æ­¤å¯ä»¥åƒå…¶ä»– C è¯­è¨€çš„é¡¹ç›®ä¸€æ ·ï¼Œä¸‹è½½ <code>Nginx</code> çš„æºç åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œç„¶åæ‰§è¡Œé¢„ç¼–è¯‘ã€ç¼–è¯‘å’Œå®‰è£…çš„è¿‡ç¨‹ã€‚</p>
<p>â‘  é¢„ç¼–è¯‘</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br><span class="line">--sbin-path=/usr/local/nginx/nginx \</span><br><span class="line">--conf-path=/usr/local/nginx/nginx.conf \</span><br><span class="line">--pid-path=/usr/local/nginx/nginx/pid \</span><br><span class="line">--with-http_ssl_module \</span><br><span class="line">--with-pcre=../pcre2-10.39 \</span><br><span class="line">--with-zlib=../zlib-1.2.11</span><br></pre></td></tr></table></figure>

<p>â‘¡ ç¼–è¯‘</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>

<p>â‘¢ å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure>

<h4 id="2-3-ä½¿ç”¨-Docker-æ¥å®‰è£…-Nginx"><a href="#2-3-ä½¿ç”¨-Docker-æ¥å®‰è£…-Nginx" class="headerlink" title="2.3 ä½¿ç”¨ Docker æ¥å®‰è£… Nginx"></a>2.3 ä½¿ç”¨ <code>Docker</code> æ¥å®‰è£… <code>Nginx</code></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure>

<h3 id="ğŸŒ-3-Nginx-å¸¸ç”¨å‘½ä»¤"><a href="#ğŸŒ-3-Nginx-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ğŸŒ 3. Nginx å¸¸ç”¨å‘½ä»¤"></a>ğŸŒ 3. <code>Nginx</code> å¸¸ç”¨å‘½ä»¤</h3><h4 id="3-1-æœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢"><a href="#3-1-æœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢" class="headerlink" title="3.1 æœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢"></a>3.1 æœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢</h4><h5 id="3-1-1-æœåŠ¡çš„å¯åŠ¨"><a href="#3-1-1-æœåŠ¡çš„å¯åŠ¨" class="headerlink" title="3.1.1 æœåŠ¡çš„å¯åŠ¨"></a>3.1.1 æœåŠ¡çš„å¯åŠ¨</h5><p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>nginx</code> å¯åŠ¨æœåŠ¡ï¼Œè‹¥æ˜¯æ²¡æœ‰å‡ºç°ä¿¡æ¯åˆ™è¯´æ˜å¯åŠ¨æˆåŠŸï¼›è‹¥æ˜¯å¯åŠ¨å¤±è´¥ï¼Œåˆ™ä¼šè¾“å‡ºå¯åŠ¨å¤±è´¥çš„åŸå› ï¼Œæ­¤æ—¶éœ€è¦æ ¹æ®é”™è¯¯åŸå› è¿›è¡Œæ’æŸ¥ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx</span><br></pre></td></tr></table></figure>

<p>å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼š</p>
<table>
<thead>
<tr>
<th>é—®é¢˜æè¿°</th>
<th>é—®é¢˜åŸå› </th>
<th>è§£å†³æ–¹æ¡ˆ</th>
</tr>
</thead>
<tbody><tr>
<td>è¿è¡Œ <code>nginx</code> å‘½ä»¤å‡ºç°é”™è¯¯ï¼š<br /><code>nginx: [alert] could not open error log file: open() &quot;/var/log/nginx/error.log&quot; failed (13: Permission denied)</code></td>
<td>æƒé™é—®é¢˜å¯¼è‡´æ— æ³•æ­£å¸¸å¯åŠ¨ <code>Nginx</code>ã€‚</td>
<td>ä½¿ç”¨ <code>sudo nginx</code> å‘½ä»¤æé«˜ç”¨æˆ·æ‰§è¡Œçš„æƒé™ã€‚</td>
</tr>
<tr>
<td>è¿è¡Œ <code>sudo nginx</code> å‘½ä»¤å‡ºç°é”™è¯¯ï¼š<br /><code>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Unknown error) ... nginx: [emerg] still could not bind()</code></td>
<td>å¤§æ¦‚ç‡æ˜¯ <code>80</code> ç«¯å£å·²ç»è¢«ç»‘å®šäº†ï¼Œæˆ–è€…æ˜¯ä¹‹å‰å·²ç»å¯åŠ¨äº† <code>Nginx</code> å¯¼è‡´ç«¯å£å†²çªã€‚å¯ä»¥æŸ¥çœ‹ <code>80</code> ç«¯å£çš„å ç”¨æƒ…å†µè¿›è¡Œè¿›ä¸€æ­¥æ“ä½œã€‚</td>
<td>ä½¿ç”¨ <code>kill</code> å‘½ä»¤æ€æ­»å ç”¨ç«¯å£çš„ç¨‹åºï¼Œç„¶åé‡æ–°è¿è¡Œ <code>sudo nginx</code> å‘½ä»¤ã€‚</td>
</tr>
</tbody></table>
<p>è®¿é—® <code>&lt;your ipaddr&gt;:8080</code> å‡ºç°ä»¥ä¸‹æ¬¢è¿ç•Œé¢åˆ™è¡¨ç¤º <code>Nginx</code> å¯åŠ¨æˆåŠŸã€‚</p>
<img src="./NginxQuickIN/Welcome2Nginx.png" style="zoom: 33%;" >

<h5 id="3-1-2-æŸ¥çœ‹-Nginx-çš„è¿›ç¨‹"><a href="#3-1-2-æŸ¥çœ‹-Nginx-çš„è¿›ç¨‹" class="headerlink" title="3.1.2 æŸ¥çœ‹ Nginx çš„è¿›ç¨‹"></a>3.1.2 æŸ¥çœ‹ <code>Nginx</code> çš„è¿›ç¨‹</h5><p>ä½¿ç”¨ <code>ps -ef|grep nginx</code> å¯ä»¥æŸ¥çœ‹ <code>Nginx</code> è¿›ç¨‹ã€‚è¿™ä¸ªå…¶å®å¹¶ä¸æ˜¯ <code>Nginx</code> çš„å‘½ä»¤ï¼Œè€Œæ˜¯ <code>Linux</code> è‡ªå¸¦çš„å‘½ä»¤ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ ps -ef|grep nginx</span><br><span class="line">root       14461       1  0 10:43 ?        00:00:00 nginx: master process nginx</span><br><span class="line">www-data   14462   14461  0 10:43 ?        00:00:00 nginx: worker process</span><br><span class="line">www-data   14463   14461  0 10:43 ?        00:00:00 nginx: worker process</span><br><span class="line">www-data   14464   14461  0 10:43 ?        00:00:00 nginx: worker process</span><br><span class="line">www-data   14465   14461  0 10:43 ?        00:00:00 nginx: worker process</span><br><span class="line">nilera     14542   11143  0 10:43 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¯ä»¥çœ‹åˆ° <code>Nginx</code> çš„è¿›ç¨‹åŒ…æ‹¬ <strong><code>Master</code> è¿›ç¨‹</strong> å’Œ <strong><code>Worker</code> è¿›ç¨‹</strong>ã€‚</p>
<ul>
<li><strong><code>Master</code> è¿›ç¨‹</strong>å°±æ˜¯<code>Nginx</code> çš„ä¸»è¿›ç¨‹ï¼Œä»–ä¸»è¦è´Ÿè´£è¯»å–å’ŒéªŒè¯é…ç½®æ–‡ä»¶ï¼Œå¹¶ç®¡ç† <strong><code>Worker</code>è¿›ç¨‹</strong>ï¼Œå°†å·¥ä½œåˆ†é…ç»™ <strong><code>Worker</code>è¿›ç¨‹</strong>ã€‚</li>
<li><strong><code>Worker</code> è¿›ç¨‹</strong>å°±æ˜¯<code>Nginx</code> çš„å·¥ä½œè¿›ç¨‹ï¼Œå…¶ä¸»è¦è´Ÿè´£å®é™…çš„è¯·æ±‚ï¼Œå®Œæˆå…·ä½“çš„å·¥ä½œã€‚</li>
<li><strong><code>Master</code>è¿›ç¨‹</strong>åªæœ‰ä¸€ä¸ªï¼Œè€Œ**<code>Worker</code>è¿›ç¨‹**å¯ä»¥æœ‰å¾ˆå¤šä¸ªï¼Œ<code>Worker</code> è¿›ç¨‹çš„æ•°é‡å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥è°ƒæ•´ã€‚</li>
</ul>
<p>æˆ–è€…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>lsof -i:80</code> æ¥æŸ¥çœ‹ <code>80</code> ç«¯å£çš„å ç”¨æƒ…å†µï¼Œéœ€è¦æ³¨æ„ï¼š<code>lsof</code> å‘½ä»¤å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰çš„ Linux å‘è¡Œç‰ˆï¼Œæœ‰äº›å‘è¡Œç‰ˆå¯èƒ½éœ€è¦å®‰è£…è¯¥å‘½ä»¤ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ sudo lsof -i:80</span><br><span class="line">[sudo] password <span class="keyword">for</span> nilera: </span><br><span class="line">COMMAND   PID     USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">nginx   14461     root    6u  IPv4 141914      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14461     root    7u  IPv6 141915      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14462 www-data    6u  IPv4 141914      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14462 www-data    7u  IPv6 141915      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14463 www-data    6u  IPv4 141914      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14463 www-data    7u  IPv6 141915      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14464 www-data    6u  IPv4 141914      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14464 www-data    7u  IPv6 141915      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14465 www-data    6u  IPv4 141914      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   14465 www-data    7u  IPv6 141915      0t0  TCP *:http (LISTEN)</span><br></pre></td></tr></table></figure>

<h5 id="3-1-3-æœåŠ¡çš„åœæ­¢"><a href="#3-1-3-æœåŠ¡çš„åœæ­¢" class="headerlink" title="3.1.3 æœåŠ¡çš„åœæ­¢"></a>3.1.3 æœåŠ¡çš„åœæ­¢</h5><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>nginx -s &lt;signal&gt;</code> æ¥æ§åˆ¶ <code>Nginx</code> çš„åœæ­¢æˆ–é‡å¯ã€‚<code>&lt;signal&gt;</code> å¯ä»¥æ˜¯ <strong><code>quit</code>ä¼˜é›…é€€å‡º</strong>ã€**<code>stop</code>ç«‹å³åœæ­¢<strong>ã€</strong><code>reload</code>é‡è½½é…ç½®æ–‡ä»¶<strong>ã€</strong><code>reopen</code>é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶**ä¸­çš„ä¸€ä¸ªã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ sudo nginx -s quit</span><br><span class="line">nilera@nilera-virtual-machine:~$ ps -ef|grep nginx</span><br><span class="line">nilera     15527   11143  0 11:16 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure>

<h4 id="3-2-æŸ¥çœ‹-Nginx-çš„ç‰ˆæœ¬ã€è·¯å¾„ç­‰ä¿¡æ¯"><a href="#3-2-æŸ¥çœ‹-Nginx-çš„ç‰ˆæœ¬ã€è·¯å¾„ç­‰ä¿¡æ¯" class="headerlink" title="3.2 æŸ¥çœ‹ Nginx çš„ç‰ˆæœ¬ã€è·¯å¾„ç­‰ä¿¡æ¯"></a>3.2 æŸ¥çœ‹ <code>Nginx</code> çš„ç‰ˆæœ¬ã€è·¯å¾„ç­‰ä¿¡æ¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ nginx -V</span><br><span class="line">nginx version: nginx/1.18.0 (Ubuntu)</span><br><span class="line">built with OpenSSL 3.0.2 15 Mar 2022</span><br><span class="line">TLS SNI support enabled</span><br><span class="line">configure arguments: --with-cc-opt=<span class="string">&#x27;-g -O2 -ffile-prefix-map=/build/nginx-zctdR4/nginx-1.18.0=. -flto=auto -ffat-lto-objects -flto=auto -ffat-lto-objects -fstack-protector-strong -Wformat -Werror=format-security -fPIC -Wdate-time -D_FORTIFY_SOURCE=2&#x27;</span> --with-ld-opt=<span class="string">&#x27;-Wl,-Bsymbolic-functions -flto=auto -ffat-lto-objects -flto=auto -Wl,-z,relro -Wl,-z,now -fPIC&#x27;</span> --prefix=/usr/share/nginx --conf-path=/etc/nginx/nginx.conf --http-log-path=/var/log/nginx/access.log --error-log-path=/var/log/nginx/error.log --lock-path=/var/lock/nginx.lock --pid-path=/run/nginx.pid --modules-path=/usr/lib/nginx/modules --http-client-body-temp-path=/var/lib/nginx/body --http-fastcgi-temp-path=/var/lib/nginx/fastcgi --http-proxy-temp-path=/var/lib/nginx/proxy --http-scgi-temp-path=/var/lib/nginx/scgi --http-uwsgi-temp-path=/var/lib/nginx/uwsgi --with-compat --with-debug --with-pcre-jit --with-http_ssl_module --with-http_stub_status_module --with-http_realip_module --with-http_auth_request_module --with-http_v2_module --with-http_dav_module --with-http_slice_module --with-threads --add-dynamic-module=/build/nginx-zctdR4/nginx-1.18.0/debian/modules/http-geoip2 --with-http_addition_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_sub_module</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ <code>--conf-path</code> åŒ…å«äº† <code>Nginx</code> çš„é…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è·¯å¾„ä¸ºï¼š<code>--conf-path=/etc/nginx/nginx.conf</code>ã€‚</p>
<p>æˆ–è€…å¯ä»¥ä½¿ç”¨ <code>nginx -t</code> æ¥å¿«é€Ÿå®šä½åˆ° é…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚<code>nginx -t</code> åŒæ—¶ä¹Ÿå¯ä»¥ç”¨äºæ£€æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨é—®é¢˜ï¼Œå¦‚æœé…ç½®æ–‡ä»¶å‡ºç°é”™è¯¯ï¼Œæ‰§è¡Œ <code>nginx -t</code> ä¼šæç¤ºé”™è¯¯ä½ç½®å’Œé”™è¯¯ä¿¡æ¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ sudo nginx -t</span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf <span class="built_in">test</span> is successful</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>Ubuntu 22.04</code> ä¸­ï¼Œå®‰è£…çš„ <code>Nginx</code> ç‰ˆæœ¬ä¸º <code>nginx/1.18.0(Ubuntu)</code>ã€‚åœ¨è¯¥ç‰ˆæœ¬ä¸­çš„é…ç½®æ–‡ä»¶å’Œä¸€äº›æœ€æ–°çš„ç‰ˆæœ¬æœ‰ä¸€äº›åŒºåˆ«ï¼Œä½“ç°åœ¨å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>ä¸»é…ç½®æ–‡ä»¶ï¼š<code>/etc/nginx/nginx.conf</code></li>
<li>ç«™ç‚¹é…ç½®æ–‡ä»¶ç›®å½•ï¼š<code>/etc/nginx/sites-available</code> å’Œ <code>/etc/nginx/sites-enabled</code></li>
</ul>
<p>åœ¨è¯¥ç‰ˆæœ¬é€šå¸¸å°†ç«™ç‚¹é…ç½®æ–‡ä»¶æ”¾åœ¨ <code>sites-available</code> ç›®å½•ä¸­ï¼Œå¹¶é€šè¿‡åˆ›å»ºç¬¦å·é“¾æ¥åˆ° <code>sites-enabled</code> ç›®å½•æ¥å¯ç”¨å®ƒä»¬ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªç®€å•çš„ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/nginx/sites-available/my_site</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>nginx/1.25.1</code> ç‰ˆæœ¬ä¸­ï¼Œç«™ç‚¹çš„é…ç½®æ–‡ä»¶å’Œä¸»é…ç½®æ–‡ä»¶æ˜¯åœ¨å†™åœ¨ä¸€èµ·çš„ã€‚</p>
<h4 id="3-3-Nginx-çš„é…ç½®æ–‡ä»¶"><a href="#3-3-Nginx-çš„é…ç½®æ–‡ä»¶" class="headerlink" title="3.3 Nginx çš„é…ç½®æ–‡ä»¶"></a>3.3 <code>Nginx</code> çš„é…ç½®æ–‡ä»¶</h4><p><code>Nginx</code> çš„é…ç½®æ–‡ä»¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œ <code>Nginx</code> çš„ä¸€äº›è®¾ç½®ï¼Œå¦‚ <code>worker</code> è¿›ç¨‹æ•°ç­‰ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ­¥éª¤ä¿®æ”¹ <code>Nginx</code> çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>â‘  ç¼–è¾‘ <code>Nginx</code> é…ç½®æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>

<p>â‘¡ ä¿®æ”¹ç›¸åº”çš„é…ç½®é¡¹</p>
<p><code>Nginx</code> çš„é…ç½®é¡¹åŒ…æ‹¬å…¨å±€å—ã€<code>events</code> å—ã€<code>http</code> å—ã€‚</p>
<ul>
<li><p>å…¨å±€å—</p>
<p>ä¸»è¦æ˜¯ä¸€äº›å…¨å±€é…ç½®ï¼Œæ¯”å¦‚ <code>Worker</code> è¿›ç¨‹æ•°ã€æŒ‡å®šè¿è¡ŒæœåŠ¡çš„ç”¨æˆ·ç­‰ã€‚</p>
</li>
<li><p><code>events</code> å—</p>
<p>ä¸»è¦æ˜¯æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´ç½‘ç»œè¿æ¥çš„ä¸€äº›é…ç½®ç­‰ï¼Œæ¯”å¦‚æŒ‡å®šæ¯ä¸ª <code>Worker</code> è¿›ç¨‹å¯ä»¥åŒæ—¶æ¥æ”¶å¤šå°‘ä¸ªç½‘ç»œè¿æ¥ã€ç½‘ç»œI&#x2F;Oæ¨¡å‹ç­‰ã€‚</p>
</li>
<li><p><code>http</code> å—</p>
<p><code>http</code> å—æ˜¯ <code>Nginx</code> ä¿®æ”¹æœ€é¢‘ç¹çš„éƒ¨åˆ†ï¼Œå¦‚è™šæ‹Ÿä¸»æœºã€åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ç­‰ï¼Œéƒ½æ˜¯åœ¨ <code>http</code> å—ä¸­è¿›è¡Œé…ç½®çš„ã€‚</p>
<ul>
<li><p><code>server</code> å—</p>
<p><code>http</code> å—ä¸‹å…·æœ‰å¤šä¸ª <code>server</code> å—ï¼Œä¹Ÿå«è™šæ‹Ÿä¸»æœºã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æ–‡ä»¶ä¸‹é¢ <code>include servers/*</code>ï¼Œè¿™æ ·å°±å¯ä»¥å°† <code>servers</code> ç›®å½•ä¸‹æ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½åŒ…å«è¿›æ¥ï¼Œè¿™æ ·å°±å¯ä»¥å°†æ¯ä¸ªè™šæ‹Ÿä¸»æœºéƒ½æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚ä»è€Œè®©ä¸»é…ç½®æ–‡ä»¶çœ‹èµ·æ¥æ›´åŠ çš„æ¸…æ™°ã€‚</p>
<p>åœ¨ <code>1.18.0(Ubuntu)</code> ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä¸»é…ç½®æ–‡ä»¶ä¸­åŒ…å« <code>include /etc/nginx/sites-enabled/*;</code>ï¼Œè€Œåœ¨ <code>/etc/nginx/site-enabled</code> ä¸­ï¼Œå¯ä»¥çœ‹åˆ° <code>default</code> è½¯è¿æ¥åˆ° <code>/etc/nginx/sites-available/default</code> ä¸­ã€‚</p>
<p><code>include</code> å‘½ä»¤è¿˜å¯ä»¥åŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ <code>mime.types</code>ã€‚</p>
</li>
</ul>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ <code>Ubuntu</code> ç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">user www-data;</span><br><span class="line">worker_processes auto;				-- è¿™é‡Œå¯ä»¥ç”¨äºä¿®æ”¹ Work è¿›ç¨‹çš„è¿›ç¨‹æ•°</span><br><span class="line">pid /run/nginx.pid;</span><br><span class="line">include /etc/nginx/modules-enabled/*.conf;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">        worker_connections 768;</span><br><span class="line">        <span class="comment"># multi_accept on;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        <span class="comment"># Basic Settings</span></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">        sendfile on;</span><br><span class="line">        tcp_nopush on;</span><br><span class="line">        types_hash_max_size 2048;</span><br><span class="line">        <span class="comment"># server_tokens off;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># server_names_hash_bucket_size 64;</span></span><br><span class="line">        <span class="comment"># server_name_in_redirect off;</span></span><br><span class="line"></span><br><span class="line">        include /etc/nginx/mime.types;</span><br><span class="line">        default_type application/octet-stream;</span><br><span class="line"></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        <span class="comment"># SSL Settings</span></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">        ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; <span class="comment"># Dropping SSLv3, ref: POODLE</span></span><br><span class="line">        ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        <span class="comment"># Logging Settings</span></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">        access_log /var/log/nginx/access.log;</span><br><span class="line">        error_log /var/log/nginx/error.log;</span><br><span class="line"></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        <span class="comment"># Gzip Settings</span></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">        gzip on;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># gzip_vary on;</span></span><br><span class="line">        <span class="comment"># gzip_proxied any;</span></span><br><span class="line">        <span class="comment"># gzip_comp_level 6;</span></span><br><span class="line">        <span class="comment"># gzip_buffers 16 8k;</span></span><br><span class="line">        <span class="comment"># gzip_http_version 1.1;</span></span><br><span class="line">        <span class="comment"># gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        <span class="comment"># Virtual Host Configs</span></span><br><span class="line">        <span class="comment">##</span></span><br><span class="line"></span><br><span class="line">        include /etc/nginx/conf.d/*.conf;</span><br><span class="line">        include /etc/nginx/sites-enabled/*;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#mail &#123;</span></span><br><span class="line"><span class="comment">#       # See sample authentication script at:</span></span><br><span class="line"><span class="comment">#       # http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#       # auth_http localhost/auth.php;</span></span><br><span class="line"><span class="comment">#       # pop3_capabilities &quot;TOP&quot; &quot;USER&quot;;</span></span><br><span class="line"><span class="comment">#       # imap_capabilities &quot;IMAP4rev1&quot; &quot;UIDPLUS&quot;;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#       server &#123;</span></span><br><span class="line"><span class="comment">#               listen     localhost:110;</span></span><br><span class="line"><span class="comment">#               protocol   pop3;</span></span><br><span class="line"><span class="comment">#               proxy      on;</span></span><br><span class="line"><span class="comment">#       &#125;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#       server &#123;</span></span><br><span class="line"><span class="comment">#               listen     localhost:143;</span></span><br><span class="line"><span class="comment">#               protocol   imap;</span></span><br><span class="line"><span class="comment">#               proxy      on;</span></span><br><span class="line"><span class="comment">#       &#125;</span></span><br><span class="line"><span class="comment">#&#125;</span></span><br></pre></td></tr></table></figure>

<p>â‘¢ ä½¿ç”¨ <code>nginx -t</code> å‘½ä»¤æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨é—®é¢˜ã€‚</p>
<p>â‘£ ä½¿ç”¨ <code>nginx -s reload</code> ä¿®æ”¹é…ç½®æ–‡ä»¶åéœ€è¦é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ã€‚</p>
<h3 id="ğŸŒ-4-Nginx-å¸¸ç”¨æ“ä½œ"><a href="#ğŸŒ-4-Nginx-å¸¸ç”¨æ“ä½œ" class="headerlink" title="ğŸŒ 4. Nginx å¸¸ç”¨æ“ä½œ"></a>ğŸŒ 4. <code>Nginx</code> å¸¸ç”¨æ“ä½œ</h3><h4 id="4-1-é™æ€ç«™ç‚¹éƒ¨ç½²"><a href="#4-1-é™æ€ç«™ç‚¹éƒ¨ç½²" class="headerlink" title="4.1 é™æ€ç«™ç‚¹éƒ¨ç½²"></a>4.1 é™æ€ç«™ç‚¹éƒ¨ç½²</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Hexo</code> æ¥ç”Ÿæˆä¸€ä¸ªç®€å•çš„é™æ€åšå®¢ç½‘ç«™ï¼Œå¹¶å°†å…¶éƒ¨ç½²åˆ° <code>Nginx</code> ä¸­ã€‚</p>
<p><code>Hexo</code> æ˜¯ä¸€ä¸ªé™æ€åšå®¢ç«™ç‚¹ç”Ÿæˆå·¥å…·ï¼Œæ˜¯ä¸€ä¸ªåŸºäº <code>Node.js</code> çš„åšå®¢æ¡†æ¶ã€‚å®ƒå¯ä»¥å°† <code>Markdown</code> æ ¼å¼çš„æ–‡æ¡£è½¬åŒ–æˆé™æ€é¡µé¢ï¼Œéå¸¸é€‚åˆç”¨äºåšä¸ªäººæŠ€æœ¯åšå®¢ã€‚</p>
<p>ä¸‹é¢å…ˆäº†è§£ä»¥ä¸‹å¦‚ä½•å®‰è£…å’Œå¯åŠ¨ <code>Hexo</code>ã€‚</p>
<p>â‘  å‰ç½®è¦æ±‚ï¼šå®‰è£… <code>Node.js</code> å’Œ <code>Git</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ sudo apt update</span><br><span class="line">nilera@nilera-virtual-machine:~$ sudo apt install -y nodejs npm</span><br><span class="line"></span><br><span class="line">nilera@nilera-virtual-machine:~$ sudo apt install git</span><br></pre></td></tr></table></figure>

<p>â‘¡ æ£€æµ‹ <code>Node.js</code>ã€<code>npm</code> å’Œ <code>Git</code> çš„ç‰ˆæœ¬</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ nodejs -v</span><br><span class="line">v12.22.9</span><br><span class="line"></span><br><span class="line">nilera@nilera-virtual-machine:~$ npm -v</span><br><span class="line">8.5.1</span><br><span class="line"></span><br><span class="line">nilera@nilera-virtual-machine:~$ git -v</span><br><span class="line">git version 2.43.0</span><br></pre></td></tr></table></figure>

<p>â‘¢ å®‰è£… <code>Hexo</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<p>â‘£ å®‰è£… <code>Hexo</code> æœ‰å¯èƒ½ä¼šå‡ºç°å®‰è£…é€Ÿåº¦è¿‡æ…¢çš„æƒ…å†µï¼Œè¿™æ—¶æˆ‘ä»¬è¿›è¡Œ <code>npm</code> æ¢æºæ“ä½œã€‚</p>
<ul>
<li>æŸ¥çœ‹æº</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ npm config get registry</span><br><span class="line">https://registry.npmjs.org/</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ›´æ¢æ·˜å®æº</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œ<code>https://registry.npm.taobao.org/</code> å·²ç»äº <em>2022å¹´05æœˆ31æ—¥</em> åºŸå¼ƒï¼Œç°åœ¨éœ€è¦æ›´æ¢ä¸ºæ–°çš„æ·˜å®é•œåƒæº <code>https://registry.npmmirror.com/</code>ã€‚æ¢æºçš„é…ç½®ä¼šæŒä¹…åŒ–ä¿å­˜åˆ° <code>~/.npmrc</code> æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡æ‰‹åŠ¨ä¿®æ”¹è¯¥æ–‡ä»¶æ¥ä¿®æ”¹é…ç½®ã€‚</p>
<p>æ­¤å¤–æˆ‘ä»¬å¯ä»¥å®‰è£… <code>nrm</code> åŒ…æ¥ç®€åŒ–è¿™ä¸€æ“ä½œï¼Œ<code>nrm</code> å…¶å®å°±æ˜¯ <code>NPM Registry Manager</code>ï¼Œæ˜¯ä¸€ä¸ªç”¨äºç®¡ç† <code>NPM</code> æºçš„ç®€å•å‘½ä»¤è¡Œå·¥å…·ã€‚å…·ä½“æ“ä½œå¯ä»¥å‚è€ƒæ–‡ç« ï¼š<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/564574951"><code>NPM</code> å¦‚ä½•æ¢æº ?</a></p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org/</span><br><span class="line">nilera@nilera-virtual-machine:~$ npm config <span class="built_in">set</span> registry https://registry.npmmirror.com/</span><br></pre></td></tr></table></figure>

<ul>
<li>æ¢å¤å®˜æ–¹æº</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ npm config <span class="built_in">set</span> registry https://registry.npmjs.org</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ é™¤æ³¨å†Œè¡¨</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ npm config delete registry</span><br></pre></td></tr></table></figure>

<p>â‘¤ åˆå§‹åŒ–</p>
<p>æ‰§è¡Œå®Œ <code>hexo init blog-demo</code> åï¼Œä¼šåœ¨æ‰§è¡Œè¯¥ç›®å½•ä¸‹ç”Ÿæˆ <code>blog-demo</code> ç›®å½•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ hexo init blog-demo</span><br><span class="line">INFO  Cloning hexo-starter https://github.com/hexojs/hexo-starter.git</span><br><span class="line">INFO  Install dependencies</span><br><span class="line">INFO  Start blogging with Hexo!</span><br></pre></td></tr></table></figure>

<p>â‘¥ å®‰è£…ä¾èµ–</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~$ <span class="built_in">cd</span> blog-demo</span><br><span class="line">nilera@nilera-virtual-machine:~$ npm install</span><br></pre></td></tr></table></figure>

<p>â‘¦ ä½¿ç”¨ <code>hexo g</code> ç”Ÿæˆç½‘ç«™é™æ€é¡µé¢</p>
<p>è¯¥å‘½ä»¤çš„ä¸»è¦ä½œç”¨æ˜¯å°† <code>Markdown</code> æ ¼å¼çš„æ–‡ç« ï¼Œè½¬åŒ–æˆé™æ€é¡µé¢ï¼Œå¹¶æ”¾åˆ° <code>public</code> ç›®å½•ä¸­ã€‚ç¬¬ä¸€æ¬¡æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œä¼šç”Ÿæˆ <code>public</code> ç›®å½•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~/blog-demo$ hexo g</span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Files loaded <span class="keyword">in</span> 1.18 s</span><br><span class="line">INFO  Generated: archives/2024/index.html</span><br><span class="line">INFO  Generated: archives/index.html</span><br><span class="line">INFO  Generated: archives/2024/07/index.html</span><br><span class="line">INFO  Generated: index.html</span><br><span class="line">INFO  Generated: fancybox/jquery.fancybox.min.css</span><br><span class="line">INFO  Generated: js/script.js</span><br><span class="line">INFO  Generated: css/style.css</span><br><span class="line">INFO  Generated: css/images/banner.jpg</span><br><span class="line">INFO  Generated: 2024/07/28/hello-world/index.html</span><br><span class="line">INFO  Generated: fancybox/jquery.fancybox.min.js</span><br><span class="line">INFO  Generated: js/jquery-3.6.4.min.js</span><br><span class="line">INFO  11 files generated <span class="keyword">in</span> 7.46 s</span><br></pre></td></tr></table></figure>

<p>â‘¦ ä½¿ç”¨ <code>hexo s</code> æˆ– <code>hexo server</code> æœ¬åœ°è¿è¡Œï¼ˆå¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~/blog-demo$ hexo server</span><br><span class="line">nilera@nilera-virtual-machine:~/blog-demo$ hexo s</span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000/ . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>

<p>â‘§ å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ä¼šå°†é¡µé¢éƒ¨ç½²åˆ° <code>Nginx</code> ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦å°† <code>blog-demo</code> ä¸­çš„ <code>public</code> ç›®å½•å¤åˆ¶åˆ° <code>Nginx</code> ç”¨äºå­˜æ”¾é™æ€é¡µé¢çš„ç›®å½•ä¸‹å³å¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nilera@nilera-virtual-machine:~/blog-demo$ sudo <span class="built_in">cp</span> -rf public/* /var/www/html/</span><br></pre></td></tr></table></figure>

<p>â‘¨ è®¿é—® <code>Nginx</code> é¡µé¢ï¼Œå³å¯è¿›è¡Œåšå®¢ç½‘ç«™çš„è®¿é—®ã€‚</p>
<h4 id="4-2-åå‘ä»£ç†"><a href="#4-2-åå‘ä»£ç†" class="headerlink" title="4.2 åå‘ä»£ç†"></a>4.2 åå‘ä»£ç†</h4><p>åå‘ä»£ç†æ˜¯ç›¸å¯¹äºæ­£å‘ä»£ç†æ¥è¯´çš„ï¼Œç®€å•æ¥è¯´ï¼Œæ­£å‘ä»£ç†å°±æ˜¯ä»£ç†å®¢æˆ·ç«¯ï¼Œåå‘ä»£ç†å°±æ˜¯ä»£ç†æœåŠ¡ç«¯ã€‚</p>
<img src="./NginxQuickIN/Proxy.png" style="zoom: 33%;" >

<p>ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬æƒ³è¦è®¿é—®ä¸€ä¸ªå›½å¤–çš„ç½‘ç«™ï¼ˆå¦‚ï¼šGoogleï¼‰æ—¶ï¼Œå¯èƒ½ç”±äºç½‘ç»œçš„åŸå› æ— æ³•è®¿é—®åˆ°ç›¸å…³å†…å®¹ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>VPN</code> è¿™ç§ä»£ç†æœåŠ¡å™¨ï¼Œè®©ä»£ç†æœåŠ¡å™¨ä½œä¸ºå®¢æˆ·ç«¯ï¼Œä»£ç†æˆ‘ä»¬å»è®¿é—®è¿™äº›ç½‘ç«™ï¼Œå†å°†è®¿é—®çš„ç»“æœè¿”å›ç»™æˆ‘ä»¬ã€‚è¿™å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„<strong>æ­£å‘ä»£ç†</strong>çš„ä¾‹å­ï¼Œè¿™é‡Œçš„ä»£ç†æœåŠ¡å™¨ä»£ç†çš„æ˜¯å®¢æˆ·ç«¯ï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹å®¢æˆ·ç«¯æ˜¯çŸ¥é“çš„ï¼Œä½†æ˜¯å¯¹äºæœåŠ¡ç«¯æ¥è¯´æ˜¯é€æ˜çš„ã€‚</p>
<p>è€Œ<strong>åå‘ä»£ç†æ˜¯ä»£ç†æœåŠ¡ç«¯</strong>çš„ï¼Œæ¯”å¦‚å½“æˆ‘ä»¬å‡†å¤‡è®¿é—®ä¸€ä¸ªç½‘ç«™ï¼ˆå¦‚ï¼šGoogleï¼‰çš„æ—¶å€™ï¼Œä»–åé¢å¯èƒ½æœ‰ç€æˆåƒä¸Šä¸‡å°æœåŠ¡å™¨ï¼Œä½†æ˜¯å¯¹å¤–æš´éœ²çš„åªæœ‰ä¸€ä¸ªåŸŸåï¼Œæˆ‘ä»¬ä¹Ÿåªèƒ½é€šè¿‡è¿™ä¸ªåŸŸåæ¥è¿›è¡Œè®¿é—®ï¼Œç„¶åæˆ‘ä»¬çš„è¯·æ±‚ä¼šè¢«è½¬å‘åˆ°åé¢çš„æœåŠ¡å™¨ä¸Šã€‚è¿™ç§æ–¹å¼éšè—äº†çœŸå®çš„æœåŠ¡å™¨<code>IP</code>åœ°å€ã€ç«¯å£ç­‰ä¿¡æ¯ã€‚è¿™å°±æ˜¯<strong>åå‘ä»£ç†</strong>çš„å…¸å‹ä¾‹å­ï¼Œè¿™é‡Œçš„ä»£ç†æœåŠ¡å™¨ä»£ç†çš„æ˜¯æœåŠ¡ç«¯ï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹æœåŠ¡ç«¯æ˜¯çŸ¥é“çš„ï¼Œä½†æ˜¯å¯¹äºå®¢æˆ·ç«¯æ¥è¯´æ˜¯é€æ˜çš„ã€‚</p>
<h4 id="4-3-è´Ÿè½½å‡è¡¡"><a href="#4-3-è´Ÿè½½å‡è¡¡" class="headerlink" title="4.3 è´Ÿè½½å‡è¡¡"></a>4.3 è´Ÿè½½å‡è¡¡</h4><h4 id="4-4-HTTPS-é…ç½®"><a href="#4-4-HTTPS-é…ç½®" class="headerlink" title="4.4 HTTPS é…ç½®"></a>4.4 <code>HTTPS</code> é…ç½®</h4><p><code>HTTPS</code> åè®®æ˜¯ <code>HTTP</code> åè®®çš„å®‰å…¨ç‰ˆæœ¬ï¼Œå®ƒé€šè¿‡å¯¹ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†æ¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ã€‚<code>HTTP</code> åè®®çš„é»˜è®¤ç«¯å£å·æ˜¯ <code>80</code> ï¼Œè€Œ <code>HTTPS</code> åè®®çš„é»˜è®¤ç«¯å£å·æ˜¯ <code>443</code>ã€‚</p>
<p><code>HTTPS</code> åè®®éœ€è¦ä½¿ç”¨åˆ° <code>SSL</code> è¯ä¹¦ï¼Œå†ä¸»æµçš„äº‘å¹³å°ä¸Šéƒ½å¯ä»¥å…è´¹ç”³è¯·åˆ° <code>SSL</code> è¯ä¹¦ã€‚è¯ä¹¦ç”³è¯·å®Œæˆä¹‹åï¼Œä¼šå¾—åˆ°å¯†é’¥æ–‡ä»¶å’Œè¯ä¹¦æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰äº‘å¹³å°ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>OpenSSL</code> å‘½ä»¤æ¥ç”Ÿæˆä¸€ä¸ªè‡ªç­¾åçš„ <code>SSL</code> è¯ä¹¦ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>â‘  ç”Ÿæˆç§é’¥æ–‡ä»¶ï¼ˆ<em>Private Key</em>ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -out private.key 2048</span><br></pre></td></tr></table></figure>

<p>â‘¡ æ ¹æ®ç§é’¥ç”Ÿæˆè¯ä¹¦ç­¾åè¯·æ±‚æ–‡ä»¶ï¼ˆ<em>Certificate Signing Request, CSR</em>ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -new -key private.key -out cert.csr</span><br></pre></td></tr></table></figure>

<p>â‘¢ ä½¿ç”¨ç§é’¥å¯¹è¯ä¹¦ç”³è¯·è¿›è¡Œç­¾åä»è€Œç”Ÿæˆè¯ä¹¦æ–‡ä»¶ï¼ˆ<em>pem</em>ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -req -<span class="keyword">in</span> cert.csr -out cacert.pem -signkey private.key</span><br></pre></td></tr></table></figure>

<h4 id="4-5-è™šæ‹Ÿä¸»æœº"><a href="#4-5-è™šæ‹Ÿä¸»æœº" class="headerlink" title="4.5 è™šæ‹Ÿä¸»æœº"></a>4.5 è™šæ‹Ÿä¸»æœº</h4></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-07-22T08:18:39.000Z" title="2024/7/22 16:18:39">2024-07-22</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-09-09T03:42:39.797Z" title="2024/9/9 11:42:39">2024-09-09</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">å¼€å‘å·¥å…·</a><span>Â /Â </span><a class="link-muted" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Docker/">Docker</a></span><span class="level-item">39 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦5815ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/07/22/DockerQuickIN/">DockerQuickIN</a></p><div class="content"><h2 id="Docker-å¿«é€Ÿå…¥é—¨"><a href="#Docker-å¿«é€Ÿå…¥é—¨" class="headerlink" title="Docker å¿«é€Ÿå…¥é—¨"></a>Docker å¿«é€Ÿå…¥é—¨</h2><p>[TOC]</p>
<p><strong>å®è—è§†é¢‘ï¼š</strong><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV14s4y1i7Vf">https://www.bilibili.com/video/BV14s4y1i7Vf</a></p>
<p>å¦‚æœä½ é‡åˆ°è¿‡ï¼š</p>
<ul>
<li>åº”ç”¨ç¨‹åºçš„éƒ¨ç½²å’Œç¯å¢ƒé…ç½®è¿‡äºå¤æ‚</li>
<li>åœ¨å¼€å‘ç¯å¢ƒå¥½ç”¨ï¼Œä½†æ˜¯åˆ°äº†æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒéƒ½ä¸å¥½ç”¨çš„æƒ…å†µ</li>
<li>ä½œä¸ºæ–°äººåŠ å…¥é¡¹ç›®ç»„ï¼Œéœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´æ¥é…ç½®å¼€å‘ç¯å¢ƒ</li>
<li>èŠ±è´¹ä¸€æ•´å¤©ç”šè‡³æ›´é•¿æ—¶é—´ï¼Œä¸€æ­¥ä¸€æ­¥æŒ‰ç…§é…ç½®éƒ¨ç½²æ–‡æ¡£æ¥é…ç½®ç¯å¢ƒï¼Œä½†æ˜¯æœ€ç»ˆå´å¡åœ¨ä¸­é—´æŸä¸ªæ­¥éª¤ä¸Šï¼Œå†ä¹Ÿæ— æ³•å‰è¿›</li>
</ul>
<p>é‚£ä¹ˆï¼Œ<code>Docker</code> å¯ä»¥å¸®æˆ‘ä»¬å®Œç¾è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜ã€‚</p>
<h3 id="ğŸ³-1-Docker-çš„åŸºæœ¬æ¦‚å¿µ"><a href="#ğŸ³-1-Docker-çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ğŸ³ 1. Docker çš„åŸºæœ¬æ¦‚å¿µ"></a>ğŸ³ 1. <code>Docker</code> çš„åŸºæœ¬æ¦‚å¿µ</h3><h4 id="1-1-Docker-çš„ç®€ä»‹"><a href="#1-1-Docker-çš„ç®€ä»‹" class="headerlink" title="1.1 Docker çš„ç®€ä»‹"></a>1.1 <code>Docker</code> çš„ç®€ä»‹</h4><p><code>Docker</code> æ˜¯ä¸€ä¸ªç”¨äº<strong>æ„å»ºï¼ˆBuildï¼‰</strong>ã€<strong>è¿è¡Œï¼ˆRunï¼‰</strong>ã€<strong>ä¼ é€ï¼ˆShareï¼‰</strong>åº”ç”¨ç¨‹åºçš„å¹³å°ã€‚</p>
<img src="./DockerQuickIN/Docker.png" style="zoom:50%;" >

<p>æœ‰äº† <code>Docker</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†åº”ç”¨ç¨‹åºå’Œè¿è¡Œä»–æ‰€éœ€è¦çš„å„ç§ä¾èµ–åŒ…ã€ç¬¬ä¸‰æ–¹è½¯ä»¶åº“ã€é…ç½®æ–‡ä»¶ç­‰æ‰“åŒ…åœ¨ä¸€èµ·ã€‚ä»¥ä¾¿åœ¨ä»»ä½•ç¯å¢ƒä¸­éƒ½èƒ½æ­£ç¡®çš„è¿è¡Œã€‚<code>Docker</code> å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼Œæ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½å¼€é”€æä½ã€‚</p>
<p><code>Docker</code> ä» <code>17.03</code> ç‰ˆæœ¬ä¹‹ååˆ†ä¸º ç¤¾åŒºç‰ˆ <code>CE(Community Edition)</code> å’Œ ä¼ä¸šç‰ˆ <code>EE(Enterprise Edition)</code>ã€‚</p>
<h4 id="1-2-ä¸ºä»€ä¹ˆ-è¦ä½¿ç”¨-Docker"><a href="#1-2-ä¸ºä»€ä¹ˆ-è¦ä½¿ç”¨-Docker" class="headerlink" title="1.2 ä¸ºä»€ä¹ˆ è¦ä½¿ç”¨ Docker"></a>1.2 ä¸ºä»€ä¹ˆ è¦ä½¿ç”¨ <code>Docker</code></h4><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ <code>Docker</code> å‘¢ï¼Ÿ</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šæˆ‘ä»¬å†™äº†ä¸€ä¸ªç½‘ç«™ï¼Œç”¨åˆ°äº†ç°åœ¨ä¸å«æµè¡Œçš„å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå‰ç«¯ä½¿ç”¨ <code>Vue</code> æ¡†æ¶æ¥æ„å»ºç½‘ç«™çš„ç•Œé¢ï¼Œåç«¯ä½¿ç”¨ <code>Java</code> çš„ <code>SpringBoot</code> æ¡†æ¶æ¥æä¾›å„ç§æœåŠ¡å’Œæ¥å£ï¼Œå¹¶ä¸”ä½¿ç”¨ <code>MySQL</code> æ•°æ®åº“æ¥å­˜å‚¨æ•°æ®ã€‚</p>
<img src="./DockerQuickIN/WebWithoutDocker.png" style="zoom:50%;" >

<p>å¦‚æœæ²¡æœ‰ <code>Docker</code>ï¼Œæˆ‘ä»¬çš„æ­¥éª¤å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>Step-01ï¼šå®‰è£… <code>NodeJS</code> ç¯å¢ƒã€‚</li>
<li>Step-02ï¼šå®‰è£…å„ç§ <code>npm</code> ä¾èµ–ã€‚</li>
<li>Step-03ï¼šå®‰è£… <code>Java</code> è¿è¡Œæ—¶ç¯å¢ƒã€‚</li>
<li>Step-04ï¼šå®‰è£…å„ç§ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ã€‚</li>
<li>Step-05ï¼šå®‰è£… <code>MySQL</code> æ•°æ®åº“ã€‚</li>
<li>Step-06ï¼šé…ç½®å„ç§ç¯å¢ƒå˜é‡ã€å¯åŠ¨è„šæœ¬ã€‚</li>
<li>Step-07ï¼šé…ç½® <code>Redis</code>ã€‚</li>
<li>Step-08ï¼šé…ç½® <code>Nginx</code> è´Ÿè½½å‡è¡¡ã€‚ </li>
<li>Step-09ï¼šå…¶ä»–é…ç½®é¡¹â€¦</li>
</ul>
<p>è¿™ä»…ä»…æ˜¯å¼€å‘ç¯å¢ƒæ‰€éœ€è¦è¿›è¡Œçš„æ“ä½œï¼Œå½“æˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„ç½‘ç«™éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒæˆ–ç”Ÿäº§ç¯å¢ƒä¸Šï¼Œé‚£ä¹ˆè¿™äº›æ‰€æœ‰çš„æ­¥éª¤éƒ½éœ€è¦é‡æ–°å†æ¥ä¸€éã€‚</p>
<p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰äº† <code>Docker</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä»–ä»¬æ‰“åŒ…æˆä¸€ä¸ªä¸ªé›†è£…ç®±ï¼Œåªè¦æˆ‘ä»¬åœ¨å¼€å‘ç¯å¢ƒä¸­è¿è¡ŒæˆåŠŸäº†ï¼Œé‚£ä¹ˆåœ¨æµ‹è¯•ç¯å¢ƒä¸­ä¸€å®šä¹Ÿæ˜¯å¯ä»¥è¿è¡ŒæˆåŠŸçš„ã€‚</p>
<img src="./DockerQuickIN/WebWithDocker.png">

<h4 id="1-3-Docker-å’Œ-è™šæ‹Ÿæœºçš„åŒºåˆ«"><a href="#1-3-Docker-å’Œ-è™šæ‹Ÿæœºçš„åŒºåˆ«" class="headerlink" title="1.3 Docker å’Œ è™šæ‹Ÿæœºçš„åŒºåˆ«"></a>1.3 <code>Docker</code> å’Œ è™šæ‹Ÿæœºçš„åŒºåˆ«</h4><p>æˆ‘ä»¬å¯èƒ½äº†è§£æˆ–ä½¿ç”¨è¿‡ä¸€äº›è™šæ‹Ÿæœºè½¯ä»¶ï¼Œå¦‚ï¼š<code>VMware</code>ã€<code>Virtalbox</code>ã€<code>Parallels Desktop</code>ï¼Œæˆ–è€… <code>Window</code> çš„ <code>WSL</code>ã€<code>Microsoft Hyper-V</code> ç­‰åŠŸèƒ½ã€‚</p>
<p>ä»–ä»¬éƒ½æ˜¯å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œå’Œå®é™…ä¸Šä½¿ç”¨æ“ä½œç³»ç»Ÿä¸€æ ·ï¼Œå¯ä»¥åœ¨å®é™…çš„æ“ä½œç³»ç»Ÿä¸­è¿è¡Œåº”ç”¨ç¨‹åºï¼Œè¿™æ˜¯é€šè¿‡ä¸€ç§å«åš<strong>è™šæ‹ŸåŒ–ï¼ˆHypervisorï¼‰</strong>çš„æŠ€æœ¯å®ç°çš„ã€‚è™šæ‹ŸåŒ–æŠ€æœ¯æ˜¯ä¸€ç§å°†ç‰©ç†èµ„æºè™šæ‹Ÿä¸ºå¤šä¸ªé€»è¾‘èµ„æºçš„æŠ€æœ¯ï¼Œä»–å¯ä»¥å°†ä¸€å°ç‰©ç†æœåŠ¡å™¨è™šæ‹Ÿæˆå¤šä¸ªé€»è¾‘æœåŠ¡å™¨ï¼Œæ¯ä¸ªé€»è¾‘æœåŠ¡å™¨éƒ½æœ‰è‡ªå·±çš„æ“ä½œç³»ç»Ÿã€CPUã€å†…å­˜ã€ç¡¬ç›˜å’Œç½‘ç»œæ¥å£ç­‰ã€‚ä¸åŒçš„é€»è¾‘æœåŠ¡å™¨ä¹‹é—´æ˜¯å®Œå…¨éš”ç¦»çš„ï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œã€‚</p>
<p>è™šæ‹Ÿæœºåœ¨ä¸€å®šç¨‹åº¦ä¸Šå®ç°äº†èµ„æºçš„æ•´åˆï¼Œå¯ä»¥å°†è¦ä¸€å°æœåŠ¡å™¨çš„è®¡ç®—èƒ½åŠ›ã€å­˜å‚¨èƒ½åŠ›ã€ç½‘ç»œèµ„æºåˆ†é…ç»™å¤šä¸ªé€»è¾‘æœåŠ¡å™¨ã€‚å®ç°å¤šå°æœåŠ¡å™¨çš„åŠŸèƒ½ã€‚ä½†æ˜¯å…¶ç¼ºç‚¹ä¹ŸåŒæ ·æ˜æ˜¾ï¼Œæ¯å°è™šæ‹Ÿæœºéœ€è¦å ç”¨å¤§é‡çš„èµ„æºï¼Œæ¯”å¦‚CPUã€å†…å­˜ã€ç¡¬ç›˜ã€ç½‘ç»œç­‰ï¼Œè€Œä¸”å¯åŠ¨é€Ÿåº¦éå¸¸æ…¢ã€‚ä½†æ˜¯å…¶å®æˆ‘ä»¬çš„æ¯å°æœåŠ¡å™¨ä¸Šåªéœ€è¦è¿è¡Œä¸€ä¸ªä¸»è¦å¯¹å¤–æä¾›æœåŠ¡çš„åº”ç”¨ç¨‹åºå°±å¯ä»¥äº†ã€‚å¹¶ä¸éœ€è¦ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿæ‰€æä¾›çš„æ‰€æœ‰åŠŸèƒ½ã€‚</p>
<img src="./DockerQuickIN/Hypervisor.png" style="zoom:67%;" >

<p>ä¹Ÿè®¸æˆ‘ä»¬éœ€è¦çš„åªæ˜¯ä¸€ä¸ªWebæœåŠ¡å™¨ï¼Œä½†æ˜¯ä½¿ç”¨è™šæ‹Ÿæœºå´éœ€è¦å¯åŠ¨ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿçš„å†…æ ¸ã€å„ç§ç³»ç»ŸæœåŠ¡ã€å„ç§å·¥å…·ç”šè‡³å›¾å½¢ç•Œé¢ç­‰ï¼Œè¿™äº›æˆ‘ä»¬å¹¶ä¸éœ€è¦çš„æœåŠ¡å ç”¨äº†å¤§é‡çš„èµ„æºï¼Œå¯¼è‡´äº†èµ„æºçš„æµªè´¹å’Œå¯åŠ¨é€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚</p>
<img src="./DockerQuickIN/VM.png" style="zoom:50%;" >

<p>äº†è§£äº†è™šæ‹Ÿæœºåï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ <code>Docker</code> æ˜¯å¦‚ä½•è§£å†³çš„ã€‚éœ€è¦æ³¨æ„ï¼Œ<code>Docker</code> ä¸­***å®¹å™¨(Container)<em><strong>çš„æ¦‚å¿µã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>Docker</code> å’Œ <strong>å®¹å™¨</strong>æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼Œä½†æ˜¯å› ä¸º <code>Docker</code> çš„æµè¡Œæ€§ï¼Œä»¥è‡³äºå¾ˆå¤šäººå°† <code>Docker</code> å’Œ <strong>å®¹å™¨</strong> æ··ä¸ºä¸€è°ˆï¼Œå®é™…ä¸Š <code>Docker</code>åªæ˜¯å®¹å™¨çš„ä¸€ç§å®ç°ï¼Œæ˜¯ä¸€ä¸ªå®¹å™¨åŒ–çš„è§£å†³æ–¹æ¡ˆå’Œå¹³å°ã€‚è€Œ</strong>å®¹å™¨æ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå’Œè™šæ‹Ÿæœºç±»ä¼¼</em>*ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒï¼Œå¯ä»¥åœ¨è¿™ä¸ªç¯å¢ƒä¸­è¿è¡Œåº”ç”¨ç¨‹åºã€‚å’Œè™šæ‹Ÿæœºä¸åŒçš„æ˜¯ï¼Œä»–å¹¶ä¸éœ€è¦åœ¨å®¹å™¨ä¸­è¿è¡Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯ä½¿ç”¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥å¯åŠ¨é€Ÿåº¦éå¸¸å¿«ï¼Œé€šå¸¸åªéœ€è¦å‡ ç§’é’Ÿã€‚åŒæ—¶ï¼Œå› ä¸ºéœ€è¦çš„èµ„æºæ›´å°‘ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ä¸€å°ç‰©ç†æœåŠ¡å™¨ä¸Šè¿è¡Œæ›´å¤šçš„å®¹å™¨ï¼Œä»¥ä¾¿äºæ›´åŠ å……åˆ†çš„åˆ©ç”¨æœåŠ¡å™¨çš„èµ„æºï¼Œå‡å°‘èµ„æºçš„é—²ç½®å’Œæµªè´¹ã€‚</p>
<img src="./DockerQuickIN/DockerContainer.png" style="zoom:50%;" >

<p>æ­£å› å¦‚æ­¤ï¼Œä¸€å°ç‰©ç†æœåŠ¡å™¨ä¸Šä¹Ÿè®¸å¯ä»¥è¿è¡Œå‡ ä¸ªè™šæ‹Ÿæœºï¼Œä½†æ˜¯å´å¯ä»¥è¿è¡Œä¸Šç™¾ä¸ªå®¹å™¨ã€‚</p>
<h4 id="1-4-Docker-çš„åŸºæœ¬åŸç†å’Œä¸»è¦æ¦‚å¿µ"><a href="#1-4-Docker-çš„åŸºæœ¬åŸç†å’Œä¸»è¦æ¦‚å¿µ" class="headerlink" title="1.4 Docker çš„åŸºæœ¬åŸç†å’Œä¸»è¦æ¦‚å¿µ"></a>1.4 <code>Docker</code> çš„åŸºæœ¬åŸç†å’Œä¸»è¦æ¦‚å¿µ</h4><img src="./DockerQuickIN/DockerConcept.png">

<p><strong>é•œåƒ Image</strong>ï¼šé•œåƒæ˜¯ä¸€ä¸ª<strong>åªè¯»</strong>çš„æ¨¡æ¿ï¼Œå®ƒå¯ä»¥ç”¨æ¥åˆ›å»ºå®¹å™¨ã€‚</p>
<p><strong>å®¹å™¨ Container</strong>ï¼šå®¹å™¨æ˜¯ <code>Docker</code> çš„<strong>è¿è¡Œå®ä¾‹</strong>ï¼Œä»–æä¾›äº†ä¸€ä¸ªç‹¬ç«‹çš„ã€å¯ç§»æ¤çš„ç¯å¢ƒï¼Œå¯ä»¥åœ¨è¿™ä¸ªç¯å¢ƒä¸­è¿è¡Œåº”ç”¨ç¨‹åºã€‚</p>
<p><strong>ä»“åº“ Registry</strong>ï¼š<code>Docker</code> çš„ä»“åº“æ˜¯ä¸€ä¸ªç”¨äºå­˜å‚¨ <code>Docker</code>é•œåƒçš„åœ°æ–¹ã€‚æœ€æµè¡Œã€æœ€å¸¸ç”¨çš„ä»“åº“å°±æ˜¯ <code>Docker Hub</code>ã€‚</p>
<p>ç±»ä¼¼äº <code>Java</code> å’Œ <code>C++</code>ï¼Œ<em><strong>é•œåƒ</strong></em>ç±»ä¼¼äº<em><strong>ç±»</strong></em>ï¼Œè€Œ<em><strong>å®¹å™¨</strong></em>åˆ™å°±æ˜¯<em><strong>ç±»çš„å®ä¾‹</strong></em>ï¼Œå¯ä»¥æœ‰ä¸€åˆ°å¤šä¸ªå®¹å™¨ã€‚</p>
<p><code>Docker</code> ä½¿ç”¨çš„æ˜¯ <code>Client-Server</code> æ¶æ„æ¨¡å¼ï¼Œ<code>Docker Client</code> å’Œ <code>Docker Daemon</code> ä¹‹é—´é€šè¿‡ <code>socket</code> æˆ– <code>RESTful API</code> è¿›è¡Œé€šä¿¡ã€‚<code>Docker Daemon</code> å°±æ˜¯ <code>Docker</code> æœåŠ¡ç«¯çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œä»–è´Ÿè´£ç®¡ç† <code>Docker</code> çš„å„ç§èµ„æºã€‚<code>Docker Client</code> è´Ÿè´£å‘ <code>Docker Daemon</code> å‘é€è¯·æ±‚ï¼Œ<code>Docker Daemon</code> æ¥æ”¶åˆ°è¯·æ±‚åè¿›è¡Œå¤„ç†ï¼Œç„¶åå°†è¦ç»“æœè¿”å›ç»™ <code>Docker Client</code>ã€‚<code>Docker Daemon</code> æ˜¯ä¸€ä¸ªåå°è¿›ç¨‹ï¼Œç”¨äºæ¥æ”¶å¹¶å¤„ç†æ¥è‡ª <code>Docker</code> å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç„¶åå°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å› æ­¤æˆ‘ä»¬åœ¨ç»ˆç«¯ä¸­è¾“å…¥çš„å„ç§ <code>Docker</code> å‘½ä»¤ï¼Œå…¶å®éƒ½æ˜¯é€šè¿‡ <code>Docker Client</code> å‘é€ç»™ <code>Docker Daemon</code> çš„ï¼Œ<code>Docker Daemon</code> è¿›è¡Œå¤„ç†ï¼Œæœ€åå°†å¤„ç†ç»“æœè¿”å›ç»™ <code>Docker Client</code>ï¼Œç„¶åå°±å¯ä»¥å†ç»ˆç«¯ä¸­çœ‹åˆ°æ‰§è¡Œç»“æœã€‚</p>
<h3 id="ğŸ³-2-Docker-çš„å®‰è£…é…ç½®"><a href="#ğŸ³-2-Docker-çš„å®‰è£…é…ç½®" class="headerlink" title="ğŸ³ 2. Docker çš„å®‰è£…é…ç½®"></a>ğŸ³ 2. <code>Docker</code> çš„å®‰è£…é…ç½®</h3><h4 id="2-1-Windows-ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£…-Docker"><a href="#2-1-Windows-ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£…-Docker" class="headerlink" title="2.1 Windows ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£… Docker"></a>2.1 <code>Windows</code> ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£… <code>Docker</code></h4><p><code>Docker</code> å®˜ç½‘ï¼ˆç›®å‰å›½å†…æ— æ³•æ­£å¸¸è®¿é—®ï¼‰ï¼š<a target="_blank" rel="noopener" href="https://www.docker.com/">https://www.docker.com/</a></p>
<p>å¯ä»¥æ‰¾ä¸€äº›é•œåƒç½‘ç«™æ¥è¿›è¡Œä¸‹è½½å®‰è£…ã€‚</p>
<p>ä¸‹è½½å®Œæˆåï¼Œéœ€è¦è¿è¡Œ <code>Docker</code>ï¼Œæ‰å¯ä»¥ä½¿ç”¨ <code>Docker</code> çš„ä¸€ç³»åˆ—å‘½ä»¤ã€‚</p>
<p><code>Windows</code> ç³»ç»Ÿä¸‹éœ€è¦å¼€å¯ <code>Hyper-V</code> åŠŸèƒ½ã€‚å¼€å¯æ–¹å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>åœ¨è®¾ç½®ä¸­æœç´¢ <strong>å¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½</strong>ã€‚</li>
<li>å‹¾é€‰ <code>Hyper-V</code> é€‰é¡¹ï¼ŒæŒ‰ç…§æç¤ºé‡å¯ç³»ç»Ÿå³å¯ã€‚</li>
</ul>
<h4 id="2-2-Linux-Ubuntu-ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£…-Docker"><a href="#2-2-Linux-Ubuntu-ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£…-Docker" class="headerlink" title="2.2 Linux(Ubuntu) ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£… Docker"></a>2.2 <code>Linux(Ubuntu)</code> ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£… <code>Docker</code></h4><h5 id="2-2-1-å®‰è£…"><a href="#2-2-1-å®‰è£…" class="headerlink" title="2.2.1 å®‰è£…"></a>2.2.1 å®‰è£…</h5><p>â‘  ä½¿ç”¨å®˜æ–¹å®‰è£…è„šæœ¬è‡ªåŠ¨å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun</span><br></pre></td></tr></table></figure>

<p>â‘¡ æˆ–è€…ä½¿ç”¨å›½å†…daocloudä¸€é”®å®‰è£…å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://get.daocloud.io/docker | sh</span><br></pre></td></tr></table></figure>

<p>â‘¢ æ‰‹åŠ¨å®‰è£…</p>
<ul>
<li><p>å¸è½½æ—§ç‰ˆæœ¬</p>
<p><code>Docker</code> çš„æ—§ç‰ˆæœ¬è¢«ç§°ä¸º <code>docker</code>ã€<code>docker.io</code> æˆ– <code>docker-engine</code>ã€‚å¦‚æœå·²å®‰è£…ï¼Œè¯·å¸è½½å®ƒä»¬ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove docker docker-engine docker.io containerd runc</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¾ç½®ä»“åº“</p>
<p>æ›´æ–° <code>apt</code> åŒ…ç´¢å¼•</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>

<p>å®‰è£… <code>apt</code> ä¾èµ–åŒ…ï¼Œç”¨äºé€šè¿‡HTTPSæ¥è·å–ä»“åº“ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install apt-transport-https \</span><br><span class="line">					 ca-certificates \</span><br><span class="line">					 curl \</span><br><span class="line">					 gnupg-agent \</span><br><span class="line">					 software-properties-common</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ  <code>Docker</code> çš„å®˜æ–¹ <code>GPG</code> å¯†é’¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®ç¨³å®šå­˜å‚¨åº“ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository <span class="string">&quot;deb [arch=amd64] \</span></span><br><span class="line"><span class="string">						 https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/ \</span></span><br><span class="line"><span class="string">						 <span class="subst">$(lsb_release -cs)</span> \</span></span><br><span class="line"><span class="string">						 stable&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£… <code>Docker Engine-Community</code></p>
<p>æ›´æ–° <code>apt</code> åŒ…ç´¢å¼•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ <code>Docker Engine-Community</code> å’Œ <code>containerd</code> ï¼Œæˆ–è€…è½¬åˆ°ä¸‹ä¸€æ­¥å®‰è£…ç‰¹å®šç‰ˆæœ¬ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<p>å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ <code>Docker Engine-Community</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">apt-cache madison docker-ce</span><br><span class="line"></span><br><span class="line">  docker-ce | 5:18.09.1~3-0~ubuntu-xenial | https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu  xenial/stable amd64 Packages</span><br><span class="line">  docker-ce | 5:18.09.0~3-0~ubuntu-xenial | https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu  xenial/stable amd64 Packages</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install docker-ce=&lt;VERSION_STRING&gt; docker-ce-cli=&lt;VERSION_STRING&gt; containerd.io</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•å®‰è£…æˆåŠŸ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker run hello-world</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="2-2-2-å¸è½½"><a href="#2-2-2-å¸è½½" class="headerlink" title="2.2.2 å¸è½½"></a>2.2.2 å¸è½½</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo yum remove docker \</span><br><span class="line">				docker-client \</span><br><span class="line">				docker-client-latest \</span><br><span class="line">				docker-common \</span><br><span class="line">				docker-latest \</span><br><span class="line">				docker-latest-logrotate \</span><br><span class="line">				docker-logrotate \</span><br><span class="line">				docker-engine</span><br></pre></td></tr></table></figure>

<h4 id="2-3-Linux-CentOS7-ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£…-Docker"><a href="#2-3-Linux-CentOS7-ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£…-Docker" class="headerlink" title="2.3 Linux(CentOS7) ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£… Docker"></a>2.3 <code>Linux(CentOS7)</code> ç¯å¢ƒä¸‹ä¸‹è½½å®‰è£… <code>Docker</code></h4><p>å®‰è£… <code>Docker</code> çš„å¿…è¦å‰ææ¡ä»¶ï¼šè¦å®‰è£… <code>Docker Engine</code> éœ€è¦ <code>CentOS 7</code> çš„ç»´æŠ¤ç‰ˆæœ¬ã€‚ä¸æ”¯æŒæˆ–æœªæµ‹è¯•å­˜æ¡£ç‰ˆæœ¬ã€‚<code>centos-extras</code> åº“å¿…é¡»å¯ç”¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤å­˜å‚¨åº“æ˜¯å¯ç”¨çš„ã€‚å»ºè®®ä½¿ç”¨ <code>overlay2</code> å­˜å‚¨é©±åŠ¨ç¨‹åºã€‚</p>
<p>å¯ä»¥é€šè¿‡ <code>uname â€“a</code> æˆ– <code>cat /etc/redhat-release</code> æŸ¥è¯¢å½“å‰OSç³»ç»Ÿï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[nilera@bigdata ~]$ <span class="built_in">uname</span> -a</span><br><span class="line">Linux bigdata 3.10.0-1160.el7.x86_64 <span class="comment">#1 SMP Mon Oct 19 16:18:59 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[nilera@bigdata ~]$ <span class="built_in">cat</span> /etc/redhat-release</span><br><span class="line">CentOS Linux release 7.9.2009 (Core)</span><br></pre></td></tr></table></figure>

<h5 id="2-3-1-å®‰è£…"><a href="#2-3-1-å®‰è£…" class="headerlink" title="2.3.1 å®‰è£…"></a>2.3.1 å®‰è£…</h5><p>å¯ä»¥æ ¹æ®éœ€è¦ä»¥ä¸åŒçš„æ–¹å¼å®‰è£… <code>Docker Engine</code>ï¼š</p>
<ol>
<li>å¤§å¤šæ•°ç”¨æˆ·ä¼šè®¾ç½® <code>Docker</code> çš„å­˜å‚¨åº“å¹¶ä»ä¸­è¿›è¡Œå®‰è£…ï¼Œä»¥ç®€åŒ–å®‰è£…å’Œå‡çº§ä»»åŠ¡ã€‚<strong>è¿™æ˜¯æ¨èçš„æ–¹æ³•</strong>ï¼Œè¿™ç§æ–¹å¼éœ€è¦è®¿é—®äº’è”ç½‘ã€‚</li>
<li>ä¸€äº›ç”¨æˆ·ä¸‹è½½å¹¶æ‰‹åŠ¨å®‰è£… <code>RPM</code> è½¯ä»¶åŒ…ï¼Œå¹¶å®Œå…¨æ‰‹åŠ¨ç®¡ç†å‡çº§ã€‚è¿™åœ¨æ— æ³•è®¿é—®äº’è”ç½‘çš„ç©ºç™½ç³»ç»Ÿä¸Šå®‰è£… <code>Docker</code> çš„æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ã€‚</li>
<li>åœ¨æµ‹è¯•å’Œå¼€å‘ç¯å¢ƒä¸­ï¼Œä¸€äº›ç”¨æˆ·é€‰æ‹©ä½¿ç”¨è‡ªåŠ¨ä¾¿æºå¼çš„è„šæœ¬æ¥å®‰è£… <code>Docker</code>ã€‚</li>
</ol>
<p><strong>â‘  å¸è½½æ—§ç‰ˆæœ¬</strong></p>
<p>è¾ƒæ—§çš„ <code>Docker</code> ç‰ˆæœ¬ç§°ä¸º <code>docker</code> æˆ– <code>docker-engine</code>ã€‚å¦‚æœå·²å®‰è£…è¿™äº›ç¨‹åºï¼Œè¯·å¸è½½å®ƒä»¬ä»¥åŠç›¸å…³çš„ä¾èµ–é¡¹ã€‚</p>
<p><strong>â‘¡ ä½¿ç”¨å­˜å‚¨åº“å®‰è£… <code>Docker</code></strong></p>
<ul>
<li><p>è®¾ç½®å­˜å‚¨åº“ï¼š</p>
<p>å®‰è£… <code>yum-utils</code> è½¯ä»¶åŒ…ï¼ˆæä¾› <code>yum-config-manager</code> å®ç”¨ç¨‹åºï¼‰å¹¶ä¸” <code>device mapper</code> å­˜å‚¨é©±åŠ¨ç¨‹åºéœ€è¦ <code>device-mapper-persistent-data</code> å’Œ <code>lvm2</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®Œæ•´å‘½ä»¤å¦‚ä¸‹</span></span><br><span class="line"><span class="comment"># å®‰è£… yum-utilsã€device-mapper-persistent-dataã€lvm2</span></span><br><span class="line">sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘½ä»¤è¡Œæ‰§è¡Œæ•ˆæœ</span></span><br><span class="line">[nilera@bigdata ~]$ sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®ç¨³å®šçš„å­˜å‚¨åº“ï¼ˆä½¿ç”¨å®˜æ–¹æºåœ°å€ï¼Œæ¯”è¾ƒæ…¢ï¼‰ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[nilera@bigdata ~]$ sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç°åœ¨å°† <code>Docker Engine</code> è½¯ä»¶åŒ…ç§°ä¸º <code>docker-ce</code>ã€‚åˆ†ä¸º2ç§æ–¹å¼ï¼š</p>
<ol>
<li><p>å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ <code>Docker Engine</code> å’Œå®¹å™¨ï¼Œæˆ–è½¬åˆ°ä¸‹ä¸€æ­¥ä»¥å®‰è£…ç‰¹å®šç‰ˆæœ¬ã€‚</p>
<p>å¦‚æœæç¤ºæ¥å— <code>GPG</code> å¯†é’¥ï¼Œè¯·éªŒè¯æŒ‡çº¹æ˜¯å¦åŒ¹é… <code>060A 61C5 1B55 8A7F 742B 77AA C52F EB6B 621E 9F35</code>ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ¥å—å®ƒã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[nilera@bigdata ~]$ sudo yum install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¦å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ <code>Docker Engine-Community</code>ï¼Œéœ€è¦åœ¨å­˜å‚¨åº“ä¸­åˆ—å‡ºå¯ç”¨ç‰ˆæœ¬ï¼Œç„¶åé€‰æ‹©å¹¶å®‰è£…ã€‚</p>
<p>åˆ—å‡ºå¹¶æ’åºå­˜å‚¨åº“ä¸­å¯ç”¨çš„ç‰ˆæœ¬ã€‚æœ¬ç¤ºä¾‹æŒ‰ç‰ˆæœ¬å·ï¼ˆä»é«˜åˆ°ä½ï¼‰å¯¹ç»“æœè¿›è¡Œæ’åºï¼Œå¹¶è¢«æˆªæ–­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[nilera@bigdata ~]$ sudo yum list docker-ce --showduplicates | <span class="built_in">sort</span> -r</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å…¶å®Œæ•´çš„è½¯ä»¶åŒ…åç§°å®‰è£…ç‰¹å®šç‰ˆæœ¬ï¼Œè¯¥è½¯ä»¶åŒ…åç§°æ˜¯è½¯ä»¶åŒ…åç§°<code>docker-ce</code>åŠ ä¸Šç‰ˆæœ¬å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼š<code>docker-ce-18.09.1</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[nilera@bigdata ~]$ sudo yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>ä½¿ç”¨å­˜å‚¨åº“å®‰è£… <code>Docker CE</code> å®Œæˆ</p>
<p><code>Docker</code> å·²å®‰è£…ä½†å°šæœªå¯åŠ¨ã€‚<code>docker</code>ç»„å·²è¢«åˆ›å»ºï¼Œä½†æ²¡æœ‰ç”¨æˆ·æ·»åŠ åˆ°è¯¥ç»„ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[nilera@bigdata ~]$ <span class="built_in">cat</span> /etc/group</span><br><span class="line">root:x:0:</span><br><span class="line">bin:x:1:</span><br><span class="line">...</span><br><span class="line">ntp:x:38:</span><br><span class="line">cgred:x:996:</span><br><span class="line">docker:x:995:</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨ <code>Docker</code> æœåŠ¡</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[nilera@bigdata ~]$ sudo systemctl start docker</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡è¿è¡Œ <code>hello-world</code> æ˜ åƒæ¥éªŒè¯æ˜¯å¦æ­£ç¡®å®‰è£…äº† <code>Docker Engine</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[nilera@bigdata ~]$ sudo docker version</span><br><span class="line">[nilera@bigdata ~]$ sudo docker run hello-world</span><br></pre></td></tr></table></figure></li>
</ul>
<p>â‘¢ ä½¿ç”¨ä¾¿æ·è„šæœ¬å®‰è£… <code>Docker CE</code></p>
<p><code>Docker</code> åœ¨ <code>get.docker.com</code> å’Œ <code>test.docker.com</code> ä¸Šæä¾›äº†ä¾¿æ·è„šæœ¬ï¼Œç”¨äºå°† <code>Docker Engine-Community</code> çš„è¾¹ç¼˜ç‰ˆæœ¬å’Œæµ‹è¯•ç‰ˆæœ¬å¿«é€Ÿä¸”éäº¤äº’åœ°å®‰è£…åˆ°å¼€å‘ç¯å¢ƒä¸­ã€‚è„šæœ¬çš„æºä»£ç åœ¨ <code>docker-install</code> å­˜å‚¨åº“ä¸­ã€‚</p>
<p>âš  <strong>ä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨è¿™äº›è„šæœ¬</strong> âš </p>
<p>å…·æœ‰ä¸€å®šé£é™©ï¼š</p>
<ol>
<li>è„šæœ¬éœ€è¦è¿è¡Œ <code>root</code> æˆ–å…·æœ‰ <code>sudo</code> ç‰¹æƒã€‚åœ¨è¿è¡Œè„šæœ¬ä¹‹å‰ï¼Œåº”ä»”ç»†æ£€æŸ¥å’Œå®¡æ ¸è„šæœ¬ã€‚</li>
<li>è¿™äº›è„šæœ¬å°è¯•æ£€æµ‹ Linux å‘è¡Œç‰ˆå’Œç‰ˆæœ¬ï¼Œå¹¶é…ç½®è½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿã€‚æ­¤å¤–ï¼Œè„šæœ¬ä¸å…è®¸è‡ªå®šä¹‰ä»»ä½•å®‰è£…å‚æ•°ã€‚ä»Dockerçš„è§’åº¦æˆ–è‡ªå·±ç»„ç»‡çš„å‡†åˆ™å’Œæ ‡å‡†è§’åº¦æ¥çœ‹ï¼Œè¿™å¯èƒ½å¯¼è‡´ä¸æ”¯æŒçš„é…ç½®ã€‚</li>
<li>è¿™äº›è„šæœ¬å°†å®‰è£…è½¯ä»¶åŒ…ç®¡ç†å™¨çš„æ‰€æœ‰ä¾èµ–é¡¹å’Œå»ºè®®ï¼Œè€Œæ— éœ€è¿›è¡Œç¡®è®¤ã€‚æ ¹æ®ä¸»æœºçš„å½“å‰é…ç½®ï¼Œå¯èƒ½ä¼šå®‰è£…å¤§é‡è½¯ä»¶åŒ…ã€‚</li>
<li>è¯¥è„šæœ¬æœªæä¾›ç”¨äºæŒ‡å®šè¦å®‰è£…å“ªä¸ªç‰ˆæœ¬çš„ Docker çš„é€‰é¡¹ï¼Œè€Œæ˜¯å®‰è£…äº†åœ¨â€edgeâ€é€šé“ä¸­å‘å¸ƒçš„æœ€æ–°ç‰ˆæœ¬ã€‚å¦‚æœå·²ä½¿ç”¨å…¶ä»–æœºåˆ¶å°†Dockerå®‰è£…åœ¨ä¸»æœºä¸Šï¼Œ<strong>è¯·ä¸è¦ä½¿ç”¨ä¾¿æ·è„šæœ¬</strong>ã€‚</li>
</ol>
<h5 id="2-3-2-å¸è½½"><a href="#2-3-2-å¸è½½" class="headerlink" title="2.3.2 å¸è½½"></a>2.3.2 å¸è½½</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure>



<h4 id="2-4-Docker-æµ‹è¯•"><a href="#2-4-Docker-æµ‹è¯•" class="headerlink" title="2.4 Docker æµ‹è¯•"></a>2.4 <code>Docker</code> æµ‹è¯•</h4><p>å¯åŠ¨ä¹‹åï¼Œå³å¯åœ¨ç»ˆç«¯ä½¿ç”¨ <code>Docker</code> çš„å„ç§å‘½ä»¤äº†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€æ¡ç®€å•çš„å‘½ä»¤æ¥è¿›è¡Œæµ‹è¯•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\NilEra&gt;docker version</span><br><span class="line">Client:</span><br><span class="line"> Cloud integration: v1.0.28</span><br><span class="line"> Version:           20.10.17</span><br><span class="line"> API version:       1.41</span><br><span class="line"> Go version:        go1.17.11</span><br><span class="line"> Git commit:        100c701</span><br><span class="line"> Built:             Mon Jun  6 23:09:02 2022</span><br><span class="line"> OS/Arch:           windows/amd64</span><br><span class="line"> Context:           default</span><br><span class="line"> Experimental:      <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">Server: Docker Desktop 4.11.1 (84025)</span><br><span class="line"> Engine:</span><br><span class="line">  Version:          20.10.17</span><br><span class="line">  API version:      1.41 (minimum version 1.12)</span><br><span class="line">  Go version:       go1.17.11</span><br><span class="line">  Git commit:       a89b842</span><br><span class="line">  Built:            Mon Jun  6 23:01:23 2022</span><br><span class="line">  OS/Arch:          linux/amd64</span><br><span class="line">  Experimental:     <span class="literal">false</span></span><br><span class="line"> containerd:</span><br><span class="line">  Version:          1.6.6</span><br><span class="line">  GitCommit:        10c12954828e7c7c9b6e0ea9b0c02b01407d3ae1</span><br><span class="line"> runc:</span><br><span class="line">  Version:          1.1.2</span><br><span class="line">  GitCommit:        v1.1.2-0-ga916309</span><br><span class="line"> docker-init:</span><br><span class="line">  Version:          0.19.0</span><br><span class="line">  GitCommit:        de40ad0</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>Client</code> å’Œ <code>Server</code> çš„ä¿¡æ¯ï¼Œå¦‚æœåªèƒ½çœ‹åˆ° <code>Client</code>ï¼Œåˆ™è¡¨ç¤º <code>Docker</code> æ²¡æœ‰å¯åŠ¨ï¼Œéœ€è¦å¯åŠ¨ <code>Docker</code> ä¹‹åæ‰å¯ä»¥çœ‹åˆ° <code>Server</code>ã€‚</p>
<h3 id="ğŸ³-3-Docker-çš„å¸¸ç”¨å‘½ä»¤"><a href="#ğŸ³-3-Docker-çš„å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ğŸ³ 3. Docker çš„å¸¸ç”¨å‘½ä»¤"></a>ğŸ³ 3. <code>Docker</code> çš„å¸¸ç”¨å‘½ä»¤</h3><h4 id="3-1-Docker-Desktop-çš„ä½¿ç”¨"><a href="#3-1-Docker-Desktop-çš„ä½¿ç”¨" class="headerlink" title="3.1 Docker Desktop çš„ä½¿ç”¨"></a>3.1 <code>Docker Desktop</code> çš„ä½¿ç”¨</h4><h5 id="3-1-1-Docker-Containers-Images-å®¹å™¨å’Œé•œåƒ"><a href="#3-1-1-Docker-Containers-Images-å®¹å™¨å’Œé•œåƒ" class="headerlink" title="3.1.1 Docker Containers &amp; Images å®¹å™¨å’Œé•œåƒ"></a>3.1.1 <code>Docker Containers</code> &amp; <code>Images</code> å®¹å™¨å’Œé•œåƒ</h5><p><code>Docker Desktop</code> æ˜¯ <code>Docker</code> çš„å›¾å½¢åŒ–ç•Œé¢ï¼Œ<code>Docker Desktop</code> å°è£…äº†å®¹å™¨æ—¥å¸¸ä½¿ç”¨å’Œç®¡ç†çš„å„ç§å¸¸ç”¨åŠŸèƒ½ï¼Œæ‰“å¼€æ§åˆ¶å°é¢æ¿åï¼Œå¯ä»¥çœ‹åˆ° <strong><code>Containers</code> å®¹å™¨</strong>å’Œ**<code>Images</code>é•œåƒ**ï¼Œè¿™ä¸¤ä¸ªèœå•é¡¹åˆ†åˆ«ç”¨äºæŸ¥çœ‹æœ¬æœºçš„å®¹å™¨åˆ—è¡¨å’Œé•œåƒåˆ—è¡¨ã€‚</p>
<p>å¯¹äºèœå•é¡¹ä¸­çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€ç³»åˆ—æ“ä½œã€‚</p>
<img src="./DockerQuickIN/DockerDesktopImagesMenu.png">

<p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡» <code>RUN</code> æŒ‰é’®è¿è¡Œä¸€ä¸ªé•œåƒï¼Œç­‰åŒäºæ‰§è¡Œäº† <code>docker run</code> å‘½ä»¤ã€‚ç‚¹å‡»ä¸‰ä¸ªå°åœ†ç‚¹ï¼Œæœ‰å‡ ä¸ªé€‰é¡¹ <code>Inspect</code>ã€<code>Pull</code>ã€<code>Push to Hub</code>ã€<code>Remove</code>ï¼Œåˆ†åˆ«ç”¨äºæŸ¥çœ‹é•œåƒçš„è¯¦ç»†ä¿¡æ¯ã€æ‹‰å–é•œåƒã€æ¨é€é•œåƒã€ç§»é™¤é•œåƒã€‚</p>
<h5 id="3-1-2-Docker-Volumes-é€»è¾‘å·"><a href="#3-1-2-Docker-Volumes-é€»è¾‘å·" class="headerlink" title="3.1.2 Docker Volumes é€»è¾‘å·"></a>3.1.2 <code>Docker Volumes</code> é€»è¾‘å·</h5><p>æ­¤å¤–ï¼Œè¿˜æœ‰ <strong><code>Volumes</code> é€»è¾‘å·</strong> èœå•é¡¹ï¼Œåœ¨è¿™ä¸ªèœå•é¡¹åˆ—è¡¨ä¸­å¯ä»¥çœ‹åˆ°å®¹å™¨çš„é€»è¾‘å·ï¼Œé€»è¾‘å·æ˜¯ <code>Docker</code> ä¸­ç”¨æ¥å­˜å‚¨çš„ã€‚</p>
<p><code>Docker</code> å®¹å™¨æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯å®¹å™¨ä¸­çš„æ•°æ®æ˜¯ä¸ä¼šæŒä¹…åŒ–çš„ï¼Œå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œå®ƒé€šå¸¸ä»¥ä¸€ä¸ªå¹²å‡€çš„æ–‡ä»¶ç³»ç»Ÿå¼€å§‹ï¼Œå®¹å™¨å¯åŠ¨ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–‡ä»¶ä¸­åˆ›å»ºæ–‡ä»¶ã€ä¿®æ”¹æ–‡ä»¶ï¼Œä½†æ˜¯å½“å®¹å™¨åœæ­¢ä¹‹åï¼Œå®¹å™¨ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šä¸¢å¤±æ‰ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦å¯¹äº <code>Docker</code> ä¸­çš„æ•°æ®è¿›è¡Œå®¹å™¨çš„æŒä¹…åŒ–åº”è¯¥æ€ä¹ˆåšï¼Ÿ</p>
<p>é€»è¾‘å·å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œå®ƒå¯ä»¥å°†å®¹å™¨ä¸­çš„ç›®å½•æˆ–è€…æŒ‡å®šè·¯å¾„æ˜ å°„åˆ°å®¿ä¸»æœºçš„æŸä¸€ç›®å½•æˆ–è€…ä½ç½®ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥å°†æ•°æ®ä¿å­˜åˆ°å®¿ä¸»æœºçš„ç£ç›˜ä¸Šï¼Œå®ç°äº†æ•°æ®çš„æŒä¹…åŒ–ã€‚</p>
<h5 id="3-1-3-Docker-Dev-Environments-å¼€å‘ç¯å¢ƒ"><a href="#3-1-3-Docker-Dev-Environments-å¼€å‘ç¯å¢ƒ" class="headerlink" title="3.1.3 Docker Dev Environments å¼€å‘ç¯å¢ƒ"></a>3.1.3 <code>Docker Dev Environments</code> å¼€å‘ç¯å¢ƒ</h5><p>ç”¨äºç®¡ç†å¼€å‘ç¯å¢ƒï¼Œç®€å•æ¥è¯´å°±æ˜¯å¯ä»¥åˆ›å»ºä¸€ä¸ªå¼€å‘ç¯å¢ƒï¼Œç„¶åé€šè¿‡ä¸€äº›ä»£ç é…ç½®è¿™ä¸ªå¼€å‘ç¯å¢ƒï¼Œè¿™æ ·å°±å¯ä»¥å°†è¿™ä¸ªå¼€å‘ç¯å¢ƒå…±äº«ç»™é¡¹ç›®ä¸­çš„å…¶ä»–å¼€å‘äººå‘˜ï¼Œè®©æ¯ä¸ªäººéƒ½åœ¨ä¸€ä¸ªç›¸åŒçš„ç¯å¢ƒä¸‹è¿›è¡Œå¼€å‘ï¼Œé¿å…å› ä¸ºç¯å¢ƒçš„ä¸ä¸€è‡´å¯¼è‡´çš„å„ç§é—®é¢˜ã€‚</p>
<h3 id="ğŸ³-4-å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ª-Docker-é•œåƒ"><a href="#ğŸ³-4-å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ª-Docker-é•œåƒ" class="headerlink" title="ğŸ³ 4. å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ª Docker é•œåƒ"></a>ğŸ³ 4. å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ª <code>Docker</code> é•œåƒ</h3><h4 id="4-1-å®¹å™¨åŒ–å’Œ-Dockerfile"><a href="#4-1-å®¹å™¨åŒ–å’Œ-Dockerfile" class="headerlink" title="4.1 å®¹å™¨åŒ–å’Œ Dockerfile"></a>4.1 å®¹å™¨åŒ–å’Œ <code>Dockerfile</code></h4><p>**å®¹å™¨åŒ–(Containerization)**ï¼šå°±æ˜¯å°†åº”ç”¨ç¨‹åºæ‰“åŒ…æˆå®¹å™¨ï¼Œç„¶ååœ¨å®¹å™¨ä¸­è¿è¡Œåº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ã€‚</p>
<p>å®¹å™¨åŒ–çš„è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ª <code>Dockerfile</code>ï¼šæ¥å‘Šè¯‰ <code>Docker</code> æ„å»ºåº”ç”¨ç¨‹åºé•œåƒæ‰€éœ€è¦çš„æ­¥éª¤å’Œé…ç½®ã€‚</li>
<li>ä½¿ç”¨ <code>Dockerfile</code> æ„å»ºé•œåƒã€‚</li>
<li>ä½¿ç”¨é•œåƒåˆ›å»ºå’Œè¿è¡Œå®¹å™¨ã€‚</li>
</ol>
<p><code>Dockerfile</code> æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«äº†ä¸€æ¡æ¡æŒ‡ä»¤ï¼Œç”¨äºå‘Šè¯‰ <code>Docker</code> å¦‚ä½•æ„å»ºé•œåƒï¼Œè¿™ä¸ªé•œåƒä¸­åŒ…æ‹¬äº†æˆ‘ä»¬åº”ç”¨ç¨‹åºæ‰§è¡Œçš„æ‰€æœ‰å‘½ä»¤ï¼Œå¦‚å„ç§ä¾èµ–ã€é…ç½®ç¯å¢ƒå’Œè¿è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„æ‰€æœ‰å†…å®¹ï¼Œä¸€èˆ¬æ¥è¯´åŒ…æ‹¬ï¼šç²¾ç®€ç‰ˆçš„æ“ä½œç³»ç»Ÿï¼ˆå¦‚<code>Alpine</code>ï¼‰ã€åº”ç”¨ç¨‹åºçš„è¿è¡Œæ—¶ç¯å¢ƒï¼ˆå¦‚<code>NodeJS</code>ã€<code>Python</code>ã€<code>Java</code>ï¼‰ã€åº”ç”¨ç¨‹åºï¼ˆå¦‚æ‰“åŒ…å¥½çš„ <code>jar</code> åŒ…ï¼‰ã€åº”ç”¨ç¨‹åºçš„ç¬¬ä¸‰æ–¹ä¾èµ–åº“æˆ–åŒ…ã€åº”ç”¨ç¨‹åºçš„é…ç½®æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ç­‰ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¼šåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå« <code>Dockerfile</code> çš„æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å†™å…¥æ„å»ºé•œåƒæ‰€éœ€è¦çš„å„ç§æŒ‡ä»¤ä¹‹åï¼Œ<code>Docker</code> å°±ä¼šæ ¹æ®è¿™ä¸ª <code>Dockerfile</code> æ–‡ä»¶æ¥æ„å»ºä¸€ä¸ªé•œåƒï¼Œæœ‰äº†è¿™ä¸ªé•œåƒåï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è¿™ä¸ªé•œåƒæ¥åˆ›å»ºå®¹å™¨ï¼Œç„¶ååœ¨å®¹å™¨ä¸­è¿è¡Œåº”ç”¨ç¨‹åºã€‚</p>
<h4 id="4-2-ç¼–å†™-Dockerfile"><a href="#4-2-ç¼–å†™-Dockerfile" class="headerlink" title="4.2 ç¼–å†™ Dockerfile"></a>4.2 ç¼–å†™ <code>Dockerfile</code></h4><ol>
<li>æ–°å»ºä¸€ä¸ªåä¸º <code>HelloDocker</code> çš„æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨ <code>VSCode</code> æ‰“å¼€è¯¥æ–‡ä»¶å¤¹</li>
<li>åœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª <code>index.js</code> æ–‡ä»¶ï¼Œç®€å•çš„è¾“å…¥ä¸€äº›ä»£ç å†…å®¹ï¼Œæ¯”å¦‚è¾“å‡ºä¸€æ®µå†…å®¹åˆ°æ§åˆ¶å°</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello Docker!&quot;</span>);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>NodeJS</code> æ¥æµ‹è¯•è¿™ä¸ª <code>JavaScript</code> æ–‡ä»¶ï¼Œ<code>NodeJS</code> æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶ç¯å¢ƒï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¹‹å¤–çš„ç¯å¢ƒè¿è¡Œ <code>JavaScript</code> ä»£ç ã€‚<code>JavaScript</code> å’Œ <code>NodeJS</code> çš„å…³ç³»å°±åƒ <code>Java</code> å’Œ <code>JRE</code> çš„å…³ç³»ä¸€æ ·ï¼Œå¦‚æœæƒ³åœ¨æµè§ˆå™¨ä¹‹å¤–çš„ç¯å¢ƒä¸­è¿è¡Œ <code>JavaScript</code> ä»£ç å°±éœ€è¦ <code>NodeJS</code>ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿è¡Œ <code>index.js</code>ã€‚</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\HelloDocker&gt; node index.js</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬æƒ³è¦åœ¨å¦ä¸€ä¸ªç¯å¢ƒä¸­è¿è¡Œè¿™ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œéƒ½éœ€è¦æ‰§è¡Œé‚£äº›æ­¥éª¤å‘¢ï¼Ÿ</p>
<ul>
<li>å®‰è£…æ“ä½œç³»ç»Ÿ</li>
<li>å®‰è£… <code>JavaScript</code> çš„è¿è¡Œç¯å¢ƒ</li>
<li>å¤åˆ¶åº”ç”¨ç¨‹åºã€ä¾èµ–åŒ…ã€é…ç½®æ–‡ä»¶</li>
<li>æ‰§è¡Œå¯åŠ¨å‘½ä»¤è¿è¡Œç¨‹åº</li>
</ul>
<p>è€Œæœ‰äº† <code>Docker</code> åï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°çš„æ­¥éª¤å†™å…¥åˆ° <code>Dockerfile</code> ä¸­ï¼Œå‰©ä¸‹çš„å·¥ä½œäº¤ç»™ <code>Docker</code> è‡ªåŠ¨å®Œæˆã€‚</p>
</li>
<li><p>åˆ›å»º <code>Dockerfile</code> æ–‡ä»¶</p>
<p>åœ¨ <code>Dockerfile</code> ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæŒ‡å®šä¸€ä¸ªåŸºç¡€é•œåƒï¼Œé•œåƒæ˜¯æŒ‰å±‚æ¬¡ç»“æ„æ¥æ„å»ºçš„ï¼Œæ¯ä¸€å±‚éƒ½æ˜¯åŸºäºä¸Šä¸€å±‚çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆæŒ‡å®šä¸€ä¸ªåŸºç¡€é•œåƒï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p>
<p>æ³¨æ„ <code>Dockerfile</code> ä¸­ä¸éœ€è¦æ³¨é‡Šï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†ä¾¿äºç†è§£æ‰€ä»¥æ·»åŠ äº†æ³¨é‡Š</p>
</li>
</ol>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šåŸºç¡€é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> node:<span class="number">14</span>-alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶ æœ¬åœ°è·¯å¾„çš„ JS æ–‡ä»¶åˆ°é•œåƒçš„æ ¹ç›®å½•ä¸‹</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> index.js /</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ CMD å‘½ä»¤è¿è¡Œè¯¥ç¨‹åº CMD [&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg...&quot;], å…¶ä¸­ arg1 è¡¨ç¤ºå¯æ‰§è¡Œç¨‹åºçš„åå­—, arg2 åŠä»¥åçš„å‚æ•°è¡¨ç¤ºå¯æ‰§è¡Œç¨‹åºçš„å‚æ•°</span></span><br><span class="line"><span class="comment"># å¯ä»¥å†™æˆè¿™ç§å½¢å¼: CMD node /index.js</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;node&quot;</span>, <span class="string">&quot;/index.js&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<h4 id="4-3-åˆ›å»ºé•œåƒ"><a href="#4-3-åˆ›å»ºé•œåƒ" class="headerlink" title="4.3 åˆ›å»ºé•œåƒ"></a>4.3 åˆ›å»ºé•œåƒ</h4><ol start="6">
<li><p>æ„å»º <code>Docker</code> é•œåƒ</p>
<p>æ‰§è¡Œ <code>docker build</code> å‘½ä»¤ï¼Œ<code>hello-docker</code> æ˜¯é•œåƒåç§°ï¼›<code>.</code> è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œå³ <code>Dockerfile</code> æ‰€åœ¨ç›®å½•ã€‚</p>
</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\HelloDocker&gt; docker build <span class="literal">-t</span> hello<span class="literal">-docker</span> .</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>æ‰§è¡Œå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤<code>docker images</code> æˆ– <code>docker image ls</code> æŸ¥çœ‹æ‰€æœ‰é•œåƒã€‚</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\HelloDocker&gt; docker images</span><br><span class="line">REPOSITORY        TAG                              IMAGE ID       CREATED          SIZE</span><br><span class="line">hello<span class="literal">-docker</span>      latest                           <span class="number">31429</span>fa0e1e7   <span class="number">22</span> seconds ago   <span class="number">119</span>MB</span><br></pre></td></tr></table></figure>

<h4 id="4-4-å¯åŠ¨å®¹å™¨"><a href="#4-4-å¯åŠ¨å®¹å™¨" class="headerlink" title="4.4 å¯åŠ¨å®¹å™¨"></a>4.4 å¯åŠ¨å®¹å™¨</h4><ol start="8">
<li>ä½¿ç”¨ <code>docker run</code> å‘½ä»¤è¿è¡Œå®¹å™¨ã€‚</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\HelloDocker&gt; docker run hello<span class="literal">-docker</span></span><br><span class="line">Hello Docker!</span><br></pre></td></tr></table></figure>

<h4 id="4-5-åœ¨å…¶ä»–è®¾å¤‡ä¸Šæµ‹è¯•å®¹å™¨"><a href="#4-5-åœ¨å…¶ä»–è®¾å¤‡ä¸Šæµ‹è¯•å®¹å™¨" class="headerlink" title="4.5 åœ¨å…¶ä»–è®¾å¤‡ä¸Šæµ‹è¯•å®¹å™¨"></a>4.5 åœ¨å…¶ä»–è®¾å¤‡ä¸Šæµ‹è¯•å®¹å™¨</h4><ol start="9">
<li><p>ä¸ºäº†æµ‹è¯•æˆ‘ä»¬çš„å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†æˆ‘ä»¬çš„é•œåƒä¸Šä¼ åˆ° <code>Docker Hub</code> æˆ–è€… <code>Harbor</code> é•œåƒä»“åº“ä¸­ï¼Œä¸Šä¼ å®Œæˆä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://labs.play-with-docker.com/">Play with Docker</a> è¿›è¡Œæµ‹è¯•ã€‚</p>
<p>ä¸Šä¼ é•œåƒå¯ä»¥ä½¿ç”¨ <code>docker push</code> å‘½ä»¤ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¨é€é•œåƒå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼š<code>dockerï¼šdenied: requested access to the resource is denied</code>ï¼Œé‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶ï¼Œå¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://blog.csdn.net/fengpengfei_yes/article/details/113838579">è§£å†³dockerï¼šdenied: requested access to the resource is denied_docker login - CSDN</a>ã€‚</p>
<p>â‘  ç¡®ä¿è‡ªå·±ç™»å½•äº† <code>Docker</code></p>
<p>â‘¡ å°†é•œåƒæ‰“ <code>TAG</code>ï¼Œä½¿ç”¨ <code>docker tag hello-docker:latest nilerak/hello-docker:1.0.0</code></p>
<p>â‘¢ æ¨é€é•œåƒï¼Œä½¿ç”¨ <code>docker push nilerak/hello-docker:1.0.0</code></p>
</li>
<li><p>ä½¿ç”¨ <code>docker pull</code> å‘½ä»¤ä¸‹è½½é•œåƒæ–‡ä»¶ã€‚</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nilerak/hello-docker:1.0.0</span><br></pre></td></tr></table></figure>

<img src="./DockerQuickIN/DockerPull01.png" style="width:700px">

<img src="./DockerQuickIN/DockerPull02.png" style="width:700px">

<img src="./DockerQuickIN/DockerPull03.png"  style="width:700px">

<h3 id="ğŸ³-5-å¦‚ä½•è¿è¡Œä¸€ä¸ª-Docker-å®¹å™¨"><a href="#ğŸ³-5-å¦‚ä½•è¿è¡Œä¸€ä¸ª-Docker-å®¹å™¨" class="headerlink" title="ğŸ³ 5. å¦‚ä½•è¿è¡Œä¸€ä¸ª Docker å®¹å™¨"></a>ğŸ³ 5. å¦‚ä½•è¿è¡Œä¸€ä¸ª <code>Docker</code> å®¹å™¨</h3><h3 id="ğŸ³-6-Docker-Compose-å’Œ-Kubernetes"><a href="#ğŸ³-6-Docker-Compose-å’Œ-Kubernetes" class="headerlink" title="ğŸ³ 6. Docker Compose å’Œ Kubernetes"></a>ğŸ³ 6. <code>Docker Compose</code> å’Œ <code>Kubernetes</code></h3><h4 id="6-1-Docker-Compose"><a href="#6-1-Docker-Compose" class="headerlink" title="6.1 Docker Compose"></a>6.1 Docker Compose</h4><p>Docker Compose æ˜¯ Docker å®˜æ–¹çš„å¼€æºé¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ <code>Docker</code> åº”ç”¨ç¨‹åºçš„å·¥å…·ï¼Œä½¿ç”¨ <code>Yaml</code> æ–‡ä»¶é…ç½®åº”ç”¨ç¨‹åºçš„æœåŠ¡ï¼Œåªéœ€è¿è¡Œä¸€æ¡å‘½ä»¤å³å¯åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰çš„æœåŠ¡ã€‚</p>
<p>ä¾‹å¦‚æˆ‘ä»¬çš„é¡¹ç›®å¯èƒ½éœ€è¦å‰ç«¯ï¼ˆVueï¼‰ã€åç«¯ï¼ˆSpringBootï¼‰ã€æ•°æ®åº“ï¼ˆMySQLï¼‰ã€ç¼“å­˜ï¼ˆRedisï¼‰ã€è´Ÿè½½å‡è¡¡ï¼ˆNginxï¼‰ç­‰å¤šä¸ªæœåŠ¡å™¨ï¼Œè¿™äº›æœåŠ¡ç›¸äº’ç‹¬ç«‹ï¼Œä½†æ˜¯åˆå­˜åœ¨ä¸€å®šçš„å…³è”ï¼Œéœ€è¦ç›¸äº’é…åˆæ¥å·¥ä½œï¼Œå‰ç«¯éœ€è¦è¿æ¥åç«¯ã€åç«¯éœ€è¦è¿æ¥æ•°æ®åº“ã€‚è¿™äº›æœåŠ¡ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œå°±æ˜¯ <code>Docker Compose</code> è¦è§£å†³çš„é—®é¢˜ã€‚å®ƒé€šè¿‡ä¸€ä¸ªå•ç‹¬çš„ <code>docker-compose.yaml</code> æ–‡ä»¶æ¥å°†è¿™ä¸€ç»„äº’ç›¸å…³è”çš„å®¹å™¨ç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªé¡¹ç›®ï¼Œç„¶åä½¿ç”¨ä¸€æ¡å‘½ä»¤ <code>docker compose up</code> å³å¯å¯åŠ¨ã€åœæ­¢ã€é‡å»ºè¿™äº›æœåŠ¡ï¼Œè¿™æ ·å°±å¯ä»¥éå¸¸æ–¹ä¾¿çš„ç®¡ç†è¿™äº›æœåŠ¡äº†ã€‚</p>
<h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lqpf199681/article/details/110518692">Dockerè¶…è¯¦ç»†åŸºç¡€æ•™ç¨‹ - CSDNåšå®¢</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-06-23T04:27:44.000Z" title="2024/6/23 12:27:44">2024-06-23</time>å‘è¡¨</span><span class="level-item"><time dateTime="2024-06-24T08:40:14.154Z" title="2024/6/24 16:40:14">2024-06-24</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/CppDev/">CppDev</a><span>Â /Â </span><a class="link-muted" href="/categories/CppDev/Gaming/">Gaming</a></span><span class="level-item">5 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦756ä¸ªå­—)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/23/CppGamingDEV-PVZ-BASE-EASYX/">CppGamingDEV_PVZ_BASE_EASYX</a></p><div class="content"><h2 id="ğŸ®-ä»é›¶å¼€å§‹è¿›è¡Œ-C-æ¸¸æˆå¼€å‘"><a href="#ğŸ®-ä»é›¶å¼€å§‹è¿›è¡Œ-C-æ¸¸æˆå¼€å‘" class="headerlink" title="ğŸ® ä»é›¶å¼€å§‹è¿›è¡Œ C++ æ¸¸æˆå¼€å‘"></a>ğŸ® ä»é›¶å¼€å§‹è¿›è¡Œ C++ æ¸¸æˆå¼€å‘</h2><p>[TOC]</p>
<h3 id="æ¸¸æˆåœºæ™¯æ¦‚å¿µ"><a href="#æ¸¸æˆåœºæ™¯æ¦‚å¿µ" class="headerlink" title="æ¸¸æˆåœºæ™¯æ¦‚å¿µ"></a>æ¸¸æˆåœºæ™¯æ¦‚å¿µ</h3><ul>
<li><strong>ä»€ä¹ˆæ˜¯åœºæ™¯?</strong><br>å¦‚æœå°†è¦æ¸¸æˆç¨‹åºæ¯”ä½œæ˜¯ä¸€åœºæœ‰ç©å®¶å‚ä¸çš„ç››å¤§æ¼”å‡ºï¼Œé‚£åœºæ™¯å°±æ˜¯æ¼”å‡ºè¿‡ç¨‹ä¸­çš„ä¸€å¹•ã€‚åœ¨ä¸åŒçš„å¹•ä¸­ï¼Œä¼šæœ‰ä¸åŒçš„å‰§æœ¬é€»è¾‘ï¼Œä¹Ÿå¯èƒ½ä¼šæœ‰ä¸åŒçš„è§’è‰²ç™»åœºï¼Œè¿™äº›è§’è‰²å³æ¸¸æˆå¼€å‘ä¸­å¸¸æåˆ°çš„ <code>GameObject</code> çš„æ¦‚å¿µã€‚<br>ä¸è®ºæ˜¯ç©å®¶ã€æ•Œäººè¿˜æ˜¯å­å¼¹ã€é“å…·ç­‰ï¼Œè¿™äº›ä»æ¦‚å¿µä¸Šè®²éƒ½æ˜¯ <code>GameObject</code> çš„èŒƒç•´ã€‚ä»–ä»¬æ¥å—ç€ä¸åŒçš„åœºæ™¯å‰§æœ¬çš„æŒ‡æŒ¥ï¼Œè¿›è¡Œç€ä¸åŒé€»è¾‘çš„æ¼”å‡ºã€‚<br>äº†è§£äº†è¿™äº›ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹ç¨‹åºçš„æµç¨‹è¿›è¡Œå®è§‚çš„åˆ’åˆ†ï¼Œæ¸¸æˆçš„ä¸»èœå•æ˜¯ä¸€ä¸ªåœºæ™¯ï¼Œç©å®¶è§’è‰²é€‰æ‹©ç•Œé¢ä¹Ÿæ˜¯ä¸€ä¸ªåœºæ™¯ï¼Œæ¸¸æˆå±€å†…çš„é€»è¾‘ä¹Ÿéœ€è¦æ”¾ç½®åœ¨ä¸€ä¸ªå•ç‹¬çš„åœºæ™¯ä¸­ã€‚<br>æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥å®šä¹‰ä¸€ä¸ª <code>Scene</code> åœºæ™¯åŸºç±»ï¼Œ<strong>ä¸»èœå•</strong>ã€<strong>è§’è‰²é€‰æ‹©</strong>ã€<strong>å±€å†…æ¸¸æˆ</strong> ä½œä¸ºæ–°ç±»åˆ†åˆ«ç»§æ‰¿ <code>Scene</code> ç±»ã€‚</li>
</ul>
<h3 id="æ¸¸æˆä¸»å¾ªç¯æ¡†æ¶æ¦‚å¿µ"><a href="#æ¸¸æˆä¸»å¾ªç¯æ¡†æ¶æ¦‚å¿µ" class="headerlink" title="æ¸¸æˆä¸»å¾ªç¯æ¡†æ¶æ¦‚å¿µ"></a>æ¸¸æˆä¸»å¾ªç¯æ¡†æ¶æ¦‚å¿µ</h3><ul>
<li><strong>ä»€ä¹ˆæ˜¯æ¸¸æˆä¸»å¾ªç¯æ¡†æ¶?</strong><br>æ¸¸æˆç¨‹åºçš„ä¸»ä½“æ˜¯ä¸€ä¸ªæ°¸ä¸åœæ­‡çš„æ­»å¾ªç¯ã€‚åœ¨æ¯æ¬¡å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬è¯»å–ç©å®¶çš„æ“ä½œä¿¡æ¯ï¼Œå¹¶æ ¹æ®è¿™äº›æ“ä½œï¼Œå¤„ç†ç©å®¶æ•°æ®æ›´æ–°ï¼Œåœ¨æœ€åçš„ç»˜å›¾é˜¶æ®µå°†æ¸¸æˆç”»é¢æ ¹æ®è¿™äº›æ›´æ–°åçš„æ•°æ®æ¸²æŸ“å‡ºæ¥ã€‚<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">åˆå§‹åŒ–();</span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    è¯»å–æ“ä½œ();</span><br><span class="line">    å¤„ç†æ•°æ®();</span><br><span class="line">    ç»˜åˆ¶ç”»é¢();</span><br><span class="line">&#125;</span><br><span class="line">æ–½æ”¾èµ„æº;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="C-å¤´æ–‡ä»¶"><a href="#C-å¤´æ–‡ä»¶" class="headerlink" title="C++ å¤´æ–‡ä»¶"></a>C++ å¤´æ–‡ä»¶</h3><ul>
<li>ä¸ºä»€ä¹ˆéœ€è¦å¤´æ–‡ä»¶å«å£«?<br>å¦‚æœä¸ä½¿ç”¨å¤´æ–‡ä»¶å«å£«ï¼Œå¯èƒ½ä¼šå¯¼è‡´å‡ºç°é‡å®šä¹‰çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¤´æ–‡ä»¶ <code>A.h</code> ï¼Œæœ‰ä¸€ä¸ªå¤´æ–‡ä»¶ <code>B.h</code>ï¼Œå¤´æ–‡ä»¶ <code>B.h</code> ä¸­ä½¿ç”¨äº† <code>A.h</code> çš„å†…å®¹ã€‚å½“æˆ‘ä»¬åœ¨ä¸»å‡½æ•°é‡Œé¢ä½¿ç”¨äº† <code>A.h</code> å’Œ <code>B.h</code> çš„æ—¶å€™ï¼Œä½¿ç”¨ <code>#include</code> æ—¶ä¼šå°†å¤´æ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨<strong>å¤åˆ¶</strong>åˆ° <code>#include</code> çš„éƒ¨åˆ†ã€‚è¿™æ ·çš„è¯å¦‚æœä¸åŠ å¤´æ–‡ä»¶å«å£«ï¼Œå°±ä¼šå¯¼è‡´é‡å®šä¹‰çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A.h</span></span><br><span class="line"><span class="type">int</span> a;</span><br><span class="line"></span><br><span class="line"><span class="comment">// B.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;A.h&quot;</span></span></span><br><span class="line"><span class="type">int</span> b;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;A.h&quot;</span>      <span class="comment">// int a;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;B.h&quot;</span>      <span class="comment">// int a;</span></span></span><br><span class="line">                    <span class="comment">// int b;</span></span><br><span class="line">                    <span class="comment">// å‡ºç°é‡å®šä¹‰é”™è¯¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é”™è¯¯ä¿¡æ¯å¦‚ä¸‹</span></span><br><span class="line">In file included from B.h:<span class="number">1</span>,</span><br><span class="line">             from main.cpp:<span class="number">2</span>:</span><br><span class="line">A.h:<span class="number">1</span>:<span class="number">5</span>: error: redefinition of <span class="string">&#x27;int a&#x27;</span></span><br><span class="line">    <span class="number">1</span> | <span class="type">int</span> a;</span><br><span class="line">      |     ^</span><br><span class="line">In file included from main.cpp:<span class="number">1</span>:</span><br><span class="line">A.h:<span class="number">1</span>:<span class="number">5</span>: note: <span class="string">&#x27;int a&#x27;</span> previously declared here</span><br><span class="line">    <span class="number">1</span> | <span class="type">int</span> a;</span><br><span class="line">      |     ^</span><br></pre></td></tr></table></figure>
åœ¨ <code>MSVC</code> ç¼–è¯‘å™¨ä¸­ï¼Œå¤´æ–‡ä»¶å«å£«å¦‚ä¸‹ï¼š  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br></pre></td></tr></table></figure>
åœ¨å…¶ä»–çš„ä¸€äº›ç¼–è¯‘å™¨ä¸­ï¼Œå¸¸å†™ä¸ºè¿™æ ·ï¼š  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __HEADER_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __HEADER_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="åœºæ™¯ç®¡ç†å™¨"><a href="#åœºæ™¯ç®¡ç†å™¨" class="headerlink" title="åœºæ™¯ç®¡ç†å™¨"></a>åœºæ™¯ç®¡ç†å™¨</h3><p>æ¸¸æˆç¨‹åºæ˜¯ä¸€ä¸ªå·¨å¤§çš„æ­»å¾ªç¯ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå·¨å¤§çš„çŠ¶æ€æœºã€‚ä¸åŒçš„æ¸¸æˆåœºæ™¯ä»£è¡¨ç€ä¸åŒçš„çŠ¶æ€ï¼Œç®¡ç†ç€è¿™äº›çŠ¶æ€çš„â€œçŠ¶æ€æœºâ€ï¼Œåœ¨æ¸¸æˆå¼€å‘ä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šçš„åå­—â€”â€”åœºæ™¯ç®¡ç†å™¨ã€‚</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/">ä¸Šä¸€é¡µ</a></div><div class="pagination-next"><a href="/page/3/">ä¸‹ä¸€é¡µ</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link is-current" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li><li><a class="pagination-link" href="/page/5/">5</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatarMyself.jpg" alt="NilEra"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">NilEra</p><p class="is-size-6 is-block">C/C++ Developer!</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Jinan Shandong</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">43</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">37</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">43</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/NilEra-K" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/NilEra-K"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">é“¾æ¥</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://github.com/NilEra-K" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">GitHub</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://nano.chemtian.top/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Thymol Blue</span></span><span class="level-right"><span class="level-item tag">nano.chemtian.top</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">åˆ†ç±»</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/CppDev/"><span class="level-start"><span class="level-item">CppDev</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/CppDev/Gaming/"><span class="level-start"><span class="level-item">Gaming</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CppDev/QT6/"><span class="level-start"><span class="level-item">QT6</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CppDev/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">å¤šçº¿ç¨‹ç¼–ç¨‹</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CppDev/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">ç½‘ç»œç¼–ç¨‹</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CppDev/%E8%AF%AD%E6%B3%95%E7%82%B9/"><span class="level-start"><span class="level-item">è¯­æ³•ç‚¹</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/CppDev/%E8%AF%AD%E6%B3%95%E7%82%B9/bind/"><span class="level-start"><span class="level-item">bind</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CppDev/%E8%AF%AD%E6%B3%95%E7%82%B9/enum-class/"><span class="level-start"><span class="level-item">enum class</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CppDev/%E8%AF%AD%E6%B3%95%E7%82%B9/%E8%99%9A%E5%87%BD%E6%95%B0/"><span class="level-start"><span class="level-item">è™šå‡½æ•°</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/%E8%BD%AF%E4%BB%B6%E6%BA%90/"><span class="level-start"><span class="level-item">è½¯ä»¶æº</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/"><span class="level-start"><span class="level-item">å¤§æ•°æ®æŠ€æœ¯</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/ECharts/"><span class="level-start"><span class="level-item">ECharts</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/HBase/"><span class="level-start"><span class="level-item">HBase</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/Scala/"><span class="level-start"><span class="level-item">Scala</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/Spark/"><span class="level-start"><span class="level-item">Spark</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"><span class="level-start"><span class="level-item">æ•°æ®å¯è§†åŒ–</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">é¡¹ç›®</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">å¼€å‘å·¥å…·</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Axure-RP-9/"><span class="level-start"><span class="level-item">Axure RP 9</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/SVN/"><span class="level-start"><span class="level-item">SVN</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/VSCode/"><span class="level-start"><span class="level-item">VSCode</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">æ•°æ®ç»“æ„/ç®—æ³•</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/%E5%93%88%E5%B8%8C-Hash/"><span class="level-start"><span class="level-item">å“ˆå¸Œ(Hash)</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/%E6%A0%88-Stack/"><span class="level-start"><span class="level-item">æ ˆ(Stack)</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/%E6%A0%91-Tree/"><span class="level-start"><span class="level-item">æ ‘(Tree)</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">æ·±åº¦å­¦ä¹ </span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/Kaggle/"><span class="level-start"><span class="level-item">Kaggle</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/LLMs/"><span class="level-start"><span class="level-item">LLMs</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/PyTorch/"><span class="level-start"><span class="level-item">PyTorch</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/Stable-Diffusion/"><span class="level-start"><span class="level-item">Stable_Diffusion</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84/"><span class="level-start"><span class="level-item">ç½‘ç»œæ¶æ„</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84/Kolmogorov-Arnold-Networks/"><span class="level-start"><span class="level-item">Kolmogorov-Arnold Networks</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/%E9%97%B2%E8%81%8A/"><span class="level-start"><span class="level-item">é—²èŠ</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E9%97%B2%E8%81%8A/%E8%AE%A1%E5%88%92/"><span class="level-start"><span class="level-item">è®¡åˆ’</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">è®¢é˜…æ›´æ–°</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="è®¢é˜…"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="è®¢é˜…"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-12T02:03:09.000Z">2024-09-12</time></p><p class="title"><a href="/2024/09/12/RedHat-Build-LLM/">RedHat-Build-LLM</a></p><p class="categories"><a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">æ·±åº¦å­¦ä¹ </a> / <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/LLMs/">LLMs</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-11T01:06:12.000Z">2024-09-11</time></p><p class="title"><a href="/2024/09/11/SVN-Quick-IN/">SVN-Quick-IN</a></p><p class="categories"><a href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">å¼€å‘å·¥å…·</a> / <a href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/SVN/">SVN</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-05T07:07:36.000Z">2024-09-05</time></p><p class="title"><a href="/2024/09/05/How2Use-Stable-Diffusion/">How2Use_Stable_Diffusion</a></p><p class="categories"><a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">æ·±åº¦å­¦ä¹ </a> / <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/Stable-Diffusion/">Stable_Diffusion</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-08-22T09:58:38.000Z">2024-08-22</time></p><p class="title"><a href="/2024/08/22/Kolmogorov-Arnold-Networks/">Kolmogorov-Arnold Networks</a></p><p class="categories"><a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">æ·±åº¦å­¦ä¹ </a> / <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84/">ç½‘ç»œæ¶æ„</a> / <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84/Kolmogorov-Arnold-Networks/">Kolmogorov-Arnold Networks</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-08-18T02:35:39.000Z">2024-08-18</time></p><p class="title"><a href="/2024/08/18/Create-AN-Environment-of-Kaggle/">Create_AN_Environment_of_Kaggle</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">å½’æ¡£</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/09/"><span class="level-start"><span class="level-item">ä¹æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/08/"><span class="level-start"><span class="level-item">å…«æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/07/"><span class="level-start"><span class="level-item">ä¸ƒæœˆ 2024</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">å…­æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">äº”æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/04/"><span class="level-start"><span class="level-item">å››æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/03/"><span class="level-start"><span class="level-item">ä¸‰æœˆ 2024</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">æ ‡ç­¾</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Axure-RP-9/"><span class="tag">Axure RP 9</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C-11-%E6%96%B0%E6%A0%87%E5%87%86/"><span class="tag">C++ 11 æ–°æ ‡å‡†</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CppDev/"><span class="tag">CppDev</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ECharts/"><span class="tag">ECharts</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/EasyX/"><span class="tag">EasyX</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GameDev/"><span class="tag">GameDev</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HBase/"><span class="tag">HBase</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hadoop/"><span class="tag">Hadoop</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaDev/"><span class="tag">JavaDev</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/KAN/"><span class="tag">KAN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kaggle/"><span class="tag">Kaggle</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LLMs/"><span class="tag">LLMs</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LM-Studio/"><span class="tag">LM-Studio</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MyBatis-Plus/"><span class="tag">MyBatis-Plus</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PowerInfer/"><span class="tag">PowerInfer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PyTorch/"><span class="tag">PyTorch</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/QT6/"><span class="tag">QT6</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/R/"><span class="tag">R</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RedHat/"><span class="tag">RedHat</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SVN/"><span class="tag">SVN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Scala/"><span class="tag">Scala</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spark/"><span class="tag">Spark</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Stable-Diffusion/"><span class="tag">Stable Diffusion</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tomcat/"><span class="tag">Tomcat</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VSCode/"><span class="tag">VSCode</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZooKeeper/"><span class="tag">ZooKeeper</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B/"><span class="tag">å¤šçº¿ç¨‹ç¼–ç¨‹</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF/"><span class="tag">å¤§æ•°æ®æŠ€æœ¯</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/"><span class="tag">å¤§æ¨¡å‹</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"><span class="tag">å¼€å‘å·¥å…·</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="tag">æ•°æ®ç»“æ„</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"><span class="tag">æœºå™¨å­¦ä¹ </span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="tag">æ·±åº¦å­¦ä¹ </span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">ç®—æ³•</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><span class="tag">ç½‘ç»œç¼–ç¨‹</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%A1%E5%88%92/"><span class="tag">è®¡åˆ’</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AF%AD%E6%B3%95%E7%82%B9/"><span class="tag">è¯­æ³•ç‚¹</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AF%E4%BB%B6%E6%BA%90/"><span class="tag">è½¯ä»¶æº</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%97%B2%E8%81%8A/"><span class="tag">é—²èŠ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%A1%B9%E7%9B%AE/"><span class="tag">é¡¹ç›®</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/StarLogo.svg" alt="Hello, NilEra :-)" height="28"></a><p class="is-size-7"><span>&copy; 2024 NilEra</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">Â© 2024 å‰æ–¹âš¡é«˜èƒ½</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/NilEra-K"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "æ­¤ç½‘ç«™ä½¿ç”¨Cookieæ¥æ”¹å–„æ‚¨çš„ä½“éªŒã€‚",
          dismiss: "çŸ¥é“äº†ï¼",
          allow: "å…è®¸ä½¿ç”¨Cookie",
          deny: "æ‹’ç»",
          link: "äº†è§£æ›´å¤š",
          policy: "Cookieæ”¿ç­–",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/javascript" id="MathJax-script" async>MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      },
      chtml: {
        matchFontHeight: false
      }
    };</script><script src="https://cdnjs.loli.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js"></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container" id="algolia-input"></div><div id="algolia-poweredby" style="display:flex;margin:0 .5em 0 1em;align-items:center;line-height:0"></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div><div class="searchbox-footer"></div></div></div><script src="https://cdnjs.loli.net/ajax/libs/algoliasearch/4.0.3/algoliasearch-lite.umd.js" crossorigin="anonymous" defer></script><script src="https://cdnjs.loli.net/ajax/libs/instantsearch.js/4.3.1/instantsearch.production.min.js" crossorigin="anonymous" defer></script><script src="/js/algolia.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadAlgolia({"applicationId":"2TB5ZZYPCO","apiKey":"00a43f1d62ca7b24c8b78d5f0223c065","indexName":"dev_nilera_blog"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","no_result":"æœªæ‰¾åˆ°æœç´¢ç»“æœ","untitled":"(æ— æ ‡é¢˜)","empty_preview":"(æ— å†…å®¹é¢„è§ˆ)"});
        });</script></body></html>